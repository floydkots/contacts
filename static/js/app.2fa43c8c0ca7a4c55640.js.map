{"version":3,"sources":["webpack:///./static/avatars/floydkots_avatar.jpg","webpack:///./src/components/Drawer.vue?61ff","webpack:///./src/components/Drawer.vue","webpack:///src/components/Drawer.vue","webpack:///src/components/MainToolbar.vue","webpack:///./src/components/MainToolbar.vue?644a","webpack:///./src/components/MainToolbar.vue","webpack:///src/components/SearchToolbar.vue","webpack:///./src/components/SearchToolbar.vue?cf83","webpack:///./src/components/SearchToolbar.vue","webpack:///./src/components/SelectToolbar.vue?7aa7","webpack:///./src/components/SelectToolbar.vue","webpack:///src/components/SelectToolbar.vue","webpack:///./src/api/database.js","webpack:///./src/assets/js/slim.module.js","webpack:///src/components/Slim.vue","webpack:///./src/components/Slim.vue?08a1","webpack:///./src/components/Slim.vue","webpack:///src/App.vue","webpack:///./src/App.vue?b66e","webpack:///./src/App.vue","webpack:///src/components/EditContact.vue","webpack:///./src/components/EditContact.vue?784f","webpack:///./src/components/EditContact.vue","webpack:///src/components/ViewContact.vue","webpack:///./src/components/ViewContact.vue?3911","webpack:///./src/components/ViewContact.vue","webpack:///src/components/DeleteContact.vue","webpack:///./src/components/DeleteContact.vue?1eb0","webpack:///./src/components/DeleteContact.vue","webpack:///src/components/Contacts.vue","webpack:///./src/components/Contacts.vue?53a1","webpack:///./src/components/Contacts.vue","webpack:///src/components/AddContact.vue","webpack:///./src/components/AddContact.vue?ef44","webpack:///./src/components/AddContact.vue","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?5cdf","webpack:///./src/components/Home.vue","webpack:///./src/components/Frequent.vue?66a2","webpack:///./src/components/Frequent.vue","webpack:///src/components/Frequent.vue","webpack:///./src/components/Duplicates.vue?cebe","webpack:///./src/components/Duplicates.vue","webpack:///src/components/Duplicates.vue","webpack:///./src/router/index.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/mutations.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/assets/js/modernizr-custom.js"],"names":["module","exports","components_Drawer","render","_vm","this","_h","$createElement","_c","_self","attrs","fixed","clipped","app","model","value","$store","state","callback","$$v","$set","expression","dense","_l","item","i","key","row","align-center","xs6","_v","_s","heading","_e","staticClass","href","no-action","slot","on","click","$event","icon","text","child","inset","to","route","exact","numOfContacts","staticRenderFns","src_components_Drawer","__webpack_require__","normalizeComponent","divider","length","ssrContext","$","MainToolbar","focus","components_MainToolbar","ref","color","dark","clipped-left","prominent","style","$vuetify","breakpoint","smAndUp","stopPropagation","dispatch","bottom","disabled","tooltips","flat","toggleSearch","staticStyle","margin-left","large","size","src","alt","src_components_MainToolbar","MainToolbar_normalizeComponent","SearchToolbar","val","clearableCallback","components_SearchToolbar","opacity","search","manual-scroll","id","clearable","append-icon","prepend-icon","placeholder","autocomplete","solo","light","required","items","item-text","item-value","search-input","update:searchInput","scopedSlots","_u","fn","data","contacts","class","avatar","justifyContent","minWidth","thumbnail","fullName","slice","toUpperCase","domProps","innerHTML","undefined","select","src_components_SearchToolbar","SearchToolbar_normalizeComponent","components_SelectToolbar","getters","getNumSelected","hide-details","nativeOn","all","max-width","left","origin","transition","min-width","small","title","src_components_SelectToolbar","SelectToolbar_normalizeComponent","allSelected","firebaseApp","firebase_default","a","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","contactsRef","database","avatarsRef","storage","database_saveContact","contact","set","error","slim_module","window","CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","prototype","Event","loadImage","file","options","url","oUrl","img","createElement","onerror","onload","noRevoke","revokeObjectURL","scale","isInstanceOf","createObjectURL","_type","type","crossOrigin","readFile","e","target","result","urlAPI","URL","webkitURL","obj","Object","toString","call","transformCoordinates","getTransformedOptions","newOptions","width","height","aspectRatio","hasOwnProperty","crop","naturalWidth","naturalHeight","maxWidth","maxHeight","renderImageToCanvas","canvas","sourceX","sourceY","sourceWidth","sourceHeight","destX","destY","destWidth","destHeight","getContext","drawImage","hasCanvasOption","minHeight","pixelRatio","downsamplingRatio","tmp","useCanvas","scaleUp","Math","max","scaleDown","min","top","right","contain","cover","method","FileReader","fileReader","originalHasCanvasOption","originalTransformCoordinates","originalGetTransformedOptions","orientation","ctx","styleWidth","styleHeight","translate","rotate","PI","opts","hasblobSlice","Blob","webkitSlice","mozSlice","blobSlice","apply","arguments","metaDataParsers","jpeg","65505","parseMetaData","that","maxMetaDataSize","DataView","markerBytes","markerLength","parsers","buffer","dataView","offset","maxOffset","byteLength","headLength","getUint16","disableImageHead","imageHead","Uint8Array","subarray","ExifMap","map","Orientation","get","getExifThumbnail","hexData","b","getUint8","push","join","exifTagTypes","1","getValue","dataOffset","2","String","fromCharCode","ascii","3","littleEndian","4","getUint32","5","9","getInt32","10","getExifValue","tiffOffset","tagSize","values","str","c","tagType","parseExifTag","tag","exif","parseExifTags","dirOffset","tagsNumber","dirEndOffset","parseExifData","disableExif","thumbnailData","disableExifThumbnail","Thumbnail","disableExifSub","disableExifGps","snabbt","tickRequests","runningAnimations","completedAnimations","transformProperty","styles","getComputedStyle","documentElement","Array","match","OLink","arg1","arg2","arg3","elements","aggregateChainer","chainers","then","len","forEach","chainer","index","preprocessOptions","setValue","finish","rollback","snabbtSingleElement","clone","cloneObject","isFunction","delay","complete","hasAllDoneCallback","allDone","hasCompleteCallback","valueFeeder","matrix","easing","property","element","setupAttentionAnimation","stopAnimation","detachChildren","clearOphanedEndStates","currentState","currentAnimationState","start","stateFromOptions","end","animOptions","setupAnimationOptions","animation","createAnimation","updateElement","queue","unshift","queueTick","tick","time","isStopped","completed","loop","restart","pop","manual","movement","createState","createAttentionAnimation","currentAnimation","animatedElement","stop","indexOfElement","arr","el","animations","concat","contains","detachElement","splice","findAnimationState","animationList","getCurrentState","filter","findUltimateAncestor","body","node","ancestor","parentNode","useFromPrefix","position","rotation","rotationPost","skew","scalePost","optionOrDefault","startState","endState","polyFillrAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","setTimeout","func","tickAnimations","finishedAnimations","duration","perspective","createEaser","transformOrigin","manualCallback","tweener","startTime","currentTime","stopped","started","manualValue","manualDelayFactor","createValueFeederTweener","createStateTweener","resetFrom","setReverse","updateCurrentTransform","curr","_manualValue","tweenValue","tween","forceUpdate","asMatrix","properties","getProperties","updateElementTransform","updateElementProperties","initialVelocity","equilibriumPosition","spring","createSpringEasing","tweenPosition","tweenRotation","tweenRotationPost","tweenScale","tweenSkew","currentMovement","equilibrium","updateMovement","startPosition","velocity","springConstant","deceleration","springDeceleration","mass","springMass","abs","EASING_FUNCS","linear","ease","cos","easeIn","easeOut","pow","easerName","easeFunction","lastValue","easer","v","assignIdentity","copyArray","createMatrix","Float32Array","asCSS","css","toFixed","clear","x","y","z","assignedMatrixMultiplication","rotateX","radians","rad","sin","rotateY","rotateZ","ax","ay","tan","res","config","m","resultState","tweenWidth","tweenHeight","tweenOpacity","dX","dY","dZ","dAX","dAY","dAZ","dBX","dBY","dBZ","dSX","dSY","dSkewX","dSkewY","dWidth","dHeight","dOpacity","oldStart","currentMatrix","reverse","option","def","cssPerspective","cssMatrix","object","setElementTransform","stackBlur","mul_table","shg_table","BlurStack","r","g","next","top_x","top_y","radius","isNaN","imageData","getElementById","HTMLCanvasElement","context","getImageData","Error","getImageDataFromCanvas","p","yp","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pr","pg","pb","pa","rbs","pixels","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stack","stackEnd","stackIn","stackOut","mul_sum","shg_sum","processImageDataRGBA","putImageData","toBlob","defineProperty","quality","binStr","atob","toDataURL","split","charCodeAt","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","define_property_default","Constructor","protoProps","staticProps","_typeof","symbol_default","typeof_default","iterator_default","constructor","_classCallCheck","instance","TypeError","toCamelCase","replace","substr","charAt","getElementAttributes","attributes","l","name","getOffsetByEvent","offsetX","layerX","offsetY","layerY","mergeOptions","base","additives","optionsToMerge","Key","Events","MimeTypes","jpg","jpe","png","gif","bmp","ImageExtensionsRegex","create","className","addEvents","events","scope","addEventListener","removeEvents","removeEventListener","getEventOffsetScroll","changedTouches","pageX","pageY","getEventOffset","pageXOffset","scrollLeft","pageYOffset","scrollTop","capitalizeFirstLetter","string","last","array","limit","inArray","needle","resetTransforms","webkitTransform","transform","getExtensionByMimeType","mimetype","getFileName","path","shift","leftPad","padding","getDateString","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getFileTypeByFile","getFileNameWithoutExtension","Date","blobToFile","blob","File","lastModified","lastModifiedDate","resourceIsBase64Data","resource","test","loadURL","requestDecorator","cb","xhr","XMLHttpRequest","open","responseType","indexOf","getMimeTypeFromResponseType","response","cloneFile","send","base64ToByteString","dataURI","dataPartCleaned","base64ToBlob","filename","byteString","ab","ArrayBuffer","ia","mimeType","getMimeTypeFromDataURI","createBlob","BB","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","bb","append","getBlob","getAutoCropRect","ratioOut","w","h","scaleCanvas","scalar","bounds","targetWidth","round","targetHeight","cloneCanvas","_filter","sharpen","mix","weights","katet","sqrt","half","dstData","createImageData","dstBuff","srcBuff","sy","sx","dstOff","cy","cx","scy","scx","srcOff","wt","original","cloneCanvasScaled","duplicate","JSON","parse","stringify_default","dupe","image","jpegCompression","dataUri","matches","substring","nodeListToArray","nl","removeElement","removeChild","wrap","wrapper","nextSibling","insertBefore","appendChild","polarToCartesian","centerX","centerY","angleInDegrees","angleInRadians","percentageArc","startAngle","endAngle","arcSweep","describeArc","CropArea","resizers","n","rect","space","ratio","t","d","s","ne","se","sw","nw","_element","_interaction","_minWidth","_minHeight","_ratio","_rect","_space","_rectChanged","_init","lines","handler","_btn","btn","_redraw","dispatchEvent","_onStartDrag","_onDrag","_onStopDrag","preventDefault","setAttribute","_this","cssText","ImageEditor","CropAreaEvents","_options","_output","_input","_preview","_previewBlurred","_blurredPreview","_cropper","_straightCrop","_previewWrapper","_currentWindowSize","_btnGroup","_maskFrame","_dirty","_wrapperRotation","_wrapperScale","_this2","_container","_wrapper","_stage","_previewMask","Buttons","prop","label","_utilsGroup","buttonRotateClassName","buttonRotateTitle","_onClick","_onGridChange","_onGridInput","_onKeyDown","_onResize","keyCode","_confirm","_cancel","classList","_rotate","innerWidth","innerHeight","_redrawCropper","area","_updateWrapperScale","_redrawWrapper","_redrawCropMask","minSize","offsetWidth","offsetHeight","wrapperWidth","wrapperHeight","isTilted","_this3","_updateWrapperRotation","angle","x1","y1","x2","y2","rx1","ry1","rx2","ry2","_hideCropper","_showCropper","fromOpacity","_this4","mask","preview","cancelAnimationFrame","_previewSize","_this5","tilted","relativeCrop","imageRatio","sh","offsetLeft","offsetTop","resize","clientWidth","clientHeight","destination","copyCanvas","fromRotation","fromPosition","fromScale","dirty","childNodes","_this6","children","destroy","enabled","remove","add","getBoundingClientRect","buttonCancelClassName","buttonConfirmClassName","buttonCancelLabel","buttonConfirmLabel","buttonCancelTitle","buttonConfirmTitle","FileHopper","DragDropEvents","_accept","_allowURLs","_dragPath","dataTransfer","files","areValidDataTransferFiles","areValidDataTransferItems","kind","_this7","_onDragOver","_onDragLeave","_onDrop","remote","meta","getData","parsed","isValidDataTransfer","dropEffect","dataValidity","_this8","display","mimetypes","Popover","_inner","_this9","_this10","firstChild","intSplit","parseInt","isWrapper","nodeName","CropType","Rect","HopperEvents","ImageEditorEvents","SlimButtons","SlimPopover","SlimCount","SlimLoaderHTML","SlimUploadStatusHTML","stringToSize","Slim","_uid","forceSize","_originalElement","_originalElementInner","_originalElementAttributes","_state","_timers","_inputReference","_isRequired","_imageHopper","_imageEditor","_progressEnabled","_data","_resetData","_drip","_hasInitialImage","_initialCrop","_initialRotation","_isBeingDestroyed","supported","_fallback","actions","input","_manualTransform","dimensions","setRatio","_this11","_isFixedRatio","parts","_cropAuto","_scaleDropArea","_load","blockPush","_doUpload","_doDownload","_doRemove","_doDestroy","_doEdit","_crop","instantEdit","_isInitialising","querySelector","_getFileInput","_getInitialImage","action","selector","root","toggleDisplayBySelector","_updateState","server","field","output","err","form","reset","resetFileInput","_this12","_addState","post","_getInputElement","initialData","Image","defaultInputName","removeAttribute","initialImage","initialImageSrc","initialImageName","getAttribute","resultHTML","_isImageOnly","labelLoading","service","hasAttribute","accept","trim","types","getCommonMimeTypes","allowURLs","fetcher","_isButtonAllowed","_updateProgress","_onInit","_this13","done","timer","didInit","saveInitialImage","containsImage","_save","_toggleButton","progress","loader","paths","querySelectorAll","ringWidth","_this14","ring","_stopProgressLoop","_this15","repeat","parseFloat","button","edit","download","_throwError","statusNoSupport","_onChange","_onCancel","_onConfirm","_onFileOver","_onFileOut","_onDropFile","_onInvalidFile","_onInvalidFileDrop","_removeState","_removeError","_this16","list","_openFileDialog","willRemove","drip","_getDrip","statusFileType","statusImageTooSmall","statusFileSize","maxFileSize","dragPath","_this17","jump","dx","dy","_this18","clearTimeout","_replaceTimeout","_startProgressLoop","_loadTimeout","exit","fetchRequestDecorator","loadRequestDecorator","status","message","loadRemoteURL","willFetch","willLoad","_onRemoteURLProblem","_onOverWeightFile","getImageAsCanvas","internalCanvasSize","rewind","_onImageTooSmall","didLoad","_loadCanvas","isUploading","dropReplace","intro","_getIntro","isDetached","_canInstantEdit","revealCanvas","_showButtons","ready","_this19","_applyTransforms","transformedImage","willUpload","_startProgress","_stopProgress","_this20","filters","filterSharpen","forceMinSize","transforms","px","py","pw","ph","scalarX","scalarY","transformCanvas","outputImage","sizeDist","_onTransformCanvas","transformedData","didTransform","willTransform","_this21","buttonRotateLabel","_getRatioSpacerElement","marginBottom","didCancel","_hideEditor","_isAutoCrop","_this22","didConfirm","images","_getInOut","outro","zIndex","_showPreview","cropType","_this23","save","_this24","allowUpload","dataBase64","willSave","_store","didSave","_upload","_storeServerResponse","didUpload","_this25","requestOutput","fileData","formData","statusNode","willRequest","onProgress","loaded","total","onSuccess","statusUploadSuccess","onError","html","statusContentLength","didReceiveServerError","statusUnknownResponse","success","upload","onreadystatechange","readyState","responseText","_obj","uploadMethod","serviceFormat","_this26","FormData","uploadBase64","copyImageHead","popoverClassName","show","hide","_this27","_this28","_appendEditor","showRotateButton","rotateButton","inner","_showEditor","_hideButtons","_hideStatus","_this29","_clearState","out","_getOutro","_hideResult","didRemove","_this30","forcedType","navigator","msSaveBlob","link","downloadCanvas","forceType","_this31","replaceChild","matchesAttributeInList","attr","attribute","async","flattenData","cloneData","setSize","setRotation","setForceSize","defaults","defaultError","capitalized","instances","toFunctionReference","levels","level","passThrough","defaultFalse","defaultTrue","defaultLabel","defaultFunction","defaultSize","toInt","buttonOptions","opt","operamini","croppers","getOptionsFromAttributes","dataset","getDataset","valueTransformer","_value","toLowerCase","find","isAttachedTo","slim","components_Slim","slimService","slimInit","slimLoaded","slimRemoved","slimUploaded","thumbnailURL","catch","updateContact","snackbar","avatarFilename","getDownloadURL","_avatarObject$avatar","avatarObject","new_contact","newContact","now","timestamp","totalBytes","PAUSED","RUNNING","code","downloadURL","selectortype_template_index_0_src_components_Slim","persistent","fullscreen","smAndDown","xs8","offset-xs2","sm8","offset-sm2","md8","offset-md2","cursor","margin","cancelSlim","avatar_ready","doneSlim","src_components_Slim","Slim_normalizeComponent","Drawer","SelectToolbar","getRandomColor","myContact","selectortype_template_index_0_src_App","timeout","multi-line","closeSnackbar","src_App","App_normalizeComponent","App","Modernizr","EditContact","getActiveContact","temp_contact","currentAddress","currentPhone","_iteratorNormalCompletion","_step","currentEmail","_iteratorNormalCompletion2","_step2","removeFullName","removeDateOfBirth","_iteratorNormalCompletion3","address","_step3","_iteratorNormalCompletion4","phone","_step4","_iteratorNormalCompletion5","email","_step5","clearEditContact","valid","_iteratorNormalCompletion6","_step6","_iteratorNormalCompletion7","_step7","_iteratorNormalCompletion8","_step8","emails","fullNameHover","dateOfBirthHover","contactToEdit","$cookie","phones","countryCode","always","resp","dialCode","phoneId","components_EditContact","hide-overlay","borderBottom","grid-list-sm","mouseleave","mouseenter","xs2","avatar_hover","backgroundSize","backgroundColor","backgroundImage","backgroundRepeat","backgroundPosition","border","openSlim","fab","autofocus","rules","fullNameRules","validateOnBlur","xs1","showFullNameRemove","lazy","close-on-content-click","offset-y","full-width","nudge-right","menu","readonly","dateOfBirthRules","no-title","scrollable","cancel","showDateOfBirthRemove","currentAddressHover","showAddressIcon","refInFor","xs5","xs3","labels","single-line","showAddressRemove","removeAddress","showAddressAdd","addAddress","currentPhoneHover","showPhoneIcon","xs4","phoneRules","xs7","showPhoneRemove","removePhone","showPhoneAdd","addPhone","currentEmailHover","showEmailIcon","emailRules","showEmailRemove","removeEmail","showEmailAdd","addEmail","cancelEditContact","validEntries","saveEditedContact","src_components_EditContact","EditContact_normalizeComponent","ViewContact","itemName","icons","noDecoration","_ref","entry","_detail","_detail2","details","iterableContactDetails","components_ViewContact","view_transition","toggleView","starred","toggleEdit","moreActions","borderTop","subheader","three-line","DeleteContact","getActiveId","contactId","toggleDelete","components_DeleteContact","deleteContact","Contacts","ViewContact_normalizeComponent","DeleteContact_normalizeComponent","getSelected","newSelected","components_Contacts","overflowX","getContacts","item-key","hide-actions","hide-headers","no-data-text","borderRight","borderLeft","last_clicked","background","selected","hover","input-value","src_components_Contacts","Contacts_normalizeComponent","AddContact_Modernizr","AddContact","getNewContact","newAddressId","newPhoneId","newEmailId","removeAvatar","removeAddresses","removePhones","removeEmails","clearAddContact","getNewId","dateOfBirth","addresses","closeAddContact","components_AddContact","saveContact","Home","AddContact_normalizeComponent","components_Home","fluid","fill-height","xs12","toggleAddContact","src_components_Home","Home_normalizeComponent","components_Frequent","src_components_Frequent","Frequent_normalizeComponent","components_Duplicates","src_components_Duplicates","Duplicates_normalizeComponent","vue_esm","use","vue_router_esm","router","mode","routes","component","redirect","TOGGLE_VIEW_CONTACT","SET_VIEW_TRANSITION","TOGGLE_ADD_CONTACT","TOGGLE_EDIT_CONTACT","TOGGLE_DELETE_CONTACT","mutations_Modernizr","mutations","defineProperty_default","contactsPayload","_mutations","view_contact","viewTransition","add_contact","edit_contact","delete_contact","slimPayload","_slimPayload$active","active","_slimPayload$instance","_slimPayload$contact","drawer","selectedPayload","activeId","active_id","touchevents","_snackbar$active","actions_setContacts","commit","actions_setNewContact","_ref2","actions_toggleViewContact","_ref3","actions_setViewTransition","_ref4","actions_toggleAddContact","_ref5","actions_toggleEditContact","_ref6","actions_toggleDeleteContact","_ref7","actions_setSlim","_ref8","actions_toggleDrawer","_ref9","actions_toggleSearch","_ref10","actions_setSelected","_ref11","actions_setActiveId","_ref12","actions_toggleStar","_ref13","actions_setTooltips","_ref14","actions_setSnackbar","_ref15","store_Modernizr","vuex_esm","store","Store","hidden","colors","more_items","Hide from contacts","Delete","actions_namespaceObject","getMoreItems","disableTooltip","vuetify_default","vue_cookie_default","productionTip","template","components","createElementNS","f","_version","_config","classPrefix","enableClasses","enableJSClass","usePrefixes","_q","addTest","addAsyncTest","u","_prefixes","testStyles","o","fake","styleSheet","createTextNode","overflow","DocumentTouch","aliases","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","Boolean","baseVal","RegExp"],"mappings":"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,IAAI,IAAI,IAAI,IAAI,IAC5D,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAC5D,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAC5D,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAC5D,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAC5D,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAGxDC,GACA,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC3D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAA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","file":"static/js/app.2fa43c8c0ca7a4c55640.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/avatars/floydkots_avatar.jpg\n// module id = M8Qy\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"clipped\":\"\",\"app\":\"\"},model:{value:(_vm.$store.state.drawer),callback:function ($$v) {_vm.$set(_vm.$store.state, \"drawer\", $$v)},expression:\"$store.state.drawer\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_vm._l((_vm.items),function(item,i){return [(item.heading)?_c('v-layout',{key:i,attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs6\":\"\"}},[(item.heading)?_c('v-subheader',[_vm._v(\"\\n            \"+_vm._s(item.heading)+\"\\n          \")]):_vm._e()],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs6\":\"\"}},[_c('a',{staticClass:\"body-2 black--text\",attrs:{\"href\":\"#!\"}},[_vm._v(\"EDIT\")])])],1):(item.children)?_c('v-list-group',{attrs:{\"no-action\":\"\"},model:{value:(item.model),callback:function ($$v) {_vm.$set(item, \"model\", $$v)},expression:\"item.model\"}},[_c('v-list-tile',{attrs:{\"slot\":\"item\"},on:{\"click\":function($event){}},slot:\"item\"},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(item.model ? item.icon : item['icon-alt']))])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              \"+_vm._s(item.text)+\"\\n            \")])],1)],1),_vm._v(\" \"),_vm._l((item.children),function(child,i){return _c('v-list-tile',{key:i,on:{\"click\":function($event){}}},[(child.icon)?_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(child.icon))])],1):_vm._e(),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              \"+_vm._s(child.text)+\"\\n            \")])],1)],1)})],2):(item.divider)?_c('v-divider',{staticClass:\"mt-1 mb-1\",attrs:{\"inset\":item.inset}}):_c('v-list-tile',{attrs:{\"to\":item.route ? item.route : null,\"exact\":true},on:{\"click\":function($event){}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(item.icon))])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n            \"+_vm._s(item.text  === 'Contacts' ? ((item.text) + \" (\" + _vm.numOfContacts + \")\") : (\"\" + (item.text)))+\"\\n          \")])],1)],1)]})],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-03089c5a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Drawer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03089c5a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Drawer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Drawer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Drawer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03089c5a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Drawer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-03089c5a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Drawer.vue\n// module id = null\n// module chunks = ","<template>\n  <v-navigation-drawer\n    fixed\n    clipped\n    app\n    v-model=\"$store.state.drawer\"\n  >\n    <v-list dense>\n      <template v-for=\"(item, i) in items\">\n\n        <v-layout\n          row\n          v-if=\"item.heading\"\n          align-center\n          :key=\"i\"\n        >\n          <v-flex xs6>\n            <v-subheader v-if=\"item.heading\">\n              {{ item.heading }}\n            </v-subheader>\n          </v-flex>\n          <v-flex xs6 class=\"text-xs-center\">\n            <a href=\"#!\" class=\"body-2 black--text\">EDIT</a>\n          </v-flex>\n        </v-layout>\n\n        <v-list-group v-else-if=\"item.children\" v-model=\"item.model\" no-action>\n          <v-list-tile\n            slot=\"item\"\n            @click=\"\"\n          >\n            <v-list-tile-action>\n              <v-icon>{{ item.model ? item.icon : item['icon-alt'] }}</v-icon>\n            </v-list-tile-action>\n            <v-list-tile-content>\n              <v-list-tile-title>\n                {{ item.text }}\n              </v-list-tile-title>\n            </v-list-tile-content>\n          </v-list-tile>\n\n          <v-list-tile\n            v-for=\"(child, i) in item.children\"\n            :key=\"i\"\n            @click=\"\"\n          >\n            <v-list-tile-action v-if=\"child.icon\">\n              <v-icon>{{ child.icon }}</v-icon>\n            </v-list-tile-action>\n            <v-list-tile-content>\n              <v-list-tile-title>\n                {{ child.text }}\n              </v-list-tile-title>\n            </v-list-tile-content>\n          </v-list-tile>\n        </v-list-group>\n\n        <v-divider\n          v-else-if=\"item.divider\"\n          v-bind:inset=\"item.inset\"\n          class=\"mt-1 mb-1\"\n        >\n        </v-divider>\n\n        <v-list-tile\n          v-else\n          :to=\"item.route ? item.route : null\"\n          :exact=\"true\"\n          @click=\"\"\n        >\n          <v-list-tile-action>\n            <v-icon>{{ item.icon }}</v-icon>\n          </v-list-tile-action>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              {{ item.text  === 'Contacts' ? `${item.text} (${numOfContacts})` : `${item.text}`}}\n            </v-list-tile-title>\n          </v-list-tile-content>\n        </v-list-tile>\n      </template>\n    </v-list>\n  </v-navigation-drawer>\n</template>\n\n<script>\n  export default {\n    name: 'drawer',\n    data: () => ({\n      numOfContacts: 0,\n      items: [\n        {\n          icon: 'contacts', text: 'Contacts', route: '/contacts'\n        },\n        {icon: 'history', text: 'Frequently accessed', route: '/frequent'},\n        {icon: 'content_copy', text: 'Duplicates', route: '/merge'},\n\n        {divider: true, inset: false},\n\n        {\n          icon: 'keyboard_arrow_up',\n          'icon-alt': 'keyboard_arrow_down',\n          text: 'Labels',\n          model: false,\n          children: [\n            {icon: 'add', text: 'Create label'}\n          ]\n        },\n\n        {divider: true, inset: false},\n\n        {\n          icon: 'keyboard_arrow_up',\n          'icon-alt': 'keyboard_arrow_down',\n          text: 'More',\n          model: false,\n          children: [\n            {text: 'Import'},\n            {text: 'Export'},\n            {text: 'Print'},\n            {text: 'Undo changes'},\n            {text: 'Other contacts'}\n          ]\n        },\n\n        {divider: true, inset: false},\n\n        {icon: 'settings', text: 'Settings'},\n        {icon: 'chat_bubble', text: 'Send feedback'},\n        {icon: 'help', text: 'Help'}\n      ]\n    }),\n    beforeUpdate () {\n      this.numOfContacts = this.$store.getters.getContacts.length\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Drawer.vue","<template>\n  <div>\n    <v-toolbar\n      color=\"blue darken-3\"\n      dark\n      app\n      fixed\n      clipped-left\n      :prominent=\"true\"\n      ref=\"main_toolbar\"\n    >\n      <v-toolbar-title\n        :style=\"$vuetify.breakpoint.smAndUp ? 'width: 200px min-width: 100px' : 'min-width: 72px'\"\n        class=\"ma-0 pl-1\"\n      >\n        <v-toolbar-side-icon\n          @click.stop=\"$store.dispatch('toggleDrawer')\"\n        >\n        </v-toolbar-side-icon>\n        <span\n          class=\"hidden-xs-only\"\n        >\n          <b>Kots</b> Contacts\n        </span>\n      </v-toolbar-title>\n\n      <v-tooltip\n        bottom\n        :disabled=\"$store.state.tooltips\"\n      >\n        <span>Search</span>\n        <v-btn\n          flat\n          icon\n          slot=\"activator\"\n          @click=\"toggleSearch\"\n        >\n          <v-icon>\n            search\n          </v-icon>\n        </v-btn>\n      </v-tooltip>\n\n      <div class=\"d-flex align-center\" style=\"margin-left: auto\">\n        <v-btn icon large>\n          <v-avatar size=\"32px\">\n            <img\n              src=\"../../static/avatars/floydkots_avatar.jpg\"\n              alt=\"Floyd Kots\"\n            >\n          </v-avatar>\n        </v-btn>\n      </div>\n    </v-toolbar>\n  </div>\n</template>\n\n<script>\n  const $ = require('jquery')\n  export default {\n    name: 'main-toolbar',\n    data: () => {\n      return {}\n    },\n    methods: {\n      toggleSearch: function () {\n        this.$store.dispatch('toggleSearch')\n        this.$nextTick(() => {\n          $('#search').focus()\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MainToolbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{ref:\"main_toolbar\",attrs:{\"color\":\"blue darken-3\",\"dark\":\"\",\"app\":\"\",\"fixed\":\"\",\"clipped-left\":\"\",\"prominent\":true}},[_c('v-toolbar-title',{staticClass:\"ma-0 pl-1\",style:(_vm.$vuetify.breakpoint.smAndUp ? 'width: 200px min-width: 100px' : 'min-width: 72px')},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.$store.dispatch('toggleDrawer')}}}),_vm._v(\" \"),_c('span',{staticClass:\"hidden-xs-only\"},[_c('b',[_vm._v(\"Kots\")]),_vm._v(\" Contacts\\n      \")])],1),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Search\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\"},on:{\"click\":_vm.toggleSearch},slot:\"activator\"},[_c('v-icon',[_vm._v(\"\\n          search\\n        \")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"d-flex align-center\",staticStyle:{\"margin-left\":\"auto\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\"}},[_c('v-avatar',{attrs:{\"size\":\"32px\"}},[_c('img',{attrs:{\"src\":require(\"../../static/avatars/floydkots_avatar.jpg\"),\"alt\":\"Floyd Kots\"}})])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fdc1718e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MainToolbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fdc1718e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MainToolbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainToolbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainToolbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fdc1718e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MainToolbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fdc1718e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MainToolbar.vue\n// module id = null\n// module chunks = ","<template>\n  <v-toolbar\n    color=\"blue darken-3\"\n    dark\n    app\n    fixed\n    :prominent=\"true\"\n    clipped-left\n    :style=\"{opacity: $store.state.search ? 1 : 0}\"\n    :manual-scroll=\"!$store.state.search\"\n    ref=\"search_toolbar\"\n  >\n    <v-tooltip\n      bottom\n      :disabled=\"$store.state.tooltips\"\n    >\n      <span>Back</span>\n      <v-btn\n        flat\n        icon\n        slot=\"activator\"\n        @click=\"$store.dispatch('toggleSearch')\"\n      >\n        <v-icon>\n          keyboard_backspace\n        </v-icon>\n      </v-btn>\n    </v-tooltip>\n\n    <v-select\n      id=\"search\"\n      ref=\"search\"\n      clearable\n      append-icon=\"\"\n      prepend-icon=\"search\"\n      placeholder=\"Search\"\n      autocomplete\n      solo\n      light\n      required\n      :items=\"items\"\n      item-text=\"fullName\"\n      item-value=\"id\"\n      :search-input.sync=\"search\"\n      v-model=\"select\"\n    >\n      <template\n        v-if=\"$store.state.contacts.length > 0\"\n        slot=\"item\" slot-scope=\"data\">\n        <v-list-tile-avatar>\n          <v-avatar\n            size=\"40px\"\n            :class=\"data.item.avatar ? '' : data.item.color\"\n            :style=\"{justifyContent: 'center', minWidth: '40px'}\"\n          >\n            <img\n              v-if=\"data.item.avatar\"\n              :src=\"data.item.avatar.thumbnail || data.item.avatar.avatar\"\n              alt=\"avatar\"\n            />\n            <span\n              v-else\n              class=\"headline white--text\"\n            >\n              {{data.item.fullName ? data.item.fullName.slice(0, 1).toUpperCase() : ''}}\n            </span>\n          </v-avatar>\n        </v-list-tile-avatar>\n        <v-list-tile-title v-html=\"data.item.fullName\"/>\n      </template>\n    </v-select>\n  </v-toolbar>\n</template>\n\n<script>\n  export default {\n    name: 'search-toolbar',\n    data () {\n      return {\n        items: [],\n        search: null,\n        select: null\n      }\n    },\n    watch: {\n      search (val) {\n        if (this.$store.state.contacts.length > 0) {\n          this.queryContacts(val)\n        }\n      },\n\n      select (val) {\n        if (this.$store.state.contacts.length > 0) {\n          if (val !== null && val !== undefined) {\n            this.$store.dispatch('setActiveId', val)\n            this.$store.dispatch('toggleViewContact')\n            this.$store.dispatch('toggleSearch')\n            this.$refs.search.clearableCallback()\n          }\n        }\n      }\n    },\n    methods: {\n      queryContacts (v) {\n        if (v) {\n          this.items = this.$store.state.contacts.filter(e => {\n            return (e.fullName || '').toLowerCase().indexOf((v || '').toLowerCase()) > -1\n          })\n        } else {\n          this.items = []\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SearchToolbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{ref:\"search_toolbar\",style:({opacity: _vm.$store.state.search ? 1 : 0}),attrs:{\"color\":\"blue darken-3\",\"dark\":\"\",\"app\":\"\",\"fixed\":\"\",\"prominent\":true,\"clipped-left\":\"\",\"manual-scroll\":!_vm.$store.state.search}},[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Back\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.$store.dispatch('toggleSearch')}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"\\n        keyboard_backspace\\n      \")])],1)],1),_vm._v(\" \"),_c('v-select',{ref:\"search\",attrs:{\"id\":\"search\",\"clearable\":\"\",\"append-icon\":\"\",\"prepend-icon\":\"search\",\"placeholder\":\"Search\",\"autocomplete\":\"\",\"solo\":\"\",\"light\":\"\",\"required\":\"\",\"items\":_vm.items,\"item-text\":\"fullName\",\"item-value\":\"id\",\"search-input\":_vm.search},on:{\"update:searchInput\":function($event){_vm.search=$event}},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return _vm.$store.state.contacts.length > 0?[_c('v-list-tile-avatar',[_c('v-avatar',{class:data.item.avatar ? '' : data.item.color,style:({justifyContent: 'center', minWidth: '40px'}),attrs:{\"size\":\"40px\"}},[(data.item.avatar)?_c('img',{attrs:{\"src\":data.item.avatar.thumbnail || data.item.avatar.avatar,\"alt\":\"avatar\"}}):_c('span',{staticClass:\"headline white--text\"},[_vm._v(\"\\n            \"+_vm._s(data.item.fullName ? data.item.fullName.slice(0, 1).toUpperCase() : '')+\"\\n          \")])])],1),_vm._v(\" \"),_c('v-list-tile-title',{domProps:{\"innerHTML\":_vm._s(data.item.fullName)}})]:undefined}}]),model:{value:(_vm.select),callback:function ($$v) {_vm.select=$$v},expression:\"select\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43f2ac75\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SearchToolbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43f2ac75\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SearchToolbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SearchToolbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SearchToolbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43f2ac75\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SearchToolbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-43f2ac75\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SearchToolbar.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{ref:\"select_toolbar\",style:({opacity: _vm.$store.getters.getNumSelected <= 0 ? 0 : 1}),attrs:{\"color\":\"blue lighten-5\",\"light\":\"\",\"app\":\"\",\"fixed\":\"\",\"prominent\":true,\"clipped-left\":\"\",\"manual-scroll\":_vm.$store.getters.getNumSelected <= 0}},[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Back\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-0 mr-2\",attrs:{\"slot\":\"activator\",\"color\":\"grey darken-3\",\"flat\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.$store.dispatch('setSelected', [])}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"\\n        keyboard_backspace\\n      \")])],1)],1),_vm._v(\" \"),(_vm.$vuetify.breakpoint.smAndUp)?_c('span',{staticClass:\"subheading mr-5\"},[_vm._v(\"\\n    Back\\n  \")]):_vm._e(),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Select all\")]),_vm._v(\" \"),_c('v-checkbox',{staticClass:\"ml-3 mr-2\",attrs:{\"slot\":\"activator\",\"color\":\"blue darken-4\",\"hide-details\":\"\",\"light\":\"\"},nativeOn:{\"click\":function($event){}},slot:\"activator\",model:{value:(_vm.all),callback:function ($$v) {_vm.all=$$v},expression:\"all\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"ml-2 subheading\",style:({color: 'blue'})},[_vm._v(\"\\n    \"+_vm._s(_vm.$store.getters.getNumSelected)+\" selected\\n  \")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Manage labels\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"slot\":\"activator\",\"color\":\"grey darken-3\",\"flat\":\"\",\"icon\":\"\"},on:{\"click\":function($event){}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"\\n      label\\n    \")])],1)],1),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":100,\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"More actions\")]),_vm._v(\" \"),_c('v-menu',{staticClass:\"pa-0 ma-0\",attrs:{\"slot\":\"activator\",\"bottom\":\"\",\"left\":\"\",\"origin\":\"center center\",\"transition\":\"scale-transition\",\"min-width\":250},slot:\"activator\"},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey darken-3\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"more_vert\")])],1),_vm._v(\" \"),_c('v-list',_vm._l((_vm.$store.getters.getMoreItems),function(item){return _c('v-list-tile',{key:item.title,attrs:{\"avatar\":\"\"},on:{\"click\":function($event){}}},[_c('v-list-tile-avatar',[_c('v-icon',[_vm._v(\"\\n              \"+_vm._s(item.icon)+\"\\n            \")])],1),_vm._v(\" \"),_c('v-list-tile-title',{staticClass:\"body-1 pl-0 ml-0\"},[_vm._v(\"\\n            \"+_vm._s(item.title)+\"\\n          \")])],1)}))],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ac804c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SelectToolbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ac804c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SelectToolbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectToolbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectToolbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ac804c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SelectToolbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3ac804c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SelectToolbar.vue\n// module id = null\n// module chunks = ","<template>\n  <v-toolbar\n    color=\"blue lighten-5\"\n    light\n    app\n    fixed\n    :prominent=\"true\"\n    clipped-left\n    ref=\"select_toolbar\"\n    :style = \"{opacity: $store.getters.getNumSelected <= 0 ? 0 : 1}\"\n    :manual-scroll=\"$store.getters.getNumSelected <= 0\"\n  >\n    <v-tooltip\n      bottom\n      :disabled=\"$store.state.tooltips\"\n    >\n      <span>Back</span>\n      <v-btn\n        color=\"grey darken-3\"\n        flat\n        icon\n        class=\"ml-0 mr-2\"\n        slot=\"activator\"\n        @click=\"$store.dispatch('setSelected', [])\"\n      >\n        <v-icon>\n          keyboard_backspace\n        </v-icon>\n      </v-btn>\n    </v-tooltip>\n\n    <span\n      class=\"subheading mr-5\"\n      v-if=\"$vuetify.breakpoint.smAndUp\"\n    >\n      Back\n    </span>\n\n    <v-tooltip\n      bottom\n      :disabled=\"$store.state.tooltips\"\n    >\n      <span>Select all</span>\n      <v-checkbox\n        color=\"blue darken-4\"\n        v-model=\"all\"\n        hide-details\n        slot=\"activator\"\n        @click.native=\"\"\n        light\n        class=\"ml-3 mr-2\"\n      ></v-checkbox>\n    </v-tooltip>\n\n    <span\n      class=\"ml-2 subheading\"\n      :style=\"{color: 'blue'}\"\n    >\n      {{$store.getters.getNumSelected}} selected\n    </span>\n\n    <v-spacer></v-spacer>\n\n    <v-tooltip\n      bottom\n      :disabled=\"$store.state.tooltips\"\n    >\n      <span>Manage labels</span>\n    <v-btn\n      color=\"grey darken-3\"\n      flat\n      icon\n      slot=\"activator\"\n      @click=\"\"\n    >\n      <v-icon>\n        label\n      </v-icon>\n    </v-btn>\n    </v-tooltip>\n\n    <v-tooltip\n      bottom\n      :max-width=\"100\"\n      :disabled=\"$store.state.tooltips\"\n    >\n      <span>More actions</span>\n      <v-menu\n        bottom\n        left\n        origin=\"center center\"\n        transition=\"scale-transition\"\n        :min-width=\"250\"\n        slot=\"activator\"\n        class=\"pa-0 ma-0\"\n      >\n        <v-btn\n          flat\n          icon\n          small\n          color=\"grey darken-3\"\n          slot=\"activator\"\n        >\n          <v-icon>more_vert</v-icon>\n        </v-btn>\n        <v-list>\n          <v-list-tile\n            avatar\n            v-for=\"item in $store.getters.getMoreItems\"\n            :key=\"item.title\"\n            @click=\"\">\n            <v-list-tile-avatar>\n              <v-icon>\n                {{ item.icon }}\n              </v-icon>\n            </v-list-tile-avatar>\n            <v-list-tile-title\n              class=\"body-1 pl-0 ml-0\"\n            >\n              {{ item.title }}\n            </v-list-tile-title>\n          </v-list-tile>\n        </v-list>\n\n      </v-menu>\n    </v-tooltip>\n\n  </v-toolbar>\n</template>\n\n<script>\n  export default {\n    name: 'select-toolbar',\n    data: () => {\n      return {\n\n      }\n    },\n    computed: {\n      all: {\n        get: function () {\n          return this.$store.getters.allSelected\n        },\n        set: function (val) {\n          if (val) {\n            this.$store.dispatch('setSelected', this.$store.getters.getContacts.slice())\n          } else {\n            this.$store.dispatch('setSelected', [])\n          }\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SelectToolbar.vue","import firebase from 'firebase'\n\nconst config = {\n  apiKey: 'AIzaSyB87EDUtC2-oH_bpwCaWIRijHQQvSC3Qqs',\n  authDomain: 'kots-contacts.firebaseapp.com',\n  databaseURL: 'https://kots-contacts.firebaseio.com',\n  projectId: 'kots-contacts',\n  storageBucket: 'kots-contacts.appspot.com',\n  messagingSenderId: '920402365801'\n}\n\nexport const firebaseApp = firebase.initializeApp(config)\n\nexport const contactsRef = firebaseApp.database().ref().child('contacts')\n\nexport const avatarsRef = firebaseApp.storage().ref()\n\nexport const saveContact = function (contact, callback) {\n  let contactRef = firebase.database().ref('contacts/' + contact.id)\n  contactRef.set(contact, function (error) {\n    callback(error)\n  })\n}\n\nexport const fetchContact = function (contactId) {\n  let contactRef = firebase.database().ref('contacts/' + contactId)\n  return contactRef.once('value')\n}\n\nexport const fetchContacts = function () {\n  let contacts = []\n  let contactsRef = firebaseApp.database().ref().child('contacts')\n  contactsRef.orderByChild('fullName').on('value', snapshot => {\n    snapshot.forEach(contact => {\n      contacts.push(contact.val())\n    })\n    return contacts\n  })\n}\n\nexport const deleteContact = function (contactId, callback) {\n  return firebase.database().ref('contacts/' + contactId).remove(function (error) {\n    callback(error)\n  })\n}\n\nexport const deleteContacts = function (contactIds, callback) {\n  let updates = {}\n  for (const contactId of contactIds) {\n    updates['contacts/' + contactId] = null\n  }\n  firebase.database().ref().update(updates, function (error) {\n    callback(error)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/database.js","/*\n * Slim v4.15.0 - Image Cropping Made Easy\n * Copyright (c) 2017 Rik Schennink - http://slimimagecropper.com\n */\n/* eslint-disable */\nexport default typeof window !== 'undefined' ? (function() {\n\n// custom event polyfill for IE10\n(function() {\n\tif ( typeof window.CustomEvent === 'function' ) return false;\n\n\tfunction CustomEvent ( event, params ) {\n\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\tvar evt = document.createEvent( 'CustomEvent' );\n\t\tevt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n\t\treturn evt;\n\t}\n\n\tCustomEvent.prototype = window.Event.prototype;\n\n\twindow.CustomEvent = CustomEvent;\n})();\n/*\n* JavaScript Load Image\n* https://github.com/blueimp/JavaScript-Load-Image\n*\n* Copyright 2011, Sebastian Tschan\n* https://blueimp.net\n*\n* Licensed under the MIT license:\n* http://www.opensource.org/licenses/MIT\n*/\n\n/*global define, module, window, document, URL, webkitURL, FileReader */\n\n// Loads an image for a given File object.\n// Invokes the callback with an img or optional canvas\n// element (if supported by the browser) as parameter:\nvar loadImage = function (file, callback, options) {\n    var img = document.createElement('img')\n    var url\n    var oUrl\n    img.onerror = callback\n    img.onload = function () {\n        if (oUrl && !(options && options.noRevoke)) {\n            loadImage.revokeObjectURL(oUrl)\n        }\n        if (callback) {\n            callback(loadImage.scale(img, options))\n        }\n    }\n    if (loadImage.isInstanceOf('Blob', file) ||\n        // Files are also Blob instances, but some browsers\n        // (Firefox 3.6) support the File API but not Blobs:\n        loadImage.isInstanceOf('File', file)) {\n        url = oUrl = loadImage.createObjectURL(file)\n        // Store the file type for resize processing:\n        img._type = file.type\n    } else if (typeof file === 'string') {\n        url = file\n        if (options && options.crossOrigin) {\n            img.crossOrigin = options.crossOrigin\n        }\n    } else {\n        return false\n    }\n    if (url) {\n        img.src = url\n        return img\n    }\n    return loadImage.readFile(file, function (e) {\n        var target = e.target\n        if (target && target.result) {\n            img.src = target.result\n        } else {\n            if (callback) {\n                callback(e)\n            }\n        }\n    })\n}\n// The check for URL.revokeObjectURL fixes an issue with Opera 12,\n// which provides URL.createObjectURL but doesn't properly implement it:\nvar urlAPI = (window.createObjectURL && window) ||\n    (window.URL && URL.revokeObjectURL && URL) ||\n    (window.webkitURL && webkitURL)\n\nloadImage.isInstanceOf = function (type, obj) {\n    // Cross-frame instanceof check\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']'\n}\n\n// Transform image coordinates, allows to override e.g.\n// the canvas orientation based on the orientation option,\n// gets canvas, options passed as arguments:\nloadImage.transformCoordinates = function () {\n    return\n}\n\n// Returns transformed options, allows to override e.g.\n// maxWidth, maxHeight and crop options based on the aspectRatio.\n// gets img, options passed as arguments:\nloadImage.getTransformedOptions = function (img, options) {\n    var aspectRatio = options.aspectRatio\n    var newOptions\n    var i\n    var width\n    var height\n    if (!aspectRatio) {\n        return options\n    }\n    newOptions = {}\n    for (i in options) {\n        if (options.hasOwnProperty(i)) {\n            newOptions[i] = options[i]\n        }\n    }\n    newOptions.crop = true\n    width = img.naturalWidth || img.width\n    height = img.naturalHeight || img.height\n    if (width / height > aspectRatio) {\n        newOptions.maxWidth = height * aspectRatio\n        newOptions.maxHeight = height\n    } else {\n        newOptions.maxWidth = width\n        newOptions.maxHeight = width / aspectRatio\n    }\n    return newOptions\n}\n\n// Canvas render method, allows to implement a different rendering algorithm:\nloadImage.renderImageToCanvas = function (\n    canvas,\n    img,\n    sourceX,\n    sourceY,\n    sourceWidth,\n    sourceHeight,\n    destX,\n    destY,\n    destWidth,\n    destHeight\n) {\n    canvas.getContext('2d').drawImage(\n        img,\n        sourceX,\n        sourceY,\n        sourceWidth,\n        sourceHeight,\n        destX,\n        destY,\n        destWidth,\n        destHeight\n    )\n    return canvas\n}\n\n// This method is used to determine if the target image\n// should be a canvas element:\nloadImage.hasCanvasOption = function (options) {\n    return options.canvas || options.crop || !!options.aspectRatio\n}\n\n// Scales and/or crops the given image (img or canvas HTML element)\n// using the given options.\n// Returns a canvas object if the browser supports canvas\n// and the hasCanvasOption method returns true or a canvas\n// object is passed as image, else the scaled image:\nloadImage.scale = function (img, options) {\n    options = options || {}\n    var canvas = document.createElement('canvas')\n    var useCanvas = img.getContext ||\n        (loadImage.hasCanvasOption(options) && canvas.getContext)\n    var width = img.naturalWidth || img.width\n    var height = img.naturalHeight || img.height\n    var destWidth = width\n    var destHeight = height\n    var maxWidth\n    var maxHeight\n    var minWidth\n    var minHeight\n    var sourceWidth\n    var sourceHeight\n    var sourceX\n    var sourceY\n    var pixelRatio\n    var downsamplingRatio\n    var tmp\n    function scaleUp () {\n        var scale = Math.max(\n            (minWidth || destWidth) / destWidth,\n            (minHeight || destHeight) / destHeight\n        )\n        if (scale > 1) {\n            destWidth *= scale\n            destHeight *= scale\n        }\n    }\n    function scaleDown () {\n        var scale = Math.min(\n            (maxWidth || destWidth) / destWidth,\n            (maxHeight || destHeight) / destHeight\n        )\n        if (scale < 1) {\n            destWidth *= scale\n            destHeight *= scale\n        }\n    }\n    if (useCanvas) {\n        options = loadImage.getTransformedOptions(img, options)\n        sourceX = options.left || 0\n        sourceY = options.top || 0\n        if (options.sourceWidth) {\n            sourceWidth = options.sourceWidth\n            if (options.right !== undefined && options.left === undefined) {\n                sourceX = width - sourceWidth - options.right\n            }\n        } else {\n            sourceWidth = width - sourceX - (options.right || 0)\n        }\n        if (options.sourceHeight) {\n            sourceHeight = options.sourceHeight\n            if (options.bottom !== undefined && options.top === undefined) {\n                sourceY = height - sourceHeight - options.bottom\n            }\n        } else {\n            sourceHeight = height - sourceY - (options.bottom || 0)\n        }\n        destWidth = sourceWidth\n        destHeight = sourceHeight\n    }\n    maxWidth = options.maxWidth\n    maxHeight = options.maxHeight\n    minWidth = options.minWidth\n    minHeight = options.minHeight\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\n        destWidth = maxWidth\n        destHeight = maxHeight\n        tmp = sourceWidth / sourceHeight - maxWidth / maxHeight\n        if (tmp < 0) {\n            sourceHeight = maxHeight * sourceWidth / maxWidth\n            if (options.top === undefined && options.bottom === undefined) {\n                sourceY = (height - sourceHeight) / 2\n            }\n        } else if (tmp > 0) {\n            sourceWidth = maxWidth * sourceHeight / maxHeight\n            if (options.left === undefined && options.right === undefined) {\n                sourceX = (width - sourceWidth) / 2\n            }\n        }\n    } else {\n        if (options.contain || options.cover) {\n            minWidth = maxWidth = maxWidth || minWidth\n            minHeight = maxHeight = maxHeight || minHeight\n        }\n        if (options.cover) {\n            scaleDown()\n            scaleUp()\n        } else {\n            scaleUp()\n            scaleDown()\n        }\n    }\n    if (useCanvas) {\n        pixelRatio = options.pixelRatio\n        if (pixelRatio > 1) {\n            canvas.style.width = destWidth + 'px'\n            canvas.style.height = destHeight + 'px'\n            destWidth *= pixelRatio\n            destHeight *= pixelRatio\n            canvas.getContext('2d').scale(pixelRatio, pixelRatio)\n        }\n        downsamplingRatio = options.downsamplingRatio\n        if (downsamplingRatio > 0 && downsamplingRatio < 1 &&\n            destWidth < sourceWidth && destHeight < sourceHeight) {\n            while (sourceWidth * downsamplingRatio > destWidth) {\n                canvas.width = sourceWidth * downsamplingRatio\n                canvas.height = sourceHeight * downsamplingRatio\n                loadImage.renderImageToCanvas(\n                    canvas,\n                    img,\n                    sourceX,\n                    sourceY,\n                    sourceWidth,\n                    sourceHeight,\n                    0,\n                    0,\n                    canvas.width,\n                    canvas.height\n                )\n                sourceWidth = canvas.width\n                sourceHeight = canvas.height\n                img = document.createElement('canvas')\n                img.width = sourceWidth\n                img.height = sourceHeight\n                loadImage.renderImageToCanvas(\n                    img,\n                    canvas,\n                    0,\n                    0,\n                    sourceWidth,\n                    sourceHeight,\n                    0,\n                    0,\n                    sourceWidth,\n                    sourceHeight\n                )\n            }\n        }\n        canvas.width = destWidth\n        canvas.height = destHeight\n        loadImage.transformCoordinates(\n            canvas,\n            options\n        )\n        return loadImage.renderImageToCanvas(\n            canvas,\n            img,\n            sourceX,\n            sourceY,\n            sourceWidth,\n            sourceHeight,\n            0,\n            0,\n            destWidth,\n            destHeight\n        )\n    }\n    img.width = destWidth\n    img.height = destHeight\n    return img\n}\n\nloadImage.createObjectURL = function (file) {\n    return urlAPI ? urlAPI.createObjectURL(file) : false\n}\n\nloadImage.revokeObjectURL = function (url) {\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false\n}\n\n// Loads a given File object via FileReader interface,\n// invokes the callback with the event object (load or error).\n// The result can be read via event.target.result:\nloadImage.readFile = function (file, callback, method) {\n    if (window.FileReader) {\n        var fileReader = new FileReader()\n        fileReader.onload = fileReader.onerror = callback\n        method = method || 'readAsDataURL'\n        if (fileReader[method]) {\n            fileReader[method](file)\n            return fileReader\n        }\n    }\n    return false\n}\n\nvar originalHasCanvasOption = loadImage.hasCanvasOption\nvar originalTransformCoordinates = loadImage.transformCoordinates\nvar originalGetTransformedOptions = loadImage.getTransformedOptions\n\n// This method is used to determine if the target image\n// should be a canvas element:\nloadImage.hasCanvasOption = function (options) {\n    return !!options.orientation ||\n        originalHasCanvasOption.call(loadImage, options)\n}\n\n// Transform image orientation based on\n// the given EXIF orientation option:\nloadImage.transformCoordinates = function (canvas, options) {\n    originalTransformCoordinates.call(loadImage, canvas, options)\n    var ctx = canvas.getContext('2d')\n    var width = canvas.width\n    var height = canvas.height\n    var styleWidth = canvas.style.width\n    var styleHeight = canvas.style.height\n    var orientation = options.orientation\n    if (!orientation || orientation > 8) {\n        return\n    }\n    if (orientation > 4) {\n        canvas.width = height\n        canvas.height = width\n        canvas.style.width = styleHeight\n        canvas.style.height = styleWidth\n    }\n    switch (orientation) {\n        case 2:\n            // horizontal flip\n            ctx.translate(width, 0)\n            ctx.scale(-1, 1)\n            break\n        case 3:\n            // 180° rotate left\n            ctx.translate(width, height)\n            ctx.rotate(Math.PI)\n            break\n        case 4:\n            // vertical flip\n            ctx.translate(0, height)\n            ctx.scale(1, -1)\n            break\n        case 5:\n            // vertical flip + 90 rotate right\n            ctx.rotate(0.5 * Math.PI)\n            ctx.scale(1, -1)\n            break\n        case 6:\n            // 90° rotate right\n            ctx.rotate(0.5 * Math.PI)\n            ctx.translate(0, -height)\n            break\n        case 7:\n            // horizontal flip + 90 rotate right\n            ctx.rotate(0.5 * Math.PI)\n            ctx.translate(width, -height)\n            ctx.scale(-1, 1)\n            break\n        case 8:\n            // 90° rotate left\n            ctx.rotate(-0.5 * Math.PI)\n            ctx.translate(-width, 0)\n            break\n    }\n}\n\n// Transforms coordinate and dimension options\n// based on the given orientation option:\nloadImage.getTransformedOptions = function (img, opts) {\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\n    var orientation = options.orientation\n    var newOptions\n    var i\n    if (!orientation || orientation > 8 || orientation === 1) {\n        return options\n    }\n    newOptions = {}\n    for (i in options) {\n        if (options.hasOwnProperty(i)) {\n            newOptions[i] = options[i]\n        }\n    }\n    switch (options.orientation) {\n        case 2:\n            // horizontal flip\n            newOptions.left = options.right\n            newOptions.right = options.left\n            break\n        case 3:\n            // 180° rotate left\n            newOptions.left = options.right\n            newOptions.top = options.bottom\n            newOptions.right = options.left\n            newOptions.bottom = options.top\n            break\n        case 4:\n            // vertical flip\n            newOptions.top = options.bottom\n            newOptions.bottom = options.top\n            break\n        case 5:\n            // vertical flip + 90 rotate right\n            newOptions.left = options.top\n            newOptions.top = options.left\n            newOptions.right = options.bottom\n            newOptions.bottom = options.right\n            break\n        case 6:\n            // 90° rotate right\n            newOptions.left = options.top\n            newOptions.top = options.right\n            newOptions.right = options.bottom\n            newOptions.bottom = options.left\n            break\n        case 7:\n            // horizontal flip + 90 rotate right\n            newOptions.left = options.bottom\n            newOptions.top = options.right\n            newOptions.right = options.top\n            newOptions.bottom = options.left\n            break\n        case 8:\n            // 90° rotate left\n            newOptions.left = options.bottom\n            newOptions.top = options.left\n            newOptions.right = options.top\n            newOptions.bottom = options.right\n            break\n    }\n    if (options.orientation > 4) {\n        newOptions.maxWidth = options.maxHeight\n        newOptions.maxHeight = options.maxWidth\n        newOptions.minWidth = options.minHeight\n        newOptions.minHeight = options.minWidth\n        newOptions.sourceWidth = options.sourceHeight\n        newOptions.sourceHeight = options.sourceWidth\n    }\n    return newOptions\n}\n\nvar hasblobSlice = window.Blob && (Blob.prototype.slice ||\n    Blob.prototype.webkitSlice || Blob.prototype.mozSlice)\n\nloadImage.blobSlice = hasblobSlice && function () {\n        var slice = this.slice || this.webkitSlice || this.mozSlice\n        return slice.apply(this, arguments)\n    }\n\nloadImage.metaDataParsers = {\n    jpeg: {\n        0xffe1: [] // APP1 marker\n    }\n}\n\n// Parses image meta data and calls the callback with an object argument\n// with the following properties:\n// * imageHead: The complete image head as ArrayBuffer (Uint8Array for IE10)\n// The options arguments accepts an object and supports the following properties:\n// * maxMetaDataSize: Defines the maximum number of bytes to parse.\n// * disableImageHead: Disables creating the imageHead property.\nloadImage.parseMetaData = function (file, callback, options) {\n    options = options || {}\n    var that = this\n    // 256 KiB should contain all EXIF/ICC/IPTC segments:\n    var maxMetaDataSize = options.maxMetaDataSize || 262144\n    var data = {}\n    var noMetaData = !(window.DataView && file && file.size >= 12 &&\n    file.type === 'image/jpeg' && loadImage.blobSlice)\n    if (noMetaData || !loadImage.readFile(\n            loadImage.blobSlice.call(file, 0, maxMetaDataSize),\n            function (e) {\n                if (e.target.error) {\n                    // FileReader error\n                    //console.log(e.target.error)\n                    callback(data)\n                    return\n                }\n                // Note on endianness:\n                // Since the marker and length bytes in JPEG files are always\n                // stored in big endian order, we can leave the endian parameter\n                // of the DataView methods undefined, defaulting to big endian.\n                var buffer = e.target.result\n                var dataView = new DataView(buffer)\n                var offset = 2\n                var maxOffset = dataView.byteLength - 4\n                var headLength = offset\n                var markerBytes\n                var markerLength\n                var parsers\n                var i\n                // Check for the JPEG marker (0xffd8):\n                if (dataView.getUint16(0) === 0xffd8) {\n                    while (offset < maxOffset) {\n                        markerBytes = dataView.getUint16(offset)\n                        // Search for APPn (0xffeN) and COM (0xfffe) markers,\n                        // which contain application-specific meta-data like\n                        // Exif, ICC and IPTC data and text comments:\n                        if ((markerBytes >= 0xffe0 && markerBytes <= 0xffef) ||\n                            markerBytes === 0xfffe) {\n                            // The marker bytes (2) are always followed by\n                            // the length bytes (2), indicating the length of the\n                            // marker segment, which includes the length bytes,\n                            // but not the marker bytes, so we add 2:\n                            markerLength = dataView.getUint16(offset + 2) + 2\n                            if (offset + markerLength > dataView.byteLength) {\n                                //console.log('Invalid meta data: Invalid segment size.')\n                                break\n                            }\n                            parsers = loadImage.metaDataParsers.jpeg[markerBytes]\n                            if (parsers) {\n                                for (i = 0; i < parsers.length; i += 1) {\n                                    parsers[i].call(\n                                        that,\n                                        dataView,\n                                        offset,\n                                        markerLength,\n                                        data,\n                                        options\n                                    )\n                                }\n                            }\n                            offset += markerLength\n                            headLength = offset\n                        } else {\n                            // Not an APPn or COM marker, probably safe to\n                            // assume that this is the end of the meta data\n                            break\n                        }\n                    }\n                    // Meta length must be longer than JPEG marker (2)\n                    // plus APPn marker (2), followed by length bytes (2):\n                    if (!options.disableImageHead && headLength > 6) {\n                        if (buffer.slice) {\n                            data.imageHead = buffer.slice(0, headLength)\n                        } else {\n                            // Workaround for IE10, which does not yet\n                            // support ArrayBuffer.slice:\n                            data.imageHead = new Uint8Array(buffer)\n                                .subarray(0, headLength)\n                        }\n                    }\n                } else {\n                    //console.log('Invalid JPEG file: Missing JPEG marker.')\n                }\n                callback(data)\n            },\n            'readAsArrayBuffer'\n        )) {\n        callback(data)\n    }\n}\n\nloadImage.ExifMap = function () {\n    return this\n}\n\nloadImage.ExifMap.prototype.map = {\n    'Orientation': 0x0112\n}\n\nloadImage.ExifMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n}\n\nloadImage.getExifThumbnail = function (dataView, offset, length) {\n    var hexData,\n        i,\n        b\n    if (!length || offset + length > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid thumbnail data.')\n        return\n    }\n    hexData = []\n    for (i = 0; i < length; i += 1) {\n        b = dataView.getUint8(offset + i)\n        hexData.push((b < 16 ? '0' : '') + b.toString(16))\n    }\n    return 'data:image/jpeg,%' + hexData.join('%')\n}\n\nloadImage.exifTagTypes = {\n    // byte, 8-bit unsigned int:\n    1: {\n        getValue: function (dataView, dataOffset) {\n            return dataView.getUint8(dataOffset)\n        },\n        size: 1\n    },\n    // ascii, 8-bit byte:\n    2: {\n        getValue: function (dataView, dataOffset) {\n            return String.fromCharCode(dataView.getUint8(dataOffset))\n        },\n        size: 1,\n        ascii: true\n    },\n    // short, 16 bit int:\n    3: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getUint16(dataOffset, littleEndian)\n        },\n        size: 2\n    },\n    // long, 32 bit int:\n    4: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getUint32(dataOffset, littleEndian)\n        },\n        size: 4\n    },\n    // rational = two long values, first is numerator, second is denominator:\n    5: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getUint32(dataOffset, littleEndian) /\n                dataView.getUint32(dataOffset + 4, littleEndian)\n        },\n        size: 8\n    },\n    // slong, 32 bit signed int:\n    9: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getInt32(dataOffset, littleEndian)\n        },\n        size: 4\n    },\n    // srational, two slongs, first is numerator, second is denominator:\n    10: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getInt32(dataOffset, littleEndian) /\n                dataView.getInt32(dataOffset + 4, littleEndian)\n        },\n        size: 8\n    }\n}\n// undefined, 8-bit byte, value depending on field:\nloadImage.exifTagTypes[7] = loadImage.exifTagTypes[1]\n\nloadImage.getExifValue = function (dataView, tiffOffset, offset, type, length, littleEndian) {\n    var tagType = loadImage.exifTagTypes[type]\n    var tagSize\n    var dataOffset\n    var values\n    var i\n    var str\n    var c\n    if (!tagType) {\n        //console.log('Invalid Exif data: Invalid tag type.')\n        return\n    }\n    tagSize = tagType.size * length\n    // Determine if the value is contained in the dataOffset bytes,\n    // or if the value at the dataOffset is a pointer to the actual data:\n    dataOffset = tagSize > 4\n        ? tiffOffset + dataView.getUint32(offset + 8, littleEndian)\n        : (offset + 8)\n    if (dataOffset + tagSize > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid data offset.')\n        return\n    }\n    if (length === 1) {\n        return tagType.getValue(dataView, dataOffset, littleEndian)\n    }\n    values = []\n    for (i = 0; i < length; i += 1) {\n        values[i] = tagType.getValue(dataView, dataOffset + i * tagType.size, littleEndian)\n    }\n    if (tagType.ascii) {\n        str = ''\n        // Concatenate the chars:\n        for (i = 0; i < values.length; i += 1) {\n            c = values[i]\n            // Ignore the terminating NULL byte(s):\n            if (c === '\\u0000') {\n                break\n            }\n            str += c\n        }\n        return str\n    }\n    return values\n}\n\nloadImage.parseExifTag = function (dataView, tiffOffset, offset, littleEndian, data) {\n    var tag = dataView.getUint16(offset, littleEndian)\n    data.exif[tag] = loadImage.getExifValue(\n        dataView,\n        tiffOffset,\n        offset,\n        dataView.getUint16(offset + 2, littleEndian), // tag type\n        dataView.getUint32(offset + 4, littleEndian), // tag length\n        littleEndian\n    )\n}\n\nloadImage.parseExifTags = function (dataView, tiffOffset, dirOffset, littleEndian, data) {\n    var tagsNumber,\n        dirEndOffset,\n        i\n    if (dirOffset + 6 > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid directory offset.')\n        return\n    }\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian)\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber\n    if (dirEndOffset + 4 > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid directory size.')\n        return\n    }\n    for (i = 0; i < tagsNumber; i += 1) {\n        this.parseExifTag(\n            dataView,\n            tiffOffset,\n            dirOffset + 2 + 12 * i, // tag offset\n            littleEndian,\n            data\n        )\n    }\n    // Return the offset to the next directory:\n    return dataView.getUint32(dirEndOffset, littleEndian)\n}\n\nloadImage.parseExifData = function (dataView, offset, length, data, options) {\n    if (options.disableExif) {\n        return\n    }\n    var tiffOffset = offset + 10\n    var littleEndian\n    var dirOffset\n    var thumbnailData\n    // Check for the ASCII code for \"Exif\" (0x45786966):\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\n        // No Exif data, might be XMP data instead\n        return\n    }\n    if (tiffOffset + 8 > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid segment size.')\n        return\n    }\n    // Check for the two null bytes:\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\n        //console.log('Invalid Exif data: Missing byte alignment offset.')\n        return\n    }\n    // Check the byte alignment:\n    switch (dataView.getUint16(tiffOffset)) {\n        case 0x4949:\n            littleEndian = true\n            break\n        case 0x4D4D:\n            littleEndian = false\n            break\n        default:\n            //console.log('Invalid Exif data: Invalid byte alignment marker.')\n            return\n    }\n    // Check for the TIFF tag marker (0x002A):\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002A) {\n        //console.log('Invalid Exif data: Missing TIFF marker.')\n        return\n    }\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian)\n    // Create the exif object to store the tags:\n    data.exif = new loadImage.ExifMap()\n    // Parse the tags of the main image directory and retrieve the\n    // offset to the next directory, usually the thumbnail directory:\n    dirOffset = loadImage.parseExifTags(\n        dataView,\n        tiffOffset,\n        tiffOffset + dirOffset,\n        littleEndian,\n        data\n    )\n    if (dirOffset && !options.disableExifThumbnail) {\n        thumbnailData = {exif: {}}\n        dirOffset = loadImage.parseExifTags(\n            dataView,\n            tiffOffset,\n            tiffOffset + dirOffset,\n            littleEndian,\n            thumbnailData\n        )\n        // Check for JPEG Thumbnail offset:\n        if (thumbnailData.exif[0x0201]) {\n            data.exif.Thumbnail = loadImage.getExifThumbnail(\n                dataView,\n                tiffOffset + thumbnailData.exif[0x0201],\n                thumbnailData.exif[0x0202] // Thumbnail data length\n            )\n        }\n    }\n    // Check for Exif Sub IFD Pointer:\n    if (data.exif[0x8769] && !options.disableExifSub) {\n        loadImage.parseExifTags(\n            dataView,\n            tiffOffset,\n            tiffOffset + data.exif[0x8769], // directory offset\n            littleEndian,\n            data\n        )\n    }\n    // Check for GPS Info IFD Pointer:\n    if (data.exif[0x8825] && !options.disableExifGps) {\n        loadImage.parseExifTags(\n            dataView,\n            tiffOffset,\n            tiffOffset + data.exif[0x8825], // directory offset\n            littleEndian,\n            data\n        )\n    }\n}\n\n// Registers the Exif parser for the APP1 JPEG meta data segment:\nloadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\nvar snabbt = (function() {\n\nvar tickRequests = [];\nvar runningAnimations = [];\nvar completedAnimations = [];\nvar transformProperty = 'transform';\n\n// Find which vendor prefix to use\nvar styles = window.getComputedStyle(document.documentElement, '');\nvar vendorPrefix = (Array.prototype.slice\n  .call(styles)\n  .join('') \n  .match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n)[1];\nif(vendorPrefix === 'webkit')\ntransformProperty = 'webkitTransform';\n\n/* Entry point, only function to be called by user */\nvar snabbt = function(arg1, arg2, arg3) {\n\nvar elements = arg1;\n\n// If argument is an Array or a NodeList or other list type that can be iterable.\n// Loop through and start one animation for each element.\nif(elements.length !== undefined) {\n  var aggregateChainer = {\n    chainers: [],\n    then: function(opts) {\n      return this.snabbt(opts);\n    },\n    snabbt: function(opts) {\n      var len = this.chainers.length;\n      this.chainers.forEach(function(chainer, index) {\n        chainer.snabbt(preprocessOptions(opts, index, len));\n      });\n      return aggregateChainer;\n    },\n    setValue: function(value) {\n      this.chainers.forEach(function(chainer) {\n        chainer.setValue(value);\n      });\n      return aggregateChainer;\n    },\n    finish: function() {\n      this.chainers.forEach(function(chainer) {\n        chainer.finish();\n      });\n      return aggregateChainer;\n    },\n    rollback: function() {\n      this.chainers.forEach(function(chainer) {\n        chainer.rollback();\n      });\n      return aggregateChainer;\n    }\n  };\n\n  for(var i=0, len=elements.length;i<len;++i) {\n    if(typeof arg2 == 'string')\n      aggregateChainer.chainers.push(snabbtSingleElement(elements[i], arg2, preprocessOptions(arg3, i, len)));\n    else\n      aggregateChainer.chainers.push(snabbtSingleElement(elements[i], preprocessOptions(arg2, i, len), arg3));\n  }\n  return aggregateChainer;\n} else {\n  if(typeof arg2 == 'string')\n    return snabbtSingleElement(elements, arg2, preprocessOptions(arg3, 0, 1));\n  else\n    return snabbtSingleElement(elements, preprocessOptions(arg2, 0, 1), arg3);\n}\n};\n\nvar preprocessOptions = function(options, index, len) {\nif(!options)\n  return options;\nvar clone = cloneObject(options);\n\nif(isFunction(options.delay)) {\n  clone.delay = options.delay(index, len);\n}\n\nif(isFunction(options.callback)) {\n  clone.complete = function() {\n    options.callback.call(this, index, len);\n  };\n}\n\nvar hasAllDoneCallback = isFunction(options.allDone);\nvar hasCompleteCallback = isFunction(options.complete);\n\nif(hasCompleteCallback || hasAllDoneCallback) {\n  clone.complete = function() {\n    if(hasCompleteCallback) {\n      options.complete.call(this, index, len);\n    }\n    if(hasAllDoneCallback && (index == len - 1)) {\n      options.allDone();\n    }\n  };\n}\n\nif(isFunction(options.valueFeeder)) {\n  clone.valueFeeder = function(i, matrix) {\n    return options.valueFeeder(i, matrix, index, len);\n  };\n}\nif(isFunction(options.easing)) {\n  clone.easing = function(i) {\n    return options.easing(i, index, len);\n  };\n}\n\nvar properties = [\n  'position',\n  'rotation',\n  'skew',\n  'rotationPost',\n  'scale',\n  'width',\n  'height',\n  'opacity',\n  'fromPosition',\n  'fromRotation',\n  'fromSkew',\n  'fromRotationPost',\n  'fromScale',\n  'fromWidth',\n  'fromHeight',\n  'fromOpacity',\n  'transformOrigin',\n  'duration',\n  'delay'\n];\n\nproperties.forEach(function(property) {\n  if(isFunction(options[property])) {\n    clone[property] = options[property](index, len);\n  }\n});\n\nreturn clone;\n};\n\nvar snabbtSingleElement = function(element, arg2, arg3) {\n\nif(arg2 === 'attention') {\n  return setupAttentionAnimation(element, arg3);\n}\n\nif(arg2 === 'stop') {\n  return stopAnimation(element);\n}\n\nif(arg2 === 'detach') {\n  return detachChildren(element);\n}\n\nvar options = arg2;\n\n// Remove orphaned end states\nclearOphanedEndStates();\n\n// If there is a running or past completed animation with element, use that end state as start state\nvar currentState = currentAnimationState(element);\nvar start = currentState;\n// from has precendance over current animation state\nstart = stateFromOptions(options, start, true);\nvar end = cloneObject(currentState);\nend = stateFromOptions(options, end);\n\nvar animOptions = setupAnimationOptions(start, end, options);\nvar animation = createAnimation(animOptions);\n\nrunningAnimations.push([element, animation]);\n\nanimation.updateElement(element, true);\nvar queue = [];\nvar chainer = {\n  snabbt: function(opts) {\n    queue.unshift(preprocessOptions(opts, 0, 1));\n    return chainer;\n  },\n  then: function(opts) {\n    return this.snabbt(opts);\n  }\n};\n\nfunction tick(time) {\n  animation.tick(time);\n  animation.updateElement(element);\n  if(animation.isStopped())\n    return;\n\n  if(!animation.completed())\n    return queueTick(tick);\n\n  if(options.loop > 1 && !animation.isStopped()) {\n    // Loop current animation\n    options.loop -= 1;\n    animation.restart();\n    queueTick(tick);\n  } else {\n    if(options.complete) {\n      options.complete.call(element);\n    }\n\n    // Start next animation in queue\n    if(queue.length) {\n      options = queue.pop();\n\n      start = stateFromOptions(options, end, true);\n      end = stateFromOptions(options, cloneObject(end));\n      options = setupAnimationOptions(start, end, options);\n\n      animation = createAnimation(options);\n      runningAnimations.push([element, animation]);\n\n      animation.tick(time);\n      queueTick(tick);\n    }\n  }\n}\n\nqueueTick(tick);\n// Manual animations are not chainable, instead an animation controller object is returned\n// with setValue, finish and rollback methods\nif(options.manual)\n  return animation;\nreturn chainer;\n};\n\nvar setupAttentionAnimation = function(element,  options) {\nvar movement = stateFromOptions(options, createState({}));\noptions.movement = movement;\nvar animation = createAttentionAnimation(options);\n\nrunningAnimations.push([element, animation]);\nfunction tick(time) {\n  animation.tick(time);\n  animation.updateElement(element);\n  if(!animation.completed()) {\n    queueTick(tick);\n  } else {\n    if(options.callback) {\n      options.callback(element);\n    }\n    if(options.loop && options.loop > 1) {\n      options.loop--;\n      animation.restart();\n      queueTick(tick);\n    }\n  }\n}\nqueueTick(tick);\n};\n\nvar stopAnimation = function(element) {\nfor(var i= 0,len=runningAnimations.length;i<len;++i) {\n  var currentAnimation = runningAnimations[i];\n  var animatedElement = currentAnimation[0];\n  var animation = currentAnimation[1];\n\n  if(animatedElement === element) {\n    animation.stop();\n  }\n}\n};\n\nvar indexOfElement = function(arr, element) {\n  for(var i=0,len=arr.length;i<len;++i) {\n    if (arr[i][0]===element) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nvar detachChildren = function(element) {\n\n  var elements = [];\n  var animations = runningAnimations.concat(completedAnimations);\n  var el;\n  var i;\n  var len = animations.length;\n\n  for(i=0;i<len;++i) {\n    el = animations[i][0];\n    if (element.contains(el) || element === el) {\n      elements.push(el);\n    }\n  }\n\n  len=elements.length;\n  for(i=0;i<len;++i) {\n    detachElement(elements[i]);\n  }\n\n};\n\nvar detachElement = function(element) {\n\n  // stop animations\n  stopAnimation(element);\n\n  // remove\n  var index = indexOfElement(runningAnimations, element);\n  if (index >= 0) {\n    runningAnimations.splice(index,1);\n  }\n\n  index = indexOfElement(completedAnimations, element);\n  if (index >= 0) {\n    completedAnimations.splice(index,1);\n  }\n\n};\n\nvar findAnimationState = function(animationList, element) {\nfor(var i=0,len=animationList.length;i<len;++i) {\n  var currentAnimation = animationList[i];\n  var animatedElement = currentAnimation[0];\n  var animation = currentAnimation[1];\n\n  if(animatedElement === element) {\n    var state = animation.getCurrentState();\n    animation.stop();\n    return state;\n  }\n}\n};\n\nvar clearOphanedEndStates = function() {\ncompletedAnimations = completedAnimations.filter(function(animation) {\n  return (findUltimateAncestor(animation[0]).body);\n});\n};\n\nvar findUltimateAncestor = function(node) {\nvar ancestor = node;\nwhile(ancestor.parentNode) {\n  ancestor = ancestor.parentNode;\n}\nreturn ancestor;\n};\n\n/**\n* Returns the current state of element if there is an ongoing or previously finished\n* animation releated to it. Will also call stop on the animation.\n* TODO: The stopping of the animation is better put somewhere else\n*/\nvar currentAnimationState = function(element) {\n// Check if a completed animation is stored for this element\nvar state = findAnimationState(runningAnimations, element);\nif(state)\n  return state;\n\nreturn findAnimationState(completedAnimations, element);\n};\n\n/**\n* Parses an animation configuration object and returns a State instance\n*/\nvar stateFromOptions = function(options, state, useFromPrefix) {\nif (!state) {\n  state = createState({\n    position: [0, 0, 0],\n    rotation: [0, 0, 0],\n    rotationPost: [0, 0, 0],\n    scale: [1, 1],\n    skew: [0, 0]\n  });\n}\nvar position = 'position';\nvar rotation = 'rotation';\nvar skew = 'skew';\nvar rotationPost = 'rotationPost';\nvar scale = 'scale';\nvar scalePost = 'scalePost';\nvar width = 'width';\nvar height = 'height';\nvar opacity = 'opacity';\n\nif(useFromPrefix) {\n  position = 'fromPosition';\n  rotation = 'fromRotation';\n  skew = 'fromSkew';\n  rotationPost = 'fromRotationPost';\n  scale = 'fromScale';\n  scalePost = 'fromScalePost';\n  width = 'fromWidth';\n  height = 'fromHeight';\n  opacity = 'fromOpacity';\n}\n\nstate.position = optionOrDefault(options[position], state.position);\nstate.rotation = optionOrDefault(options[rotation], state.rotation);\nstate.rotationPost = optionOrDefault(options[rotationPost], state.rotationPost);\nstate.skew = optionOrDefault(options[skew], state.skew);\nstate.scale = optionOrDefault(options[scale], state.scale);\nstate.scalePost = optionOrDefault(options[scalePost], state.scalePost);\nstate.opacity = options[opacity];\nstate.width = options[width];\nstate.height = options[height];\n\nreturn state;\n};\n\nvar setupAnimationOptions = function(start, end, options) {\noptions.startState = start;\noptions.endState = end;\nreturn options;\n};\n\nvar polyFillrAF = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) { return setTimeout(callback, 1000 / 60); }; \n\nvar queueTick = function(func) {\nif(tickRequests.length === 0)\n  polyFillrAF(tickAnimations);\ntickRequests.push(func);\n};\n\nvar tickAnimations = function(time) {\nvar len = tickRequests.length;\nfor(var i=0;i<len;++i) {\n  tickRequests[i](time);\n}\ntickRequests.splice(0, len);\n\nvar finishedAnimations = runningAnimations.filter(function(animation) {\n  return animation[1].completed();\n});\n\n// See if there are any previously completed animations on the same element, if so, remove it before merging\ncompletedAnimations = completedAnimations.filter(function(animation) {\n  for(var i=0,len=finishedAnimations.length;i<len;++i) {\n    if(animation[0] === finishedAnimations[i][0]) {\n      return false;\n    }\n  }\n  return true;\n});\n\ncompletedAnimations = completedAnimations.concat(finishedAnimations);\n\nrunningAnimations = runningAnimations.filter(function(animation) {\n  return !animation[1].completed();\n});\n\nif(tickRequests.length !== 0)\n  polyFillrAF(tickAnimations);\n};\n\n\n// Class for handling animation between two states\nvar createAnimation = function(options) {\nvar startState = options.startState;\nvar endState = options.endState;\nvar duration = optionOrDefault(options.duration, 500);\nvar delay = optionOrDefault(options.delay, 0);\nvar perspective = options.perspective;\nvar easing = createEaser(optionOrDefault(options.easing, 'linear'), options);\nvar currentState = duration === 0 ? endState.clone() : startState.clone();\nvar transformOrigin = options.transformOrigin;\ncurrentState.transformOrigin = options.transformOrigin;\n\nvar startTime = 0;\nvar currentTime = 0;\nvar stopped = false;\nvar started = false;\n\n// Manual related\nvar manual = options.manual;\nvar manualValue = 0;\nvar manualDelayFactor = delay / duration;\nvar manualCallback;\n\nvar tweener;\n// Setup tweener\nif(options.valueFeeder) {\n  tweener = createValueFeederTweener(options.valueFeeder,\n                                     startState,\n                                     endState,\n                                     currentState);\n} else {\n  tweener = createStateTweener(startState, endState, currentState);\n}\n\n// Public api\nreturn {\n  stop: function() {\n    stopped = true;\n  },\n  isStopped: function() {\n    return stopped;\n  },\n\n  finish: function(callback) {\n    manual = false;\n    var manualDuration = duration * manualValue;\n    startTime = currentTime - manualDuration;\n    manualCallback = callback;\n    easing.resetFrom = manualValue;\n  },\n\n  rollback: function(callback) {\n    manual = false;\n    tweener.setReverse();\n    var manualDuration = duration * (1 - manualValue);\n    startTime = currentTime - manualDuration;\n    manualCallback = callback;\n    easing.resetFrom = manualValue;\n  },\n\n  restart: function() {\n    // Restart timer\n    startTime = undefined;\n    easing.resetFrom(0);\n  },\n\n  tick: function(time) {\n    if(stopped)\n      return;\n\n    if(manual) {\n      currentTime = time;\n      this.updateCurrentTransform();\n      return;\n    }\n\n    // If first tick, set startTime\n    if(!startTime) {\n      startTime = time;\n    }\n    if(time - startTime > delay) {\n      started = true;\n      currentTime = time - delay;\n\n      var curr = Math.min(Math.max(0.0, currentTime - startTime), duration);\n      easing.tick(curr / duration);\n      this.updateCurrentTransform();\n      if(this.completed() && manualCallback) {\n        manualCallback();\n      }\n    }\n  },\n\n  getCurrentState: function() {\n    return currentState;\n  },\n\n  setValue: function(_manualValue) {\n    started = true;\n    manualValue = Math.min(Math.max(_manualValue, 0.0001), 1 + manualDelayFactor);\n  },\n\n  updateCurrentTransform: function() {\n    var tweenValue = easing.getValue();\n    if(manual) {\n      var val = Math.max(0.00001, manualValue - manualDelayFactor);\n      easing.tick(val);\n      tweenValue = easing.getValue();\n    }\n    tweener.tween(tweenValue);\n  },\n\n  completed: function() {\n    if(stopped)\n      return true;\n    if(startTime === 0) {\n      return false;\n    }\n    return easing.completed();\n  },\n\n  updateElement: function(element, forceUpdate) {\n    if(!started && !forceUpdate)\n      return;\n    var matrix = tweener.asMatrix();\n    var properties = tweener.getProperties();\n    updateElementTransform(element, matrix, perspective);\n    updateElementProperties(element, properties);\n  }\n};\n};\n\n// ------------------------------\n// End Time animation\n// ------------------------------\n\n// ------------------------\n// -- AttentionAnimation --\n// ------------------------\n\nvar createAttentionAnimation = function(options) {\nvar movement = options.movement;\noptions.initialVelocity = 0.1;\noptions.equilibriumPosition = 0;\nvar spring = createSpringEasing(options);\nvar stopped = false;\nvar tweenPosition = movement.position;\nvar tweenRotation = movement.rotation;\nvar tweenRotationPost = movement.rotationPost;\nvar tweenScale = movement.scale;\nvar tweenSkew = movement.skew;\n\nvar currentMovement = createState({\n  position: tweenPosition ? [0, 0, 0] : undefined,\n  rotation: tweenRotation ? [0, 0, 0] : undefined,\n  rotationPost: tweenRotationPost ? [0, 0, 0] : undefined,\n  scale: tweenScale ? [0, 0] : undefined,\n  skew: tweenSkew ? [0, 0] : undefined,\n});\n\n// Public API\nreturn {\n  stop: function() {\n    stopped = true;\n  },\n\n  isStopped: function(time) {\n    return stopped;\n  },\n\n  tick: function(time) {\n    if(stopped)\n      return;\n    if(spring.equilibrium)\n      return;\n    spring.tick();\n\n    this.updateMovement();\n  },\n\n  updateMovement:function() {\n    var value = spring.getValue();\n    if(tweenPosition) {\n      currentMovement.position[0] = movement.position[0] * value;\n      currentMovement.position[1] = movement.position[1] * value;\n      currentMovement.position[2] = movement.position[2] * value;\n    }\n    if(tweenRotation) {\n      currentMovement.rotation[0] = movement.rotation[0] * value;\n      currentMovement.rotation[1] = movement.rotation[1] * value;\n      currentMovement.rotation[2] = movement.rotation[2] * value;\n    }\n    if(tweenRotationPost) {\n      currentMovement.rotationPost[0] = movement.rotationPost[0] * value;\n      currentMovement.rotationPost[1] = movement.rotationPost[1] * value;\n      currentMovement.rotationPost[2] = movement.rotationPost[2] * value;\n    }\n    if(tweenScale) {\n      currentMovement.scale[0] = 1 + movement.scale[0] * value;\n      currentMovement.scale[1] = 1 + movement.scale[1] * value;\n    }\n\n    if(tweenSkew) {\n      currentMovement.skew[0] = movement.skew[0] * value;\n      currentMovement.skew[1] = movement.skew[1] * value;\n    }\n  },\n\n  updateElement: function(element) {\n    updateElementTransform(element, currentMovement.asMatrix());\n    updateElementProperties(element, currentMovement.getProperties());\n  },\n\n  getCurrentState: function() {\n    return currentMovement;\n  },\n\n  completed: function() {\n    return spring.equilibrium || stopped;\n  },\n\n  restart: function() {\n    // Restart spring\n    spring = createSpringEasing(options);\n  }\n};\n};\n\n\n/**********\n* Easings *\n***********/\n\nvar linearEasing = function(value) {\nreturn value;\n};\n\nvar ease = function(value) {\nreturn (Math.cos(value*Math.PI + Math.PI) + 1)/2;\n};\n\nvar easeIn = function(value) {\nreturn value*value;\n};\n\nvar easeOut = function(value) {\nreturn -Math.pow(value - 1, 2) + 1;\n};\n\nvar createSpringEasing = function(options) {\nvar position = optionOrDefault(options.startPosition, 0);\nvar equilibriumPosition = optionOrDefault(options.equilibriumPosition, 1);\nvar velocity = optionOrDefault(options.initialVelocity, 0);\nvar springConstant = optionOrDefault(options.springConstant, 0.8);\nvar deceleration = optionOrDefault(options.springDeceleration, 0.9);\nvar mass = optionOrDefault(options.springMass, 10);\n\nvar equilibrium = false;\n\n// Public API\nreturn {\n\n  tick: function(value) {\n    if(value === 0.0)\n      return;\n    if(equilibrium)\n      return;\n    var springForce = -(position - equilibriumPosition) * springConstant;\n    // f = m * a\n    // a = f / m\n    var a = springForce / mass;\n    // s = v * t\n    // t = 1 ( for now )\n    velocity += a;\n    position += velocity;\n\n    // Deceleration\n    velocity *= deceleration;\n\n    if(Math.abs(position - equilibriumPosition) < 0.001 && Math.abs(velocity) < 0.001) {\n      equilibrium = true;\n    }\n  },\n\n  resetFrom: function(value) {\n    position = value;\n    velocity = 0;\n  },\n\n\n  getValue: function() {\n    if(equilibrium)\n      return equilibriumPosition;\n    return position;\n  },\n\n  completed: function() {\n    return equilibrium;\n  }\n};\n};\n\nvar EASING_FUNCS = {\n'linear': linearEasing,\n'ease': ease,\n'easeIn': easeIn,\n'easeOut': easeOut,\n};\n\n\nvar createEaser = function(easerName, options) {\nif(easerName == 'spring') {\n  return createSpringEasing(options);\n}\nvar easeFunction = easerName;\nif(!isFunction(easerName)) {\n  easeFunction = EASING_FUNCS[easerName];\n}\n\nvar easer = easeFunction;\nvar value = 0;\nvar lastValue;\n\n// Public API\nreturn {\n  tick: function(v) {\n    value = easer(v);\n    lastValue = v;\n  },\n\n  resetFrom: function(value) {\n    lastValue = 0;\n  },\n\n  getValue: function() {\n    return value;\n  },\n\n  completed: function() {\n    if(lastValue >= 1) {\n      return lastValue;\n    }\n    return false;\n  }\n};\n};\n\n/***\n* Matrix related\n*/\n\nvar assignTranslate = function(matrix, x, y, z) {\nmatrix[0] = 1;\nmatrix[1] = 0;\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = 1;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = x;\nmatrix[13] = y;\nmatrix[14] = z;\nmatrix[15] = 1;\n};\n\nvar assignRotateX = function(matrix, rad) {\nmatrix[0] = 1;\nmatrix[1] = 0;\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = Math.cos(rad);\nmatrix[6] = -Math.sin(rad);\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = Math.sin(rad);\nmatrix[10] = Math.cos(rad);\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\n\nvar assignRotateY = function(matrix, rad) {\nmatrix[0] = Math.cos(rad);\nmatrix[1] = 0;\nmatrix[2] = Math.sin(rad);\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = 1;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = -Math.sin(rad);\nmatrix[9] = 0;\nmatrix[10] = Math.cos(rad);\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\nvar assignRotateZ = function(matrix, rad) {\nmatrix[0] = Math.cos(rad);\nmatrix[1] = -Math.sin(rad);\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = Math.sin(rad);\nmatrix[5] = Math.cos(rad);\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\nvar assignSkew = function(matrix, ax, ay) {\nmatrix[0] = 1;\nmatrix[1] = Math.tan(ax);\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = Math.tan(ay);\nmatrix[5] = 1;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\n\nvar assignScale = function(matrix, x, y) {\nmatrix[0] = x;\nmatrix[1] = 0;\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = y;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\nvar assignIdentity = function(matrix) {\nmatrix[0] = 1;\nmatrix[1] = 0;\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = 1;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\nvar copyArray = function(a, b) {\nb[0] = a[0];\nb[1] = a[1];\nb[2] = a[2];\nb[3] = a[3];\nb[4] = a[4];\nb[5] = a[5];\nb[6] = a[6];\nb[7] = a[7];\nb[8] = a[8];\nb[9] = a[9];\nb[10] = a[10];\nb[11] = a[11];\nb[12] = a[12];\nb[13] = a[13];\nb[14] = a[14];\nb[15] = a[15];\n};\n\nvar createMatrix = function() {\nvar data = new Float32Array(16);\nvar a = new Float32Array(16);\nvar b = new Float32Array(16);\nassignIdentity(data);\n\nreturn {\n  data: data,\n\n  asCSS: function() {\n    var css = 'matrix3d(';\n    for(var i=0;i<15;++i) {\n      if(Math.abs(data[i]) < 0.0001)\n        css += '0,';\n      else\n        css += data[i].toFixed(10) + ',';\n    }\n    if(Math.abs(data[15]) < 0.0001)\n      css += '0)';\n    else\n      css += data[15].toFixed(10) + ')';\n    return css;\n  },\n\n  clear: function() {\n    assignIdentity(data);\n  },\n\n  translate: function(x, y, z) {\n    copyArray(data, a);\n    assignTranslate(b, x, y, z);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  rotateX: function(radians) {\n    copyArray(data, a);\n    assignRotateX(b, radians);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  rotateY: function(radians) {\n    copyArray(data, a);\n    assignRotateY(b, radians);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  rotateZ: function(radians) {\n    copyArray(data, a);\n    assignRotateZ(b, radians);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  scale: function(x, y) {\n    copyArray(data, a);\n    assignScale(b, x, y);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  skew: function(ax, ay) {\n    copyArray(data, a);\n    assignSkew(b, ax, ay);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  }\n};\n};\n\nvar assignedMatrixMultiplication = function(a, b, res) {\n// Unrolled loop\nres[0] = a[0] * b[0] + a[1] * b[4] + a[2] * b[8] + a[3] * b[12];\nres[1] = a[0] * b[1] + a[1] * b[5] + a[2] * b[9] + a[3] * b[13];\nres[2] = a[0] * b[2] + a[1] * b[6] + a[2] * b[10] + a[3] * b[14];\nres[3] = a[0] * b[3] + a[1] * b[7] + a[2] * b[11] + a[3] * b[15];\n\nres[4] = a[4] * b[0] + a[5] * b[4] + a[6] * b[8] + a[7] * b[12];\nres[5] = a[4] * b[1] + a[5] * b[5] + a[6] * b[9] + a[7] * b[13];\nres[6] = a[4] * b[2] + a[5] * b[6] + a[6] * b[10] + a[7] * b[14];\nres[7] = a[4] * b[3] + a[5] * b[7] + a[6] * b[11] + a[7] * b[15];\n\nres[8] = a[8] * b[0] + a[9] * b[4] + a[10] * b[8] + a[11] * b[12];\nres[9] = a[8] * b[1] + a[9] * b[5] + a[10] * b[9] + a[11] * b[13];\nres[10] = a[8] * b[2] + a[9] * b[6] + a[10] * b[10] + a[11] * b[14];\nres[11] = a[8] * b[3] + a[9] * b[7] + a[10] * b[11] + a[11] * b[15];\n\nres[12] = a[12] * b[0] + a[13] * b[4] + a[14] * b[8] + a[15] * b[12];\nres[13] = a[12] * b[1] + a[13] * b[5] + a[14] * b[9] + a[15] * b[13];\nres[14] = a[12] * b[2] + a[13] * b[6] + a[14] * b[10] + a[15] * b[14];\nres[15] = a[12] * b[3] + a[13] * b[7] + a[14] * b[11] + a[15] * b[15];\n\nreturn res;\n};\n\nvar createState = function(config) {\n// Caching of matrix and properties so we don't have to create new ones everytime they are needed\nvar matrix = createMatrix();\nvar properties = {\n  opacity: undefined,\n  width: undefined,\n  height: undefined\n};\n\n// Public API\nreturn {\n  position: config.position,\n  rotation: config.rotation,\n  rotationPost: config.rotationPost,\n  skew: config.skew,\n  scale: config.scale,\n  scalePost: config.scalePost,\n  opacity: config.opacity,\n  width: config.width,\n  height: config.height,\n\n\n  clone: function() {\n    return createState({\n      position: this.position ? this.position.slice(0) : undefined,\n      rotation: this.rotation ? this.rotation.slice(0) : undefined,\n      rotationPost: this.rotationPost ? this.rotationPost.slice(0) : undefined,\n      skew: this.skew ? this.skew.slice(0) : undefined,\n      scale: this.scale ? this.scale.slice(0) : undefined,\n      scalePost: this.scalePost ? this.scalePost.slice(0) : undefined,\n      height: this.height,\n      width: this.width,\n      opacity: this.opacity\n    });\n  },\n\n  asMatrix: function() {\n    var m = matrix;\n    m.clear();\n\n    if(this.transformOrigin)\n      m.translate(-this.transformOrigin[0], -this.transformOrigin[1], -this.transformOrigin[2]);\n\n    if(this.scale) {\n      m.scale(this.scale[0], this.scale[1]);\n    }\n\n    if(this.skew) {\n      m.skew(this.skew[0], this.skew[1]);\n    }\n\n    if(this.rotation) {\n      m.rotateX(this.rotation[0]);\n      m.rotateY(this.rotation[1]);\n      m.rotateZ(this.rotation[2]);\n    }\n\n    if(this.position) {\n      m.translate(this.position[0], this.position[1], this.position[2]);\n    }\n\n    if(this.rotationPost) {\n      m.rotateX(this.rotationPost[0]);\n      m.rotateY(this.rotationPost[1]);\n      m.rotateZ(this.rotationPost[2]);\n    }\n\n    if(this.scalePost) {\n      m.scale(this.scalePost[0], this.scalePost[1]);\n    }\n\n    if(this.transformOrigin)\n      m.translate(this.transformOrigin[0], this.transformOrigin[1], this.transformOrigin[2]);\n    return m;\n  },\n\n  getProperties: function() {\n    properties.opacity = this.opacity;\n    properties.width = this.width + 'px';\n    properties.height = this.height + 'px';\n    return properties;\n  }\n};\n};\n// ------------------\n// -- StateTweener -- \n// -------------------\n\nvar createStateTweener = function(startState, endState, resultState) {\nvar start = startState;\nvar end = endState;\nvar result = resultState;\n\nvar tweenPosition = end.position !== undefined;\nvar tweenRotation = end.rotation !== undefined;\nvar tweenRotationPost = end.rotationPost !== undefined;\nvar tweenScale = end.scale !== undefined;\nvar tweenSkew = end.skew !== undefined;\nvar tweenWidth = end.width !== undefined;\nvar tweenHeight = end.height !== undefined;\nvar tweenOpacity = end.opacity !== undefined;\n\n// Public API\nreturn {\n\n  tween: function(tweenValue) {\n\n    if(tweenPosition) {\n      var dX = (end.position[0] - start.position[0]);\n      var dY = (end.position[1] - start.position[1]);\n      var dZ = (end.position[2] - start.position[2]);\n      result.position[0] = start.position[0] + tweenValue*dX;\n      result.position[1] = start.position[1] + tweenValue*dY;\n      result.position[2] = start.position[2] + tweenValue*dZ;\n    }\n\n    if(tweenRotation) {\n      var dAX = (end.rotation[0] - start.rotation[0]);\n      var dAY = (end.rotation[1] - start.rotation[1]);\n      var dAZ = (end.rotation[2] - start.rotation[2]);\n      result.rotation[0] = start.rotation[0] + tweenValue*dAX;\n      result.rotation[1] = start.rotation[1] + tweenValue*dAY;\n      result.rotation[2] = start.rotation[2] + tweenValue*dAZ;\n    }\n\n    if(tweenRotationPost) {\n      var dBX = (end.rotationPost[0] - start.rotationPost[0]);\n      var dBY = (end.rotationPost[1] - start.rotationPost[1]);\n      var dBZ = (end.rotationPost[2] - start.rotationPost[2]);\n      result.rotationPost[0] = start.rotationPost[0] + tweenValue*dBX;\n      result.rotationPost[1] = start.rotationPost[1] + tweenValue*dBY;\n      result.rotationPost[2] = start.rotationPost[2] + tweenValue*dBZ;\n    }\n\n    if(tweenSkew) {\n      var dSX = (end.scale[0] - start.scale[0]);\n      var dSY = (end.scale[1] - start.scale[1]);\n\n      result.scale[0] = start.scale[0] + tweenValue*dSX;\n      result.scale[1] = start.scale[1] + tweenValue*dSY;\n    }\n\n    if(tweenScale) {\n      var dSkewX = (end.skew[0] - start.skew[0]);\n      var dSkewY = (end.skew[1] - start.skew[1]);\n\n      result.skew[0] = start.skew[0] + tweenValue*dSkewX;\n      result.skew[1] = start.skew[1] + tweenValue*dSkewY;\n    }\n\n    if(tweenWidth) {\n      var dWidth = (end.width - start.width);\n      result.width = start.width + tweenValue*dWidth;\n    }\n\n\n    if(tweenHeight) {\n      var dHeight = (end.height - start.height);\n      result.height = start.height + tweenValue*dHeight;\n    }\n\n    if(tweenOpacity) {\n      var dOpacity = (end.opacity - start.opacity);\n      result.opacity = start.opacity + tweenValue*dOpacity;\n    }\n\n  },\n\n  asMatrix: function() {\n    return result.asMatrix();\n  },\n\n  getProperties: function() {\n    return result.getProperties();\n  },\n\n  setReverse: function() {\n    var oldStart = start;\n    start = end;\n    end = oldStart;\n  }\n};\n};\n\n// ------------------------\n// -- ValueFeederTweener -- \n// ------------------------\n\nvar createValueFeederTweener = function(valueFeeder, startState, endState, resultState) {\nvar currentMatrix = valueFeeder(0, createMatrix());\nvar start = startState;\nvar end = endState;\nvar result = resultState;\nvar reverse = false;\n\n\n// Public API\nreturn {\n\n  tween: function(tweenValue) {\n    if(reverse)\n      tweenValue = 1 - tweenValue;\n    currentMatrix.clear();\n    currentMatrix = valueFeeder(tweenValue, currentMatrix);\n\n    var dWidth = (end.width - start.width);\n    var dHeight = (end.height - start.height);\n    var dOpacity = (end.opacity - start.opacity);\n\n    if(end.width !== undefined)\n      result.width = start.width + tweenValue*dWidth;\n    if(end.height !== undefined)\n      result.height = start.height + tweenValue*dHeight;\n    if(end.opacity !== undefined)\n      result.opacity = start.opacity + tweenValue*dOpacity;\n  },\n\n  asMatrix: function() {\n    return currentMatrix;\n  },\n\n  getProperties: function() {\n    return result.getProperties();\n  },\n\n  setReverse: function() {\n    reverse = true;\n  }\n\n};\n};\n\nvar optionOrDefault = function(option, def) {\nif(typeof option == 'undefined') {\n  return def;\n}\nreturn option;\n};\n\nvar updateElementTransform = function(element, matrix, perspective) {\nvar cssPerspective = '';\nif(perspective) {\n  cssPerspective = 'perspective(' + perspective + 'px) ';\n}\nvar cssMatrix = matrix.asCSS();\nelement.style[transformProperty] = cssPerspective + cssMatrix;\n};\n\nvar updateElementProperties = function(element, properties) {\nfor(var key in properties) {\n  element.style[key] = properties[key];\n}\n};\n\nvar isFunction = function(object) {\nreturn (typeof object === \"function\");\n};\n\nvar cloneObject = function(object) {\nif(!object)\n  return object;\nvar clone = {};\nfor(var key in object) {\n  clone[key] = object[key];\n}\nreturn clone;\n};\n\nsnabbt.createMatrix = createMatrix;\nsnabbt.setElementTransform = updateElementTransform;\nreturn snabbt;\n}());\nvar stackBlur = (function(){\n\nvar mul_table = [\n    512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,\n    454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,\n    482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,\n    437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,\n    497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,\n    320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,\n    446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,\n    329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,\n    505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,\n    399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,\n    324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,\n    268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,\n    451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,\n    385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,\n    332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,\n    289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];\n\n\nvar shg_table = [\n    9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17,\n    17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19,\n    19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\n    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\n    21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\n    21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22,\n    22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\n    22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 ];\n\nfunction getImageDataFromCanvas(canvas, top_x, top_y, width, height)\n{\n    if (typeof(canvas) == 'string')\n        canvas  = document.getElementById(canvas);\n    else if (!canvas instanceof HTMLCanvasElement)\n        return;\n\n    var context = canvas.getContext('2d');\n    var imageData;\n\n    try {\n        try {\n            imageData = context.getImageData(top_x, top_y, width, height);\n        } catch(e) {\n            throw new Error(\"unable to access local image data: \" + e);\n            return;\n        }\n    } catch(e) {\n        throw new Error(\"unable to access image data: \" + e);\n    }\n\n    return imageData;\n}\n\nfunction processCanvasRGBA(canvas, top_x, top_y, width, height, radius)\n{\n    if (isNaN(radius) || radius < 1) return;\n    radius |= 0;\n\n    var imageData = getImageDataFromCanvas(canvas, top_x, top_y, width, height);\n\n    imageData = processImageDataRGBA(imageData, top_x, top_y, width, height, radius);\n\n    canvas.getContext('2d').putImageData(imageData, top_x, top_y);\n}\n\nfunction processImageDataRGBA(imageData, top_x, top_y, width, height, radius)\n{\n    var pixels = imageData.data;\n\n    var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum,\n        r_out_sum, g_out_sum, b_out_sum, a_out_sum,\n        r_in_sum, g_in_sum, b_in_sum, a_in_sum,\n        pr, pg, pb, pa, rbs;\n\n    var div = radius + radius + 1;\n    var w4 = width << 2;\n    var widthMinus1  = width - 1;\n    var heightMinus1 = height - 1;\n    var radiusPlus1  = radius + 1;\n    var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n\n    var stackStart = new BlurStack();\n    var stack = stackStart;\n    for (i = 1; i < div; i++)\n    {\n        stack = stack.next = new BlurStack();\n        if (i == radiusPlus1) var stackEnd = stack;\n    }\n    stack.next = stackStart;\n    var stackIn = null;\n    var stackOut = null;\n\n    yw = yi = 0;\n\n    var mul_sum = mul_table[radius];\n    var shg_sum = shg_table[radius];\n\n    for (y = 0; y < height; y++)\n    {\n        r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi+1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi+2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi+3]);\n\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n\n        stack = stackStart;\n\n        for (i = 0; i < radiusPlus1; i++)\n        {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n\n        for (i = 1; i < radiusPlus1; i++)\n        {\n            p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n            r_sum += (stack.r = (pr = pixels[p])) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = (pg = pixels[p+1])) * rbs;\n            b_sum += (stack.b = (pb = pixels[p+2])) * rbs;\n            a_sum += (stack.a = (pa = pixels[p+3])) * rbs;\n\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n\n            stack = stack.next;\n        }\n\n\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (x = 0; x < width; x++)\n        {\n            pixels[yi+3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa != 0)\n            {\n                pa = 255 / pa;\n                pixels[yi]   = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi+1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi+2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            } else {\n                pixels[yi] = pixels[yi+1] = pixels[yi+2] = 0;\n            }\n\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n\n            p =  (yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1)) << 2;\n\n            r_in_sum += (stackIn.r = pixels[p]);\n            g_in_sum += (stackIn.g = pixels[p+1]);\n            b_in_sum += (stackIn.b = pixels[p+2]);\n            a_in_sum += (stackIn.a = pixels[p+3]);\n\n            r_sum += r_in_sum;\n            g_sum += g_in_sum;\n            b_sum += b_in_sum;\n            a_sum += a_in_sum;\n\n            stackIn = stackIn.next;\n\n            r_out_sum += (pr = stackOut.r);\n            g_out_sum += (pg = stackOut.g);\n            b_out_sum += (pb = stackOut.b);\n            a_out_sum += (pa = stackOut.a);\n\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n\n            stackOut = stackOut.next;\n\n            yi += 4;\n        }\n        yw += width;\n    }\n\n\n    for (x = 0; x < width; x++)\n    {\n        g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n\n        yi = x << 2;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi+1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi+2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi+3]);\n\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n\n        stack = stackStart;\n\n        for (i = 0; i < radiusPlus1; i++)\n        {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n\n        yp = width;\n\n        for (i = 1; i <= radius; i++)\n        {\n            yi = (yp + x) << 2;\n\n            r_sum += (stack.r = (pr = pixels[yi])) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = (pg = pixels[yi+1])) * rbs;\n            b_sum += (stack.b = (pb = pixels[yi+2])) * rbs;\n            a_sum += (stack.a = (pa = pixels[yi+3])) * rbs;\n\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n\n            stack = stack.next;\n\n            if(i < heightMinus1)\n            {\n                yp += width;\n            }\n        }\n\n        yi = x;\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (y = 0; y < height; y++)\n        {\n            p = yi << 2;\n            pixels[p+3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa > 0)\n            {\n                pa = 255 / pa;\n                pixels[p]   = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p+1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p+2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            } else {\n                pixels[p] = pixels[p+1] = pixels[p+2] = 0;\n            }\n\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n\n            p = (x + (((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width)) << 2;\n\n            r_sum += (r_in_sum += (stackIn.r = pixels[p]));\n            g_sum += (g_in_sum += (stackIn.g = pixels[p+1]));\n            b_sum += (b_in_sum += (stackIn.b = pixels[p+2]));\n            a_sum += (a_in_sum += (stackIn.a = pixels[p+3]));\n\n            stackIn = stackIn.next;\n\n            r_out_sum += (pr = stackOut.r);\n            g_out_sum += (pg = stackOut.g);\n            b_out_sum += (pb = stackOut.b);\n            a_out_sum += (pa = stackOut.a);\n\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n\n            stackOut = stackOut.next;\n\n            yi += width;\n        }\n    }\n    return imageData;\n}\n\nfunction BlurStack()\n{\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = 0;\n    this.next = null;\n}\n\nreturn processCanvasRGBA;\n\n}());\n// canvas to blob polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob#Polyfill\nif (!HTMLCanvasElement.prototype.toBlob) {\n\tObject.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\n\t\tvalue: function (callback, type, quality) {\n\n\t\t\tvar binStr = atob( this.toDataURL(type, quality).split(',')[1] ),\n\t\t\t\tlen = binStr.length,\n\t\t\t\tarr = new Uint8Array(len);\n\n\t\t\tfor (var i=0; i<len; i++ ) {\n\t\t\t\tarr[i] = binStr.charCodeAt(i);\n\t\t\t}\n\n\t\t\tcallback( new Blob( [arr], {type: type || 'image/png'} ) );\n\t\t}\n\t});\n}\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _arguments = arguments;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar copyString = function copyString(str) {\n\treturn str + '';\n};\n\nvar getDataset = function getDataset(el) {\n\n\tif (typeof el.dataset === 'undefined') {\n\t\tvar res = {};\n\t\tvar attr;\n\t\tvar attrName;\n\t\tvar attrs = el.attributes;\n\t\tfor (attr in attrs) {\n\t\t\tif (attrs.hasOwnProperty(attr) && attrs[attr].name && /^data-[a-z_\\-\\d]*$/i.test(attrs[attr].name)) {\n\t\t\t\tattrName = toCamelCase(attrs[attr].name.substr(5));\n\t\t\t\tres[attrName] = attrs[attr].value;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\treturn el.dataset;\n};\n\nvar toCamelCase = function toCamelCase(str) {\n\treturn str.replace(/\\-./g, function (substr) {\n\t\treturn substr.charAt(1).toUpperCase();\n\t});\n};\n\nvar getElementAttributes = function getElementAttributes(el) {\n\t// is a for loop on purpose as this should still function when Slim not supported\n\tvar result = [];\n\tvar attributes = Array.prototype.slice.call(el.attributes);\n\tvar l = attributes.length;\n\tfor (var i = 0; i < l; i++) {\n\t\tresult.push({\n\t\t\tname: attributes[i].name,\n\t\t\tvalue: attributes[i].value\n\t\t});\n\t}\n\treturn result;\n};\n\n// helper method\nvar getOffsetByEvent = function getOffsetByEvent(e) {\n\treturn {\n\t\tx: typeof e.offsetX === 'undefined' ? e.layerX : e.offsetX,\n\t\ty: typeof e.offsetY === 'undefined' ? e.layerY : e.offsetY\n\t};\n};\n\n// merge two objects together\nvar mergeOptions = function mergeOptions(base, additives) {\n\n\tvar key;\n\tvar options = {};\n\tvar optionsToMerge = additives || {};\n\n\tfor (key in base) {\n\t\tif (!base.hasOwnProperty(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\toptions[key] = typeof optionsToMerge[key] === 'undefined' ? base[key] : optionsToMerge[key];\n\t}\n\n\treturn options;\n};\n\n// keys\nvar Key = {\n\tESC: 27,\n\tRETURN: 13\n};\n\n// pointer events\nvar Events = {\n\tDOWN: ['touchstart', 'pointerdown', 'mousedown'],\n\tMOVE: ['touchmove', 'pointermove', 'mousemove'],\n\tUP: ['touchend', 'touchcancel', 'pointerup', 'mouseup']\n};\n\nvar MimeTypes = {\n\t'jpeg': 'image/jpeg',\n\t'jpg': 'image/jpeg',\n\t'jpe': 'image/jpeg',\n\t'png': 'image/png',\n\t'gif': 'image/gif',\n\t'bmp': 'image/bmp'\n};\n\nvar ImageExtensionsRegex = /(\\.png|\\.bmp|\\.gif|\\.jpg|\\.jpe|\\.jpg|\\.jpeg)$/;\n\nvar CanvasExportExtensions = /(jpe|jpg|jpeg|png)/;\n\n// shortcuts\nvar create = function create(name, className) {\n\tvar node = document.createElement(name);\n\tif (className) {\n\t\tnode.className = className;\n\t}\n\treturn node;\n};\n\n// events\nvar addEvents = function addEvents(obj, events, scope) {\n\tevents.forEach(function (event) {\n\t\tobj.addEventListener(event, scope, false);\n\t});\n};\n\nvar removeEvents = function removeEvents(obj, events, scope) {\n\tevents.forEach(function (event) {\n\t\tobj.removeEventListener(event, scope, false);\n\t});\n};\n\nvar getEventOffset = function getEventOffset(e) {\n\n\tvar event = e.changedTouches ? e.changedTouches[0] : e;\n\n\t// no event found, quit!\n\tif (!event) {\n\t\treturn;\n\t}\n\n\t// get offset from events\n\treturn {\n\t\tx: event.pageX,\n\t\ty: event.pageY\n\t};\n};\n\nvar rotate = function rotate(rect, angle) {\n\n\tvar cx = .5;\n\tvar cy = .5;\n\n\tvar radians = Math.PI / 180 * angle;\n\tvar cos = Math.cos(radians);\n\tvar sin = Math.sin(radians);\n\n\tvar x1 = rect.x;\n\tvar y1 = rect.y;\n\tvar x2 = rect.x + rect.width;\n\tvar y2 = rect.y + rect.height;\n\n\tvar rx1 = cos * (x1 - cx) + sin * (y1 - cy) + cx;\n\tvar ry1 = cos * (y1 - cy) - sin * (x1 - cx) + cy;\n\n\tvar rx2 = cos * (x2 - cx) + sin * (y2 - cy) + cx;\n\tvar ry2 = cos * (y2 - cy) - sin * (x2 - cx) + cy;\n\n\tif (rx1 <= rx2) {\n\t\trect.x = rx1;\n\t\trect.width = rx2 - rx1;\n\t} else {\n\t\trect.x = rx2;\n\t\trect.width = rx1 - rx2;\n\t}\n\n\tif (ry1 <= ry2) {\n\t\trect.y = ry1;\n\t\trect.height = ry2 - ry1;\n\t} else {\n\t\trect.y = ry2;\n\t\trect.height = ry1 - ry2;\n\t}\n};\n\nvar getEventOffsetScroll = function getEventOffsetScroll(e) {\n\tvar offset = getEventOffset(e);\n\toffset.x -= window.pageXOffset || document.documentElement.scrollLeft;\n\toffset.y -= window.pageYOffset || document.documentElement.scrollTop;\n\treturn offset;\n};\n\nvar lowercaseFirstLetter = function lowercaseFirstLetter(string) {\n\treturn string.charAt(0).toLowerCase() + string.slice(1);\n};\n\nvar capitalizeFirstLetter = function capitalizeFirstLetter(string) {\n\treturn string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nvar last = function last(array) {\n\treturn array[array.length - 1];\n};\n\nvar limit = function limit(value, min, max) {\n\treturn Math.max(min, Math.min(max, value));\n};\n\nvar inArray = function inArray(needle, arr) {\n\t// is for loop so we can use this method on older browsers to render fallback message\n\tif (!arr) {\n\t\treturn false;\n\t}\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (arr[i] === needle) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nvar send = function send(url) {\n\tvar method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'POST';\n\tvar data = arguments[2];\n\tvar requestDecorator = arguments[3];\n\tvar progress = arguments[4];\n\tvar success = arguments[5];\n\tvar err = arguments[6];\n\n\n\tvar xhr = new XMLHttpRequest();\n\n\t// if progress callback defined handle progress events\n\tif (progress) {\n\t\txhr.upload.addEventListener('progress', function (e) {\n\t\t\tprogress(e.loaded, e.total);\n\t\t});\n\t}\n\n\t// open the request\n\txhr.open(method, url, true);\n\n\t// if request decorator defined pass XMLHttpRequest instance to decorator\n\tif (requestDecorator) {\n\t\trequestDecorator(xhr, data);\n\t}\n\n\t// handle state changes\n\txhr.onreadystatechange = function () {\n\n\t\tif (xhr.readyState === 4 && xhr.status >= 200 && xhr.status < 300) {\n\n\t\t\tvar text = xhr.responseText;\n\n\t\t\t// if no data returned from server assume success\n\t\t\tif (!text.length) {\n\t\t\t\tsuccess();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// catch possible PHP content length problem\n\t\t\tif (text.indexOf('Content-Length') !== -1) {\n\t\t\t\terr('file-too-big');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if data returned it should be in suggested JSON format\n\t\t\tvar obj = void 0;\n\t\t\ttry {\n\t\t\t\tobj = JSON.parse(xhr.responseText);\n\t\t\t} catch (e) {}\n\n\t\t\t// if is failure response\n\t\t\tif ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj.status === 'failure') {\n\t\t\t\terr(obj.message);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsuccess(obj || text);\n\t\t} else if (xhr.readyState === 4) {\n\n\t\t\tvar _obj = void 0;\n\t\t\ttry {\n\t\t\t\t_obj = JSON.parse(xhr.responseText);\n\t\t\t} catch (e) {}\n\n\t\t\t// if is clean failure response\n\t\t\tif ((typeof _obj === 'undefined' ? 'undefined' : _typeof(_obj)) === 'object' && _obj.status === 'failure') {\n\t\t\t\terr(_obj.message);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\terr('fail');\n\t\t}\n\t};\n\n\t// do request\n\txhr.send(data);\n};\n\nvar resetTransforms = function resetTransforms(element) {\n\tif (!element) {\n\t\treturn;\n\t}\n\telement.style.webkitTransform = '';\n\telement.style.transform = '';\n};\n\nvar bytesToMegaBytes = function bytesToMegaBytes(b) {\n\treturn b / 1000000;\n};\n\nvar megaBytesToBytes = function megaBytesToBytes(mb) {\n\treturn mb * 1000000;\n};\n\nvar getCommonMimeTypes = function getCommonMimeTypes() {\n\tvar types = [];\n\tvar type = void 0;\n\tvar mimeType = void 0;\n\tfor (type in MimeTypes) {\n\t\tif (!MimeTypes.hasOwnProperty(type)) {\n\t\t\tcontinue;\n\t\t}\n\t\tmimeType = MimeTypes[type];\n\t\tif (types.indexOf(mimeType) == -1) {\n\t\t\ttypes.push(mimeType);\n\t\t}\n\t}\n\treturn types;\n};\n\nvar isJPEGMimeType = function isJPEGMimeType(type) {\n\treturn type === 'image/jpeg';\n};\n\nvar getExtensionByMimeType = function getExtensionByMimeType(mimetype) {\n\tvar type = void 0;\n\tfor (type in MimeTypes) {\n\t\tif (!MimeTypes.hasOwnProperty(type)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (MimeTypes[type] === mimetype) {\n\t\t\treturn type;\n\t\t}\n\t}\n\treturn mimetype;\n};\n\nvar getMimeTypeFromResponseType = function getMimeTypeFromResponseType(responseType) {\n\tvar type = void 0;\n\tfor (type in MimeTypes) {\n\t\tif (!MimeTypes.hasOwnProperty(type)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (responseType.indexOf(MimeTypes[type]) !== -1) {\n\t\t\treturn MimeTypes[type];\n\t\t}\n\t}\n\treturn null;\n};\n\nvar getFileName = function getFileName(path) {\n\treturn path.split('/').pop().split('?').shift();\n};\n\nvar leftPad = function leftPad(value) {\n\tvar padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\treturn (padding + value).slice(-padding.length);\n};\n\nvar getDateString = function getDateString(date) {\n\treturn date.getFullYear() + '-' + leftPad(date.getMonth() + 1, '00') + '-' + leftPad(date.getDate(), '00') + '_' + leftPad(date.getHours(), '00') + '-' + leftPad(date.getMinutes(), '00') + '-' + leftPad(date.getSeconds(), '00');\n};\n\nvar getFileNameByFile = function getFileNameByFile(file) {\n\tif (typeof file.name === 'undefined') {\n\t\treturn getDateString(new Date()) + '.' + getExtensionByMimeType(getFileTypeByFile(file));\n\t}\n\treturn file.name;\n};\n\nvar getFileTypeByFile = function getFileTypeByFile(file) {\n\treturn file.type || 'image/jpeg';\n};\n\nvar getFileNameWithoutExtension = function getFileNameWithoutExtension(path) {\n\tif (typeof path !== 'string') {\n\t\treturn getDateString(new Date());\n\t}\n\tvar name = getFileName(path);\n\treturn name.split('.').shift();\n};\n\nvar blobToFile = function blobToFile(blob, name) {\n\tif ('lastModified' in File.prototype) {\n\t\tblob.lastModified = new Date();\n\t} else {\n\t\tblob.lastModifiedDate = new Date();\n\t}\n\tblob.name = name;\n\treturn blob;\n};\n\nvar resourceIsFetchURL = function resourceIsFetchURL(resource) {\n\treturn (/^fetch\\//.test(resource)\n\t);\n};\n\nvar resourceIsBase64Data = function resourceIsBase64Data(resource) {\n\treturn (/^data:image/.test(resource)\n\t);\n};\n\nvar loadRemoteURL = function loadRemoteURL(fetcher, fetchRequestDecorator, loadRequestDecorator, url, err, cb) {\n\n\tfetcher = '' + fetcher + (fetcher.indexOf('?') !== -1 ? '&' : '?') + 'url=' + url;\n\n\tvar xhr = new XMLHttpRequest();\n\txhr.open('GET', fetcher, true);\n\tfetchRequestDecorator(xhr);\n\txhr.responseType = 'json';\n\txhr.onload = function () {\n\n\t\tif (this.response.status === 'failure') {\n\t\t\terr(this.response.message);\n\t\t\treturn;\n\t\t}\n\n\t\tloadURL(this.response.body, loadRequestDecorator, cb);\n\t};\n\n\txhr.send();\n};\n\nvar loadURL = function loadURL(url, requestDecorator, cb) {\n\n\tvar xhr = new XMLHttpRequest();\n\txhr.open('GET', url, true);\n\trequestDecorator(xhr);\n\txhr.responseType = 'blob';\n\txhr.onload = function (e) {\n\n\t\tvar name = getFileName(url);\n\t\tvar type = getMimeTypeFromResponseType(this.response.type);\n\n\t\tif (!ImageExtensionsRegex.test(name)) {\n\t\t\tname += '.' + getExtensionByMimeType(type);\n\t\t}\n\n\t\t// get as file\n\t\tvar file = blobToFile(this.response, name);\n\n\t\t// need to set correct type\n\t\tcb(cloneFile(file, type));\n\t};\n\n\txhr.send();\n};\n\nvar base64ToByteString = function base64ToByteString(dataURI) {\n\n\t// get data part of string (remove data:image/jpeg...,)\n\tvar dataPart = dataURI.split(',')[1];\n\n\t// remove any whitespace as that causes InvalidCharacterError in IE\n\tvar dataPartCleaned = dataPart.replace(/\\s/g, '');\n\n\t// to bytestring\n\treturn atob(dataPartCleaned);\n};\n\nvar base64ToArrayBuffer = function base64ToArrayBuffer(dataURI) {\n\n\tvar byteString = base64ToByteString(dataURI);\n\tvar ab = new ArrayBuffer(byteString.length);\n\tvar ia = new Uint8Array(ab);\n\n\tfor (var i = 0; i < byteString.length; i++) {\n\t\tia[i] = byteString.charCodeAt(i);\n\t}\n\treturn ab;\n};\n\nvar base64ToBlob = function base64ToBlob(dataURI, filename) {\n\n\tvar byteString = base64ToByteString(dataURI);\n\tvar ab = new ArrayBuffer(byteString.length);\n\tvar ia = new Uint8Array(ab);\n\n\tfor (var i = 0; i < byteString.length; i++) {\n\t\tia[i] = byteString.charCodeAt(i);\n\t}\n\n\tvar mimeType = getMimeTypeFromDataURI(dataURI);\n\n\tif (typeof filename === 'undefined') {\n\t\tfilename = getDateString(new Date()) + '.' + getExtensionByMimeType(mimeType);\n\t}\n\n\treturn blobToFile(createBlob(ab, mimeType), filename);\n};\n\nvar createBlob = function createBlob(data, mimeType) {\n\n\tvar BB = window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n\n\tif (BB) {\n\t\tvar bb = new BB();\n\t\tbb.append(data);\n\t\treturn bb.getBlob(mimeType);\n\t}\n\n\treturn new Blob([data], {\n\t\ttype: mimeType\n\t});\n};\n\nvar arrayBufferConcat = function arrayBufferConcat(buffers) {\n\tvar length = 0;\n\tvar buffer = null;\n\n\tfor (var i in buffers) {\n\t\tif (!_arguments.hasOwnProperty(i)) {\n\t\t\tcontinue;\n\t\t}\n\t\tbuffer = buffers[i];\n\t\tlength += buffer.byteLength;\n\t}\n\n\tvar joined = new Uint8Array(length);\n\tvar offset = 0;\n\n\tfor (var _i in buffers) {\n\t\tif (!_arguments.hasOwnProperty(_i)) {\n\t\t\tcontinue;\n\t\t}\n\t\tbuffer = buffers[_i];\n\t\tjoined.set(new Uint8Array(buffer), offset);\n\t\toffset += buffer.byteLength;\n\t}\n\n\treturn joined.buffer;\n};\n\nvar getImageAsCanvas = function getImageAsCanvas(src, size, callback) {\n\n\t// only cross origin when it's not base64 data, to prevent errors in Safari\n\t// http://stackoverflow.com/questions/31643096/why-does-safari-throw-cors-error-when-setting-base64-data-on-a-crossorigin-an\n\tvar crossOrigin = typeof src === 'string' ? src.indexOf('data:image') !== 0 : true;\n\n\tloadImage.parseMetaData(src, function (meta) {\n\n\t\tvar options = {\n\t\t\tcanvas: true,\n\t\t\tcrossOrigin: crossOrigin\n\t\t};\n\n\t\tif (size) {\n\t\t\toptions.maxWidth = size.width;\n\t\t\toptions.maxHeight = size.height;\n\t\t}\n\n\t\tif (meta.exif) {\n\t\t\toptions.orientation = meta.exif.get('Orientation');\n\t\t}\n\n\t\tloadImage(src, function (res) {\n\n\t\t\tif (res.type === 'error') {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcallback(res, meta);\n\t\t}, options);\n\t});\n};\n\nvar getAutoCropRect = function getAutoCropRect(width, height, ratioOut) {\n\n\tvar x,\n\t    y,\n\t    w,\n\t    h,\n\t    ratioIn = height / width;\n\n\t// if input is portrait and required is landscape\n\t// width is portrait width, height is width times outputRatio\n\tif (ratioIn < ratioOut) {\n\t\th = height;\n\t\tw = h / ratioOut;\n\t\tx = (width - w) * .5;\n\t\ty = 0;\n\t}\n\n\t// if input is landscape and required is portrait\n\t// height is landscape height, width is height divided by outputRatio\n\telse {\n\t\t\tw = width;\n\t\t\th = w * ratioOut;\n\t\t\tx = 0;\n\t\t\ty = (height - h) * .5;\n\t\t}\n\n\treturn {\n\t\tx: x,\n\t\ty: y,\n\t\theight: h,\n\t\twidth: w\n\t};\n};\n\nvar transformCanvas = function transformCanvas(canvas) {\n\tvar transforms = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\tvar cb = arguments[2];\n\n\n\tvar result = create('canvas');\n\n\tvar rotation = transforms.rotation,\n\t    crop = transforms.crop,\n\t    size = transforms.size,\n\t    filters = transforms.filters,\n\t    minSize = transforms.minSize;\n\n\t// do crop transforms\n\n\tif (crop) {\n\n\t\t// do crop\n\t\tvar isTilted = rotation % 180 !== 0;\n\t\tvar space = {\n\t\t\twidth: isTilted ? canvas.height : canvas.width,\n\t\t\theight: isTilted ? canvas.width : canvas.height\n\t\t};\n\n\t\t// limit crop to size of canvas else safari might return transparent image\n\t\tif (crop.x < 0) {\n\t\t\tcrop.x = 0;\n\t\t}\n\n\t\tif (crop.y < 0) {\n\t\t\tcrop.y = 0;\n\t\t}\n\n\t\tif (crop.width > space.width) {\n\t\t\tcrop.width = space.width;\n\t\t}\n\n\t\tif (crop.height > space.height) {\n\t\t\tcrop.height = space.height;\n\t\t}\n\n\t\tif (crop.y + crop.height > space.height) {\n\t\t\tcrop.y = Math.max(0, space.height - crop.height);\n\t\t}\n\n\t\tif (crop.x + crop.width > space.width) {\n\t\t\tcrop.x = Math.max(0, space.width - crop.width);\n\t\t}\n\n\t\t// crop offsets in percentages\n\t\tvar px = crop.x / space.width;\n\t\tvar py = crop.y / space.height;\n\t\tvar pw = crop.width / space.width;\n\t\tvar ph = crop.height / space.height;\n\n\t\t// resize canvas to the final crop result size\n\t\tresult.width = crop.width;\n\t\tresult.height = crop.height;\n\n\t\t// draw the crop\n\t\tvar ctx = result.getContext('2d');\n\n\t\tif (rotation === 90) {\n\n\t\t\tctx.translate(result.width * .5, result.height * .5);\n\t\t\tctx.rotate(-90 * Math.PI / 180);\n\t\t\tctx.drawImage(canvas,\n\n\t\t\t// source rectangle (crop area)\n\t\t\t(1 - py) * canvas.width - canvas.width * ph, crop.x, crop.height, crop.width,\n\n\t\t\t// target area (cover)\n\t\t\t-result.height * .5, -result.width * .5, result.height, result.width);\n\t\t} else if (rotation === 180) {\n\n\t\t\tctx.translate(result.width * .5, result.height * .5);\n\t\t\tctx.rotate(-180 * Math.PI / 180);\n\t\t\tctx.drawImage(canvas,\n\n\t\t\t// source rectangle (crop area)\n\t\t\t(1 - (px + pw)) * space.width, (1 - (py + ph)) * space.height, pw * space.width, ph * space.height,\n\n\t\t\t// target area (cover)\n\t\t\t-result.width * .5, -result.height * .5, result.width, result.height);\n\t\t} else if (rotation === 270) {\n\n\t\t\tctx.translate(result.width * .5, result.height * .5);\n\t\t\tctx.rotate(-270 * Math.PI / 180);\n\t\t\tctx.drawImage(canvas,\n\n\t\t\t// source rectangle (crop area)\n\t\t\tcrop.y, (1 - px) * canvas.height - canvas.height * pw, crop.height, crop.width,\n\n\t\t\t// target area (cover)\n\t\t\t-result.height * .5, -result.width * .5, result.height, result.width);\n\t\t} else {\n\n\t\t\tctx.drawImage(canvas,\n\n\t\t\t// source rectangle (crop area)\n\t\t\tcrop.x, crop.y, crop.width, crop.height,\n\n\t\t\t// target area (cover)\n\t\t\t0, 0, result.width, result.height);\n\t\t}\n\t}\n\n\t// do size transforms\n\tif (size) {\n\n\t\tvar scalarX = size.width / result.width;\n\t\tvar scalarY = size.height / result.height;\n\t\tvar scalar = Math.min(scalarX, scalarY);\n\n\t\tscaleCanvas(result, scalar, size, minSize);\n\n\t\t// sharpen result\n\t\tif (filters.sharpen > 0) {\n\t\t\tfilter(result, sharpen(filters.sharpen));\n\t\t}\n\t}\n\n\tcb(result);\n};\n\nfunction scaleCanvas(canvas, scalar, bounds, min) {\n\n\t// if not scaling down, bail out\n\tif (scalar >= 1) {\n\t\treturn;\n\t}\n\n\tvar w = canvas.width;\n\tvar h = canvas.height;\n\n\t// calculate min target width and height\n\tvar targetWidth = Math.max(min.width, Math.min(bounds.width, Math.round(canvas.width * scalar)));\n\tvar targetHeight = Math.max(min.height, Math.min(bounds.height, Math.round(canvas.height * scalar)));\n\n\tvar tmp = cloneCanvas(canvas);\n\tvar c = void 0;\n\tvar ctx = void 0;\n\n\twhile (w > targetWidth && h > targetHeight) {\n\n\t\tc = document.createElement('canvas');\n\t\tw = Math.round(tmp.width * .5);\n\t\th = Math.round(tmp.height * .5);\n\n\t\tif (w < targetWidth) {\n\t\t\tw = targetWidth;\n\t\t}\n\n\t\tif (h < targetHeight) {\n\t\t\th = targetHeight;\n\t\t}\n\n\t\tc.width = w;\n\t\tc.height = h;\n\t\tctx = c.getContext('2d');\n\t\tctx.drawImage(tmp, 0, 0, w, h);\n\n\t\ttmp = cloneCanvas(c);\n\t}\n\n\tcanvas.width = targetWidth;\n\tcanvas.height = targetHeight;\n\n\tctx = canvas.getContext('2d');\n\tctx.drawImage(tmp, 0, 0, targetWidth, targetHeight);\n}\n\nvar getPixels = function getPixels(canvas) {\n\tvar ctx = canvas.getContext('2d');\n\treturn ctx.getImageData(0, 0, canvas.width, canvas.height);\n};\n\nvar filter = function filter(canvas, _filter) {\n\tvar ctx = canvas.getContext('2d');\n\tctx.putImageData(_filter(getPixels(canvas), canvas.width, canvas.height), 0, 0);\n};\n\nvar createImageData = function createImageData(w, h, pixels) {\n\tvar c = document.createElement('canvas');\n\tc.width = w;\n\tc.height = h;\n\tvar ctx = c.getContext('2d');\n\tvar data = ctx.createImageData(c.width, c.height);\n\tif (pixels) {\n\t\tdata.set(pixels.data);\n\t}\n\treturn data;\n};\n\nvar sharpen = function sharpen(mix) {\n\n\treturn function (pixels, w, h) {\n\n\t\tvar weights = [0, -1, 0, -1, 5, -1, 0, -1, 0],\n\t\t    katet = Math.round(Math.sqrt(weights.length)),\n\t\t    half = katet * 0.5 | 0,\n\t\t    dstData = createImageData(w, h),\n\t\t    dstBuff = dstData.data,\n\t\t    srcBuff = pixels.data,\n\t\t    y = h,\n\t\t    x = void 0;\n\n\t\twhile (y--) {\n\n\t\t\tx = w;\n\n\t\t\twhile (x--) {\n\n\t\t\t\tvar sy = y,\n\t\t\t\t    sx = x,\n\t\t\t\t    dstOff = (y * w + x) * 4,\n\t\t\t\t    r = 0,\n\t\t\t\t    g = 0,\n\t\t\t\t    b = 0,\n\t\t\t\t    a = 0;\n\n\t\t\t\tfor (var cy = 0; cy < katet; cy++) {\n\t\t\t\t\tfor (var cx = 0; cx < katet; cx++) {\n\n\t\t\t\t\t\tvar scy = sy + cy - half;\n\t\t\t\t\t\tvar scx = sx + cx - half;\n\n\t\t\t\t\t\tif (scy >= 0 && scy < h && scx >= 0 && scx < w) {\n\n\t\t\t\t\t\t\tvar srcOff = (scy * w + scx) * 4;\n\t\t\t\t\t\t\tvar wt = weights[cy * katet + cx];\n\n\t\t\t\t\t\t\tr += srcBuff[srcOff] * wt;\n\t\t\t\t\t\t\tg += srcBuff[srcOff + 1] * wt;\n\t\t\t\t\t\t\tb += srcBuff[srcOff + 2] * wt;\n\t\t\t\t\t\t\ta += srcBuff[srcOff + 3] * wt;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdstBuff[dstOff] = r * mix + srcBuff[dstOff] * (1 - mix);\n\t\t\t\tdstBuff[dstOff + 1] = g * mix + srcBuff[dstOff + 1] * (1 - mix);\n\t\t\t\tdstBuff[dstOff + 2] = b * mix + srcBuff[dstOff + 2] * (1 - mix);\n\t\t\t\tdstBuff[dstOff + 3] = srcBuff[dstOff + 3];\n\t\t\t}\n\t\t}\n\n\t\treturn dstData;\n\t};\n};\n\nvar sizeDist = function sizeDist(rect, canvas) {\n\n\tvar dx = Math.abs(rect.width - canvas.width);\n\tvar dy = Math.abs(rect.height - canvas.height);\n\n\treturn Math.max(dx, dy);\n};\n\nvar cloneCanvas = function cloneCanvas(original) {\n\treturn cloneCanvasScaled(original, 1);\n};\n\nvar cloneCanvasScaled = function cloneCanvasScaled(original, scalar) {\n\n\tif (!original) {\n\t\treturn null;\n\t}\n\n\tvar duplicate = document.createElement('canvas');\n\tvar ctx = duplicate.getContext('2d');\n\tduplicate.width = original.width;\n\tduplicate.height = original.height;\n\tctx.drawImage(original, 0, 0);\n\tif (scalar > 0 && scalar !== 1) {\n\t\tscaleCanvas(duplicate, scalar, {\n\t\t\twidth: Math.round(original.width * scalar),\n\t\t\theight: Math.round(original.height * scalar)\n\t\t}, {\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t});\n\t}\n\n\treturn duplicate;\n};\n\nvar canvasHasDimensions = function canvasHasDimensions(canvas) {\n\treturn canvas.width && canvas.height;\n};\n\nvar copyCanvas = function copyCanvas(original, destination) {\n\n\tvar ctx = destination.getContext('2d');\n\tif (canvasHasDimensions(destination)) {\n\t\tctx.drawImage(original, 0, 0, destination.width, destination.height);\n\t} else {\n\t\tdestination.width = original.width;\n\t\tdestination.height = original.height;\n\t\tctx.drawImage(original, 0, 0);\n\t}\n};\n\nvar clearCanvas = function clearCanvas(canvas) {\n\tvar ctx = canvas.getContext('2d');\n\tctx.clearRect(0, 0, canvas.width, canvas.height);\n};\n\nvar blurCanvas = function blurCanvas(canvas) {\n\tstackBlur(canvas, 0, 0, canvas.width, canvas.height, 3);\n};\n\nvar covers = function covers(image, rect) {\n\treturn parseInt(image.width, 10) >= rect.width && parseInt(image.height, 10) >= rect.height;\n};\n\nvar scaleRect = function scaleRect(rect, w, h) {\n\treturn {\n\t\tx: rect.x * w,\n\t\ty: rect.y * h,\n\t\twidth: rect.width * w,\n\t\theight: rect.height * h\n\t};\n};\n\nvar divideRect = function divideRect(rect, w, h) {\n\treturn {\n\t\tx: rect.x / w,\n\t\ty: rect.y / h,\n\t\twidth: rect.width / w,\n\t\theight: rect.height / h\n\t};\n};\n\nvar resetFileInput = function resetFileInput(input) {\n\n\t// no value, no need to reset\n\tif (!input || input.value === '') {\n\t\treturn;\n\t}\n\n\ttry {\n\t\t// for modern browsers\n\t\tinput.value = '';\n\t} catch (err) {}\n\n\t// for IE10\n\tif (input.value) {\n\n\t\t// quickly append input to temp form and reset form\n\t\tvar form = document.createElement('form');\n\t\tvar parentNode = input.parentNode;\n\t\tvar ref = input.nextSibling;\n\t\tform.appendChild(input);\n\t\tform.reset();\n\n\t\t// re-inject input where it originally was\n\t\tif (ref) {\n\t\t\tparentNode.insertBefore(input, ref);\n\t\t} else {\n\t\t\tparentNode.appendChild(input);\n\t\t}\n\t}\n};\n\nvar clone = function clone(obj) {\n\tif ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null) {\n\t\treturn JSON.parse(JSON.stringify(obj));\n\t}\n\treturn obj;\n};\n\nvar cloneFile = function cloneFile(file) {\n\tvar type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\tif (!file) {\n\t\treturn null;\n\t}\n\tvar dupe = file.slice(0, file.size, type || file.type);\n\tdupe.name = file.name;\n\n\tif ('lastModified' in File.prototype && file.lastModified) {\n\t\tdupe.lastModified = new Date(file.lastModified);\n\t} else if (file.lastModifiedDate) {\n\t\tdupe.lastModifiedDate = new Date(file.lastModifiedDate);\n\t}\n\treturn dupe;\n};\n\nvar cloneData = function cloneData(obj) {\n\tvar dupe = clone(obj);\n\tdupe.input.file = cloneFile(obj.input.file);\n\tdupe.output.image = cloneCanvas(obj.output.image);\n\treturn dupe;\n};\n\n/**\n * @param image\n * @param type\n * @param jpegCompression - value between 0 and 100 or undefined/null to use default compression\n * @returns {*}\n */\nvar toDataURL = function toDataURL(image, type, jpegCompression) {\n\tif (!image || !type) {\n\t\treturn null;\n\t}\n\treturn image.toDataURL(type, isJPEGMimeType(type) && typeof jpegCompression === 'number' ? jpegCompression / 100 : undefined);\n};\n\nvar getMimeTypeFromDataURI = function getMimeTypeFromDataURI(dataUri) {\n\tif (!dataUri) {\n\t\treturn null;\n\t}\n\tvar matches = dataUri.substr(0, 16).match(/^.+;/);\n\tif (matches.length) {\n\t\treturn matches[0].substring(5, matches[0].length - 1);\n\t}\n\treturn null;\n};\n\nvar flattenData = function flattenData(obj) {\n\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\tvar jpegCompression = arguments[2];\n\tvar forcedType = arguments[3];\n\tvar async = arguments[4];\n\n\n\tvar data = {\n\t\tserver: clone(obj.server),\n\t\tmeta: clone(obj.meta),\n\t\tinput: {\n\t\t\tname: obj.input.name,\n\t\t\ttype: obj.input.type,\n\t\t\tsize: obj.input.size,\n\t\t\twidth: obj.input.width,\n\t\t\theight: obj.input.height,\n\t\t\tfield: obj.input.field\n\t\t}\n\t};\n\n\tif (inArray('input', props) && !async) {\n\t\tdata.input.image = toDataURL(obj.input.image, obj.input.type);\n\t}\n\n\tif (inArray('output', props)) {\n\n\t\tdata.output = {\n\t\t\tname: forcedType ? getFileNameWithoutExtension(obj.input.name) + '.' + forcedType : obj.input.name,\n\t\t\ttype: MimeTypes[forcedType] || obj.input.type,\n\t\t\twidth: obj.output.width,\n\t\t\theight: obj.output.height\n\t\t};\n\n\t\tdata.output.image = toDataURL(obj.output.image, data.output.type, jpegCompression);\n\t\tdata.output.type = getMimeTypeFromDataURI(data.output.image);\n\n\t\t// browser problem:\n\t\t// if output is of type png and input was of type jpeg we need to fix extension of filename\n\t\t// so instead of testing the above situation we just always fix extension when handling PNGs\n\t\tif (data.output.type === 'image/png') {\n\t\t\tdata.output.name = getFileNameWithoutExtension(data.input.name) + '.png';\n\t\t}\n\t}\n\n\tif (inArray('actions', props)) {\n\t\tdata.actions = clone(obj.actions);\n\t}\n\n\treturn data;\n};\n\nvar downloadCanvas = function downloadCanvas(data, jpegCompression, forcedType) {\n\n\tvar canvas = data.output.image;\n\tvar filename = forcedType ? getFileNameWithoutExtension(data.input.name) + '.' + forcedType : data.input.name;\n\tvar type = MimeTypes[forcedType] || data.input.type;\n\n\t// browser problem:\n\t// if output is of type png and input was of type jpeg we need to fix extension of filename\n\t// so instead of testing the above situation we just always fix extension when handling PNGs\n\tif (type === 'image/png') {\n\t\tfilename = getFileNameWithoutExtension(data.input.name) + '.png';\n\t}\n\n\tcanvas.toBlob(function (blob) {\n\n\t\tif ('msSaveBlob' in window.navigator) {\n\t\t\twindow.navigator.msSaveBlob(blob, filename);\n\t\t\treturn;\n\t\t}\n\n\t\tvar url = (window.URL || window.webkitURL).createObjectURL(blob);\n\n\t\t// setup hidden link\n\t\tvar link = create('a');\n\t\tlink.style.display = 'none';\n\t\tlink.download = filename;\n\t\tlink.href = url;\n\n\t\t// attach to DOM otherwise this does not work in Firefox\n\t\tdocument.body.appendChild(link);\n\n\t\t// fire click\n\t\tlink.click();\n\n\t\t// delay on remove otherwise does not work in Firefox\n\t\tsetTimeout(function () {\n\t\t\tdocument.body.removeChild(link);\n\t\t\t(window.URL || window.webkitURL).revokeObjectURL(url);\n\t\t}, 0);\n\t}, type, typeof jpegCompression === 'number' ? jpegCompression / 100 : undefined);\n};\n\nvar toggleDisplayBySelector = function toggleDisplayBySelector(selector, enabled, root) {\n\tvar node = root.querySelector(selector);\n\tif (!node) {\n\t\treturn;\n\t}\n\tnode.style.display = enabled ? '' : 'none';\n};\n\nvar nodeListToArray = function nodeListToArray(nl) {\n\treturn Array.prototype.slice.call(nl);\n};\n\nvar removeElement = function removeElement(el) {\n\tel.parentNode.removeChild(el);\n};\n\nvar wrap = function wrap(element) {\n\tvar wrapper = create('div');\n\tif (element.parentNode) {\n\t\tif (element.nextSibling) {\n\t\t\telement.parentNode.insertBefore(wrapper, element.nextSibling);\n\t\t} else {\n\t\t\telement.parentNode.appendChild(wrapper);\n\t\t}\n\t}\n\twrapper.appendChild(element);\n\treturn wrapper;\n};\n\nvar polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n\tvar angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;\n\n\treturn {\n\t\tx: centerX + radius * Math.cos(angleInRadians),\n\t\ty: centerY + radius * Math.sin(angleInRadians)\n\t};\n};\n\nvar describeArc = function describeArc(x, y, radius, startAngle, endAngle) {\n\n\tvar start = polarToCartesian(x, y, radius, endAngle);\n\tvar end = polarToCartesian(x, y, radius, startAngle);\n\n\tvar arcSweep = endAngle - startAngle <= 180 ? '0' : '1';\n\n\tvar d = ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n\n\treturn d;\n};\n\nvar percentageArc = function percentageArc(x, y, radius, p) {\n\treturn describeArc(x, y, radius, 0, p * 360);\n};\nvar CropArea = function () {\n\n\tvar resizers = {\n\t\t'n': function n(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, p, d;\n\n\t\t\t// bottom is fixed\n\t\t\tb = rect.y + rect.height;\n\n\t\t\t// intended top\n\t\t\tt = limit(offset.y, 0, b);\n\n\t\t\t// if is too small vertically\n\t\t\tif (b - t < space.min.height) {\n\t\t\t\tt = b - space.min.height;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick width by ratio of new height\n\t\t\tw = ratio ? (b - t) / ratio : rect.width;\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (w < space.min.width) {\n\t\t\t\tw = space.min.width;\n\t\t\t\tt = b - w * ratio;\n\t\t\t}\n\n\t\t\t// add half to left and half to right edge\n\t\t\tp = (w - rect.width) * .5;\n\t\t\tl = rect.x - p;\n\t\t\tr = rect.x + rect.width + p;\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (l < 0 || r > space.width) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.x, space.width - (rect.x + rect.width));\n\n\t\t\t\t// new left and right offsets\n\t\t\t\tl = rect.x - d;\n\t\t\t\tr = rect.x + rect.width + d;\n\n\t\t\t\t// resulting width\n\t\t\t\tw = r - l;\n\n\t\t\t\t// resulting height based on ratio\n\t\t\t\th = w * ratio;\n\n\t\t\t\t// new top position\n\t\t\t\tt = b - h;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t's': function s(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, p, d;\n\n\t\t\t// top is fixed\n\t\t\tt = rect.y;\n\n\t\t\t// intended bottom\n\t\t\tb = limit(offset.y, t, space.height);\n\n\t\t\t// if is too small vertically\n\t\t\tif (b - t < space.min.height) {\n\t\t\t\tb = t + space.min.height;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick width by ratio of new height\n\t\t\tw = ratio ? (b - t) / ratio : rect.width;\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (w < space.min.width) {\n\t\t\t\tw = space.min.width;\n\t\t\t\tb = t + w * ratio;\n\t\t\t}\n\n\t\t\t// add half to left and half to right edge\n\t\t\tp = (w - rect.width) * .5;\n\t\t\tl = rect.x - p;\n\t\t\tr = rect.x + rect.width + p;\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (l < 0 || r > space.width) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.x, space.width - (rect.x + rect.width));\n\n\t\t\t\t// new left and right offsets\n\t\t\t\tl = rect.x - d;\n\t\t\t\tr = rect.x + rect.width + d;\n\n\t\t\t\t// resulting width\n\t\t\t\tw = r - l;\n\n\t\t\t\t// resulting height based on ratio\n\t\t\t\th = w * ratio;\n\n\t\t\t\t// new bottom position\n\t\t\t\tb = t + h;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'e': function e(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, p, d;\n\n\t\t\t// left is fixed\n\t\t\tl = rect.x;\n\n\t\t\t// intended right edge\n\t\t\tr = limit(offset.x, l, space.width);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tr = l + space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : rect.height;\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tr = l + h / ratio;\n\t\t\t}\n\n\t\t\t// add half to top and bottom\n\t\t\tp = (h - rect.height) * .5;\n\t\t\tt = rect.y - p;\n\t\t\tb = rect.y + rect.height + p;\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new top and bottom offsets\n\t\t\t\tt = rect.y - d;\n\t\t\t\tb = rect.y + rect.height + d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new right position\n\t\t\t\tr = l + w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'w': function w(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, p, d;\n\n\t\t\t// right is fixed\n\t\t\tr = rect.x + rect.width;\n\n\t\t\t// intended left edge\n\t\t\tl = limit(offset.x, 0, r);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tl = r - space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : rect.height;\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tl = r - h / ratio;\n\t\t\t}\n\n\t\t\t// add half to top and bottom\n\t\t\tp = (h - rect.height) * .5;\n\t\t\tt = rect.y - p;\n\t\t\tb = rect.y + rect.height + p;\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new top and bottom offsets\n\t\t\t\tt = rect.y - d;\n\t\t\t\tb = rect.y + rect.height + d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new right position\n\t\t\t\tl = r - w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'ne': function ne(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, d;\n\n\t\t\t// left and bottom are fixed\n\t\t\tl = rect.x;\n\t\t\tb = rect.y + rect.height;\n\n\t\t\t// intended right edge\n\t\t\tr = limit(offset.x, l, space.width);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tr = l + space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : limit(b - offset.y, space.min.height, b);\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tr = l + h / ratio;\n\t\t\t}\n\n\t\t\t// add height difference with original height to top\n\t\t\tt = rect.y - (h - rect.height);\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new top and bottom offsets\n\t\t\t\tt = rect.y - d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new right position\n\t\t\t\tr = l + w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'se': function se(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, d;\n\n\t\t\t// left and top are fixed\n\t\t\tl = rect.x;\n\t\t\tt = rect.y;\n\n\t\t\t// intended right edge\n\t\t\tr = limit(offset.x, l, space.width);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tr = l + space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : limit(offset.y - rect.y, space.min.height, space.height - t);\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tr = l + h / ratio;\n\t\t\t}\n\n\t\t\t// add height difference with original height to bottom\n\t\t\tb = rect.y + rect.height + (h - rect.height);\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new bottom offset\n\t\t\t\tb = rect.y + rect.height + d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new right position\n\t\t\t\tr = l + w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'sw': function sw(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, d;\n\n\t\t\t// right and top are fixed\n\t\t\tr = rect.x + rect.width;\n\t\t\tt = rect.y;\n\n\t\t\t// intended left edge\n\t\t\tl = limit(offset.x, 0, r);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tl = r - space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : limit(offset.y - rect.y, space.min.height, space.height - t);\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tl = r - h / ratio;\n\t\t\t}\n\n\t\t\t// add height difference with original height to bottom\n\t\t\tb = rect.y + rect.height + (h - rect.height);\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new bottom offset\n\t\t\t\tb = rect.y + rect.height + d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new left position\n\t\t\t\tl = r - w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'nw': function nw(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, d;\n\n\t\t\t// right and bottom are fixed\n\t\t\tr = rect.x + rect.width;\n\t\t\tb = rect.y + rect.height;\n\n\t\t\t// intended left edge\n\t\t\tl = limit(offset.x, 0, r);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tl = r - space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : limit(b - offset.y, space.min.height, b);\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tl = r - h / ratio;\n\t\t\t}\n\n\t\t\t// add height difference with original height to bottom\n\t\t\tt = rect.y - (h - rect.height);\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new bottom offset\n\t\t\t\tt = rect.y - d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new left position\n\t\t\t\tl = r - w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t}\n\n\t};\n\n\t/**\n  * CropArea\n  */\n\treturn function () {\n\t\tfunction CropArea() {\n\t\t\tvar element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n\n\t\t\t_classCallCheck(this, CropArea);\n\n\t\t\tthis._element = element;\n\n\t\t\tthis._interaction = null;\n\n\t\t\tthis._minWidth = 0;\n\t\t\tthis._minHeight = 0;\n\n\t\t\tthis._ratio = null;\n\n\t\t\tthis._rect = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\n\t\t\tthis._space = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\n\t\t\tthis._rectChanged = false;\n\n\t\t\tthis._init();\n\t\t}\n\n\t\t_createClass(CropArea, [{\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\n\t\t\t\tthis._element.className = 'slim-crop-area';\n\n\t\t\t\t// lines\n\t\t\t\tvar lines = create('div', 'grid');\n\t\t\t\tthis._element.appendChild(lines);\n\n\t\t\t\t// corner & edge resize buttons\n\t\t\t\tfor (var handler in resizers) {\n\t\t\t\t\tif (!resizers.hasOwnProperty(handler)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar _btn = create('button', handler);\n\t\t\t\t\tthis._element.appendChild(_btn);\n\t\t\t\t}\n\t\t\t\tvar btn = create('button', 'c');\n\t\t\t\tthis._element.appendChild(btn);\n\n\t\t\t\taddEvents(document, Events.DOWN, this);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'reset',\n\t\t\tvalue: function reset() {\n\n\t\t\t\tthis._interaction = null;\n\n\t\t\t\tthis._rect = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0\n\t\t\t\t};\n\n\t\t\t\tthis._rectChanged = true;\n\n\t\t\t\tthis._redraw();\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'rescale',\n\t\t\tvalue: function rescale(scale) {\n\n\t\t\t\t// no rescale\n\t\t\t\tif (scale === 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._interaction = null;\n\n\t\t\t\tthis._rectChanged = true;\n\n\t\t\t\tthis._rect.x *= scale;\n\t\t\t\tthis._rect.y *= scale;\n\t\t\t\tthis._rect.width *= scale;\n\t\t\t\tthis._rect.height *= scale;\n\n\t\t\t\tthis._redraw();\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'limit',\n\t\t\tvalue: function limit(width, height) {\n\t\t\t\tthis._space.width = width;\n\t\t\t\tthis._space.height = height;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'offset',\n\t\t\tvalue: function offset(x, y) {\n\t\t\t\tthis._space.x = x;\n\t\t\t\tthis._space.y = y;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'resize',\n\t\t\tvalue: function resize(x, y, width, height) {\n\n\t\t\t\tthis._interaction = null;\n\n\t\t\t\tthis._rect = {\n\t\t\t\t\tx: limit(x, 0, this._space.width - this._minWidth),\n\t\t\t\t\ty: limit(y, 0, this._space.height - this._minHeight),\n\t\t\t\t\twidth: limit(width, this._minWidth, this._space.width),\n\t\t\t\t\theight: limit(height, this._minHeight, this._space.height)\n\t\t\t\t};\n\n\t\t\t\tthis._rectChanged = true;\n\n\t\t\t\tthis._redraw();\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'handleEvent',\n\t\t\tvalue: function handleEvent(e) {\n\n\t\t\t\tswitch (e.type) {\n\n\t\t\t\t\tcase 'touchstart':\n\t\t\t\t\tcase 'pointerdown':\n\t\t\t\t\tcase 'mousedown':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._onStartDrag(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'touchmove':\n\t\t\t\t\tcase 'pointermove':\n\t\t\t\t\tcase 'mousemove':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._onDrag(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'touchend':\n\t\t\t\t\tcase 'touchcancel':\n\t\t\t\t\tcase 'pointerup':\n\t\t\t\t\tcase 'mouseup':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._onStopDrag(e);\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onStartDrag',\n\t\t\tvalue: function _onStartDrag(e) {\n\n\t\t\t\t// is not my event?\n\t\t\t\tif (!this._element.contains(e.target)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// listen to drag related events\n\t\t\t\taddEvents(document, Events.MOVE, this);\n\t\t\t\taddEvents(document, Events.UP, this);\n\n\t\t\t\tthis._interaction = {\n\t\t\t\t\ttype: e.target.className,\n\t\t\t\t\toffset: getEventOffsetScroll(e)\n\t\t\t\t};\n\n\t\t\t\tthis._interaction.offset.x -= this._rect.x;\n\t\t\t\tthis._interaction.offset.y -= this._rect.y;\n\n\t\t\t\t// now dragging\n\t\t\t\tthis._element.setAttribute('data-dragging', 'true');\n\n\t\t\t\t// start the redraw update loop\n\t\t\t\tthis._redraw();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onDrag',\n\t\t\tvalue: function _onDrag(e) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// get local offset for this event\n\t\t\t\tvar offset = getEventOffsetScroll(e);\n\t\t\t\tvar type = this._interaction.type;\n\n\t\t\t\t// drag\n\t\t\t\tif (type === 'c') {\n\n\t\t\t\t\tthis._rect.x = limit(offset.x - this._interaction.offset.x, 0, this._space.width - this._rect.width);\n\t\t\t\t\tthis._rect.y = limit(offset.y - this._interaction.offset.y, 0, this._space.height - this._rect.height);\n\t\t\t\t}\n\n\t\t\t\t// resize\n\t\t\t\telse if (resizers[type]) {\n\t\t\t\t\t\tthis._rect = resizers[type](this._rect, {\n\t\t\t\t\t\t\tx: offset.x - this._space.x,\n\t\t\t\t\t\t\ty: offset.y - this._space.y\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\t\twidth: this._space.width,\n\t\t\t\t\t\t\theight: this._space.height,\n\t\t\t\t\t\t\tmin: {\n\t\t\t\t\t\t\t\twidth: this._minWidth,\n\t\t\t\t\t\t\t\theight: this._minHeight\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this._ratio);\n\t\t\t\t\t}\n\n\t\t\t\tthis._rectChanged = true;\n\n\t\t\t\t// dispatch\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('input'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onStopDrag',\n\t\t\tvalue: function _onStopDrag(e) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// stop listening to drag related events\n\t\t\t\tremoveEvents(document, Events.MOVE, this);\n\t\t\t\tremoveEvents(document, Events.UP, this);\n\n\t\t\t\t// no longer interacting, so no need to redraw\n\t\t\t\tthis._interaction = null;\n\n\t\t\t\t// now dragging\n\t\t\t\tthis._element.setAttribute('data-dragging', 'false');\n\n\t\t\t\t// fire change event\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redraw',\n\t\t\tvalue: function _redraw() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tif (this._rectChanged) {\n\n\t\t\t\t\tvar transform = 'translate(' + this._rect.x + 'px,' + this._rect.y + 'px);';\n\t\t\t\t\tthis._element.style.cssText = '\\n\\t\\t\\t\\t\\t-webkit-transform: ' + transform + ';\\n\\t\\t\\t\\t\\ttransform: ' + transform + ';\\n\\t\\t\\t\\t\\twidth:' + this._rect.width + 'px;\\n\\t\\t\\t\\t\\theight:' + this._rect.height + 'px;\\n\\t\\t\\t\\t';\n\n\t\t\t\t\tthis._rectChanged = false;\n\t\t\t\t}\n\n\t\t\t\t// if no longer interacting with crop area stop here\n\t\t\t\tif (!this._interaction) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// redraw\n\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\treturn _this._redraw();\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy() {\n\n\t\t\t\tthis._interaction = false;\n\t\t\t\tthis._rectChanged = false;\n\n\t\t\t\tremoveEvents(document, Events.DOWN, this);\n\t\t\t\tremoveEvents(document, Events.MOVE, this);\n\t\t\t\tremoveEvents(document, Events.UP, this);\n\n\t\t\t\tremoveElement(this._element);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'element',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'space',\n\t\t\tget: function get() {\n\t\t\t\treturn this._space;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'area',\n\t\t\tget: function get() {\n\n\t\t\t\tvar x = this._rect.x / this._space.width;\n\t\t\t\tvar y = this._rect.y / this._space.height;\n\t\t\t\tvar width = this._rect.width / this._space.width;\n\t\t\t\tvar height = this._rect.height / this._space.height;\n\n\t\t\t\treturn {\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'dirty',\n\t\t\tget: function get() {\n\t\t\t\treturn this._rect.x !== 0 || this._rect.y !== 0 || this._rect.width !== 0 || this._rect.height !== 0;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'minWidth',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._minWidth = value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'minHeight',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._minHeight = value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'ratio',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._ratio = value;\n\t\t\t}\n\t\t}]);\n\n\t\treturn CropArea;\n\t}();\n}();\nvar ImageEditor = function () {\n\n\t/**\n  * ImageEditor\n  * @param element\n  * @param options\n  * @constructor\n  */\n\n\tvar CropAreaEvents = ['input', 'change'];\n\n\tvar ImageEditor = function () {\n\t\tfunction ImageEditor() {\n\t\t\tvar element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n\t\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\t_classCallCheck(this, ImageEditor);\n\n\t\t\tthis._element = element;\n\t\t\tthis._options = mergeOptions(ImageEditor.options(), options);\n\n\t\t\tthis._ratio = null;\n\t\t\tthis._output = null;\n\n\t\t\tthis._input = null;\n\n\t\t\tthis._preview = null;\n\t\t\tthis._previewBlurred = null;\n\n\t\t\tthis._blurredPreview = false;\n\n\t\t\tthis._cropper = null;\n\t\t\tthis._straightCrop = null;\n\t\t\tthis._previewWrapper = null;\n\t\t\tthis._currentWindowSize = {};\n\n\t\t\tthis._btnGroup = null;\n\t\t\tthis._maskFrame = null;\n\n\t\t\tthis._dirty = false;\n\n\t\t\tthis._wrapperRotation = 0;\n\t\t\tthis._wrapperScale = 1.0;\n\n\t\t\tthis._init();\n\t\t}\n\n\t\t_createClass(ImageEditor, [{\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tthis._element.className = 'slim-image-editor';\n\n\t\t\t\t// container\n\t\t\t\tthis._container = create('div', 'slim-container');\n\n\t\t\t\t// wrapper\n\t\t\t\tthis._wrapper = create('div', 'slim-wrapper');\n\n\t\t\t\t// photo crop mark container\n\t\t\t\tthis._stage = create('div', 'slim-stage');\n\t\t\t\tthis._container.appendChild(this._stage);\n\n\t\t\t\t// create crop marks\n\t\t\t\tthis._cropper = new CropArea();\n\t\t\t\tCropAreaEvents.forEach(function (e) {\n\t\t\t\t\t_this2._cropper.element.addEventListener(e, _this2);\n\t\t\t\t});\n\t\t\t\tthis._stage.appendChild(this._cropper.element);\n\n\t\t\t\t// canvas ghost\n\t\t\t\tthis._previewWrapper = create('div', 'slim-image-editor-preview slim-crop-preview');\n\t\t\t\tthis._previewBlurred = create('canvas', 'slim-crop-blur');\n\t\t\t\tthis._previewWrapper.appendChild(this._previewBlurred);\n\t\t\t\tthis._wrapper.appendChild(this._previewWrapper);\n\n\t\t\t\tthis._previewMask = create('div', 'slim-crop-mask');\n\t\t\t\tthis._preview = create('img');\n\t\t\t\tthis._previewMask.appendChild(this._preview);\n\t\t\t\t//this._previewWrapper.appendChild(this._preview);\n\t\t\t\tthis._cropper.element.appendChild(this._previewMask);\n\n\t\t\t\t// buttons\n\t\t\t\tthis._btnGroup = create('div', 'slim-editor-btn-group');\n\t\t\t\tImageEditor.Buttons.forEach(function (c) {\n\t\t\t\t\tvar prop = capitalizeFirstLetter(c);\n\t\t\t\t\tvar label = _this2._options['button' + prop + 'Label'];\n\t\t\t\t\tvar title = _this2._options['button' + prop + 'Title'];\n\t\t\t\t\tvar className = _this2._options['button' + prop + 'ClassName'];\n\t\t\t\t\tvar btn = create('button', 'slim-editor-btn slim-btn-' + c + (className ? ' ' + className : ''));\n\t\t\t\t\tbtn.innerHTML = label;\n\t\t\t\t\tbtn.title = title || label;\n\t\t\t\t\tbtn.type = 'button';\n\t\t\t\t\tbtn.setAttribute('data-action', c);\n\t\t\t\t\tbtn.addEventListener('click', _this2);\n\t\t\t\t\t_this2._btnGroup.appendChild(btn);\n\t\t\t\t});\n\n\t\t\t\t// utils\n\t\t\t\tthis._utilsGroup = create('div', 'slim-editor-utils-group');\n\n\t\t\t\t// create rotation button\n\t\t\t\tvar btn = create('button', 'slim-editor-utils-btn slim-btn-rotate' + (this._options.buttonRotateClassName ? ' ' + this._options.buttonRotateClassName : ''));\n\t\t\t\tbtn.setAttribute('data-action', 'rotate');\n\t\t\t\tbtn.addEventListener('click', this);\n\t\t\t\tbtn.title = this._options.buttonRotateTitle;\n\t\t\t\tthis._utilsGroup.appendChild(btn);\n\n\t\t\t\tthis._container.appendChild(this._wrapper);\n\n\t\t\t\tthis._element.appendChild(this._container);\n\t\t\t\tthis._element.appendChild(this._utilsGroup);\n\t\t\t\tthis._element.appendChild(this._btnGroup);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'dirty',\n\t\t\tvalue: function dirty() {\n\t\t\t\tthis._dirty = true;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'handleEvent',\n\t\t\tvalue: function handleEvent(e) {\n\n\t\t\t\tswitch (e.type) {\n\t\t\t\t\tcase 'click':\n\t\t\t\t\t\tthis._onClick(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'change':\n\t\t\t\t\t\tthis._onGridChange(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tthis._onGridInput(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'keydown':\n\t\t\t\t\t\tthis._onKeyDown(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'resize':\n\t\t\t\t\t\tthis._onResize(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onKeyDown',\n\t\t\tvalue: function _onKeyDown(e) {\n\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\tcase Key.RETURN:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase Key.ESC:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._cancel();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onClick',\n\t\t\tvalue: function _onClick(e) {\n\n\t\t\t\tif (e.target.classList.contains('slim-btn-cancel')) {\n\t\t\t\t\tthis._cancel();\n\t\t\t\t}\n\n\t\t\t\tif (e.target.classList.contains('slim-btn-confirm')) {\n\t\t\t\t\tthis._confirm();\n\t\t\t\t}\n\n\t\t\t\tif (e.target.classList.contains('slim-btn-rotate')) {\n\t\t\t\t\tthis._rotate();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onResize',\n\t\t\tvalue: function _onResize() {\n\n\t\t\t\t// remember window size\n\t\t\t\tthis._currentWindowSize = {\n\t\t\t\t\twidth: window.innerWidth,\n\t\t\t\t\theight: window.innerHeight\n\t\t\t\t};\n\n\t\t\t\t// redraw the image editor based on new dimensions\n\t\t\t\tthis._redraw();\n\n\t\t\t\tthis._redrawCropper(this._cropper.area);\n\n\t\t\t\tthis._updateWrapperScale();\n\n\t\t\t\t// apply rotation and scale\n\t\t\t\tthis._redrawWrapper();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redrawWrapper',\n\t\t\tvalue: function _redrawWrapper() {\n\t\t\t\tvar matrix = snabbt.createMatrix();\n\t\t\t\tmatrix.scale(this._wrapperScale, this._wrapperScale);\n\t\t\t\tmatrix.rotateZ(this._wrapperRotation * (Math.PI / 180));\n\t\t\t\tsnabbt.setElementTransform(this._previewWrapper, matrix);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onGridInput',\n\t\t\tvalue: function _onGridInput() {\n\n\t\t\t\tthis._redrawCropMask();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onGridChange',\n\t\t\tvalue: function _onGridChange() {\n\n\t\t\t\tthis._redrawCropMask();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_updateWrapperRotation',\n\t\t\tvalue: function _updateWrapperRotation() {\n\n\t\t\t\tif (this._options.minSize.width > this._input.height || this._options.minSize.height > this._input.width) {\n\t\t\t\t\tthis._wrapperRotation += 180;\n\t\t\t\t} else {\n\t\t\t\t\tthis._wrapperRotation += 90;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_updateWrapperScale',\n\t\t\tvalue: function _updateWrapperScale() {\n\n\t\t\t\t// test if is tilted\n\t\t\t\tvar isTilted = this._wrapperRotation % 180 !== 0;\n\n\t\t\t\t// if tilted determine correct scale factor\n\t\t\t\tif (isTilted) {\n\n\t\t\t\t\t// maximum size\n\t\t\t\t\tvar maxWidth = this._container.offsetWidth;\n\t\t\t\t\tvar maxHeight = this._container.offsetHeight;\n\n\t\t\t\t\t// get wrapper size\n\t\t\t\t\tvar wrapperWidth = this._wrapper.offsetHeight;\n\t\t\t\t\tvar wrapperHeight = this._wrapper.offsetWidth;\n\n\t\t\t\t\tvar scalar = maxWidth / wrapperWidth;\n\t\t\t\t\tif (scalar * wrapperHeight > maxHeight) {\n\t\t\t\t\t\tscalar = maxHeight / wrapperHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._wrapperScale = scalar;\n\t\t\t\t} else {\n\t\t\t\t\tthis._wrapperScale = 1.0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n    * Action handlers\n    */\n\n\t\t}, {\n\t\t\tkey: '_cancel',\n\t\t\tvalue: function _cancel() {\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('cancel'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_confirm',\n\t\t\tvalue: function _confirm() {\n\n\t\t\t\tvar isTilted = this._wrapperRotation % 180 !== 0;\n\t\t\t\tvar area = this._cropper.area;\n\n\t\t\t\tvar result = scaleRect(area, isTilted ? this._input.height : this._input.width, isTilted ? this._input.width : this._input.height);\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('confirm', {\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\trotation: this._wrapperRotation % 360,\n\t\t\t\t\t\tcrop: result\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_rotate',\n\t\t\tvalue: function _rotate() {\n\t\t\t\tvar _this3 = this;\n\n\t\t\t\t// rotate!\n\t\t\t\tthis._updateWrapperRotation();\n\n\t\t\t\t// only pass current rect if is 1:1 or free\n\t\t\t\tvar rect = this.ratio === 1 || this._ratio === null ? this._cropper.area : null;\n\t\t\t\tif (rect) {\n\t\t\t\t\trotate(rect, 90);\n\t\t\t\t}\n\n\t\t\t\t// wrapper might also need to be scaled\n\t\t\t\tthis._updateWrapperScale();\n\n\t\t\t\t// hide the cropper\n\t\t\t\tthis._hideCropper();\n\n\t\t\t\t// rotation effect\n\t\t\t\tsnabbt(this._previewWrapper, {\n\t\t\t\t\trotation: [0, 0, this._wrapperRotation * (Math.PI / 180)],\n\t\t\t\t\tscale: [this._wrapperScale, this._wrapperScale],\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .8,\n\t\t\t\t\tspringDeceleration: .65,\n\t\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t\t// redraws auto cropper\n\t\t\t\t\t\t_this3._redrawCropper(rect);\n\n\t\t\t\t\t\t// shows the cropper\n\t\t\t\t\t\t_this3._showCropper();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_showCropper',\n\t\t\tvalue: function _showCropper() {\n\n\t\t\t\tsnabbt(this._stage, {\n\t\t\t\t\teasing: 'ease',\n\t\t\t\t\tduration: 250,\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1.0\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_hideCropper',\n\t\t\tvalue: function _hideCropper() {\n\n\t\t\t\tsnabbt(this._stage, {\n\t\t\t\t\tduration: 0,\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 0\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redrawCropMask',\n\t\t\tvalue: function _redrawCropMask() {\n\t\t\t\tvar _this4 = this;\n\n\t\t\t\t// get rotation\n\t\t\t\tvar rotation = this._wrapperRotation % 360;\n\n\t\t\t\t// get scale\n\t\t\t\tvar scale = this._wrapperScale;\n\n\t\t\t\t// get image size\n\t\t\t\tvar canvas = {\n\t\t\t\t\twidth: this._wrapper.offsetWidth,\n\t\t\t\t\theight: this._wrapper.offsetHeight\n\t\t\t\t};\n\n\t\t\t\t// get default mask cropper area\n\t\t\t\tvar mask = this._cropper.area;\n\t\t\t\tvar preview = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t};\n\n\t\t\t\tif (rotation === 0) {\n\t\t\t\t\tpreview.x = -mask.x;\n\t\t\t\t\tpreview.y = -mask.y;\n\t\t\t\t} else if (rotation === 90) {\n\t\t\t\t\tpreview.x = -(1 - mask.y);\n\t\t\t\t\tpreview.y = -mask.x;\n\t\t\t\t} else if (rotation === 180) {\n\t\t\t\t\tpreview.x = -(1 - mask.x);\n\t\t\t\t\tpreview.y = -(1 - mask.y);\n\t\t\t\t} else if (rotation === 270) {\n\t\t\t\t\tpreview.x = -mask.y;\n\t\t\t\t\tpreview.y = -(1 - mask.x);\n\t\t\t\t}\n\n\t\t\t\t// scale rect to fit canvas\n\t\t\t\tpreview.x *= canvas.width;\n\t\t\t\tpreview.y *= canvas.height;\n\n\t\t\t\t// update on next frame (so it's in sync with crop area redraw)\n\t\t\t\tcancelAnimationFrame(this._maskFrame);\n\t\t\t\tthis._maskFrame = requestAnimationFrame(function () {\n\n\t\t\t\t\tvar transform = 'scale(' + scale + ') rotate(' + -rotation + 'deg) translate(' + preview.x + 'px, ' + preview.y + 'px);';\n\t\t\t\t\t_this4._preview.style.cssText = '\\n\\t\\t\\t\\t\\twidth: ' + _this4._previewSize.width + 'px;\\n\\t\\t\\t\\t\\theight: ' + _this4._previewSize.height + 'px;\\n\\t\\t\\t\\t\\t-webkit-transform: ' + transform + ';\\n\\t\\t\\t\\t\\ttransform: ' + transform + ';\\n\\t\\t\\t\\t';\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'open',\n\t\t\tvalue: function open(image, ratio, crop, rotation, complete) {\n\t\t\t\tvar _this5 = this;\n\n\t\t\t\t// test if is same image\n\t\t\t\tif (this._input && !this._dirty && this._ratio === ratio) {\n\t\t\t\t\tcomplete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// remember current window size\n\t\t\t\tthis._currentWindowSize = {\n\t\t\t\t\twidth: window.innerWidth,\n\t\t\t\t\theight: window.innerHeight\n\t\t\t\t};\n\n\t\t\t\t// reset dirty value\n\t\t\t\tthis._dirty = false;\n\n\t\t\t\t// reset rotation\n\t\t\t\tthis._wrapperRotation = rotation || 0;\n\n\t\t\t\t// we'll always have to blur the preview of a newly opened image\n\t\t\t\tthis._blurredPreview = false;\n\n\t\t\t\t// set ratio\n\t\t\t\tthis._ratio = ratio;\n\n\t\t\t\t// reset preview size\n\t\t\t\tthis._previewSize = null;\n\n\t\t\t\t// hide editor\n\t\t\t\tthis._element.style.opacity = '0';\n\n\t\t\t\t// set as new input image\n\t\t\t\tthis._input = image;\n\n\t\t\t\t// calculate crop\n\t\t\t\tvar tilted = rotation % 180 !== 0;\n\t\t\t\tvar relativeCrop = divideRect(crop, tilted ? image.height : image.width, tilted ? image.width : image.height);\n\n\t\t\t\t// preview has now loaded\n\t\t\t\tthis._preview.onload = function () {\n\n\t\t\t\t\t// reset onload listener\n\t\t\t\t\t_this5._preview.onload = null;\n\n\t\t\t\t\t// setup cropper\n\t\t\t\t\t_this5._cropper.ratio = _this5.ratio;\n\n\t\t\t\t\t// redraw view (for first time)\n\t\t\t\t\t_this5._redraw();\n\n\t\t\t\t\t// redraw cropper\n\t\t\t\t\t_this5._redrawCropper(relativeCrop);\n\n\t\t\t\t\t// done\n\t\t\t\t\tcomplete();\n\n\t\t\t\t\t// fade in\n\t\t\t\t\t_this5._element.style.opacity = '';\n\t\t\t\t};\n\n\t\t\t\t// load lower resolution preview image\n\t\t\t\tthis._preview.src = '';\n\t\t\t\tthis._preview.src = cloneCanvasScaled(this._input, Math.min(this._container.offsetWidth / this._input.width, this._container.offsetHeight / this._input.height)).toDataURL();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redrawCropper',\n\t\t\tvalue: function _redrawCropper(rect) {\n\n\t\t\t\tvar isTilted = this._wrapperRotation % 180 !== 0;\n\n\t\t\t\t// image ratio\n\t\t\t\tvar imageRatio = isTilted ? this._input.height / this._input.width : this._input.width / this._input.height;\n\n\t\t\t\t// get dimensions of image wrapper\n\t\t\t\tvar width = this._wrapper.offsetWidth;\n\t\t\t\tvar height = this._wrapper.offsetHeight;\n\n\t\t\t\t// get space\n\t\t\t\tvar maxWidth = this._container.offsetWidth;\n\t\t\t\tvar maxHeight = this._container.offsetHeight;\n\n\t\t\t\t// rescale wrapper\n\t\t\t\tthis._updateWrapperScale();\n\n\t\t\t\t// position cropper container to fit wrapper\n\t\t\t\tvar sw = this._wrapperScale * (isTilted ? height : width);\n\t\t\t\tvar sh = this._wrapperScale * (isTilted ? width : height);\n\t\t\t\tvar sx = isTilted ? (maxWidth - sw) * .5 : this._wrapper.offsetLeft;\n\t\t\t\tvar sy = isTilted ? (maxHeight - sh) * .5 : this._wrapper.offsetTop;\n\n\t\t\t\tthis._stage.style.cssText = '\\n\\t\\t\\t\\tleft:' + sx + 'px;\\n\\t\\t\\t\\ttop:' + sy + 'px;\\n\\t\\t\\t\\twidth:' + sw + 'px;\\n\\t\\t\\t\\theight:' + sh + 'px;\\n\\t\\t\\t';\n\n\t\t\t\t// set new size limit for crops\n\t\t\t\t// use image ratio so we have exact amount of pixels\n\t\t\t\tthis._cropper.limit(sw, sw / imageRatio);\n\t\t\t\tthis._cropper.offset(sx + this._element.offsetLeft, sy + this._element.offsetTop);\n\n\t\t\t\t// set min and max height of cropper\n\t\t\t\tthis._cropper.minWidth = this._wrapperScale * this._options.minSize.width * this.scalar;\n\t\t\t\tthis._cropper.minHeight = this._wrapperScale * this._options.minSize.height * this.scalar;\n\n\t\t\t\t// set crop rect\n\t\t\t\tvar crop = null;\n\t\t\t\tif (rect) {\n\t\t\t\t\tcrop = {\n\t\t\t\t\t\tx: rect.x * sw,\n\t\t\t\t\t\ty: rect.y * sh,\n\t\t\t\t\t\twidth: rect.width * sw,\n\t\t\t\t\t\theight: rect.height * sh\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tcrop = getAutoCropRect(sw, sh, this._ratio || sh / sw);\n\t\t\t\t}\n\n\t\t\t\tthis._cropper.resize(crop.x, crop.y, crop.width, crop.height);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redraw',\n\t\t\tvalue: function _redraw() {\n\n\t\t\t\t// image ratio\n\t\t\t\tvar ratio = this._input.height / this._input.width;\n\n\t\t\t\t// determine rounded size\n\t\t\t\tvar maxWidth = this._container.clientWidth;\n\t\t\t\tvar maxHeight = this._container.clientHeight;\n\n\t\t\t\tvar width = maxWidth;\n\t\t\t\tvar height = width * ratio;\n\n\t\t\t\tif (height > maxHeight) {\n\t\t\t\t\theight = maxHeight;\n\t\t\t\t\twidth = height / ratio;\n\t\t\t\t}\n\n\t\t\t\twidth = Math.round(width);\n\t\t\t\theight = Math.round(height);\n\n\t\t\t\t// rescale and recenter wrapper\n\t\t\t\tvar x = (maxWidth - width) / 2;\n\t\t\t\tvar y = (maxHeight - height) / 2;\n\n\t\t\t\tthis._wrapper.style.cssText = '\\n\\t\\t\\t\\tleft:' + x + 'px;\\n\\t\\t\\t\\ttop:' + y + 'px;\\n\\t\\t\\t\\twidth:' + width + 'px;\\n\\t\\t\\t\\theight:' + height + 'px;\\n\\t\\t\\t';\n\n\t\t\t\t// set image size based on container dimensions\n\t\t\t\tthis._previewBlurred.style.cssText = '\\n\\t\\t\\t\\twidth:' + width + 'px;\\n\\t\\t\\t\\theight:' + height + 'px;\\n\\t\\t\\t';\n\n\t\t\t\tthis._preview.style.cssText = '\\n\\t\\t\\t\\twidth:' + width + 'px;\\n\\t\\t\\t\\theight:' + height + 'px;\\n\\t\\t\\t';\n\n\t\t\t\tthis._previewSize = {\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height\n\t\t\t\t};\n\n\t\t\t\t// scale and blur the blurry preview\n\t\t\t\tif (!this._blurredPreview) {\n\n\t\t\t\t\tthis._previewBlurred.width = 300;\n\t\t\t\t\tthis._previewBlurred.height = this._previewBlurred.width * ratio;\n\n\t\t\t\t\tcopyCanvas(this._input, this._previewBlurred);\n\n\t\t\t\t\tblurCanvas(this._previewBlurred, 3);\n\n\t\t\t\t\tthis._blurredPreview = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'show',\n\t\t\tvalue: function show() {\n\t\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n\n\t\t\t\t// test if window size has changed since previous showing\n\t\t\t\tif (this._currentWindowSize.width !== window.innerWidth || this._currentWindowSize.height !== window.innerHeight) {\n\n\t\t\t\t\t// if so, reposition elements\n\t\t\t\t\tthis._redraw();\n\n\t\t\t\t\t// redraw cropper position\n\t\t\t\t\tthis._redrawCropper(this._cropper.area);\n\t\t\t\t}\n\n\t\t\t\t// listen to keydown so we can close or confirm with RETURN / ESC\n\t\t\t\tdocument.addEventListener('keydown', this);\n\n\t\t\t\t// when window is scaled we want to resize the editor\n\t\t\t\twindow.addEventListener('resize', this);\n\n\t\t\t\t// fade in preview\n\t\t\t\tvar rotation = this._wrapperRotation * (Math.PI / 180);\n\t\t\t\tsnabbt(this._previewWrapper, {\n\t\t\t\t\tfromRotation: [0, 0, rotation],\n\t\t\t\t\trotation: [0, 0, rotation],\n\t\t\t\t\tfromPosition: [0, 0, 0],\n\t\t\t\t\tposition: [0, 0, 0],\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tfromScale: [this._wrapperScale - .02, this._wrapperScale - .02],\n\t\t\t\t\tscale: [this._wrapperScale, this._wrapperScale],\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .3,\n\t\t\t\t\tspringDeceleration: .85,\n\t\t\t\t\tdelay: 450,\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\t// don't reset transforms because we need rotation to stick\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (this._cropper.dirty) {\n\n\t\t\t\t\t// now show cropper\n\t\t\t\t\tsnabbt(this._stage, {\n\t\t\t\t\t\tfromPosition: [0, 0, 0],\n\t\t\t\t\t\tposition: [0, 0, 0],\n\t\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tduration: 250,\n\t\t\t\t\t\tdelay: 850,\n\t\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\t\tresetTransforms(this);\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\n\t\t\t\t\t// now show cropper\n\t\t\t\t\tsnabbt(this._stage, {\n\t\t\t\t\t\tfromPosition: [0, 0, 0],\n\t\t\t\t\t\tposition: [0, 0, 0],\n\t\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tduration: 250,\n\t\t\t\t\t\tdelay: 1000,\n\t\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\t\tresetTransforms(this);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// now show buttons\n\t\t\t\tsnabbt(this._btnGroup.childNodes, {\n\t\t\t\t\tfromScale: [.9, .9],\n\t\t\t\t\tscale: [1, 1],\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tdelay: function delay(i) {\n\t\t\t\t\t\treturn 1000 + i * 100;\n\t\t\t\t\t},\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .3,\n\t\t\t\t\tspringDeceleration: .85,\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\tresetTransforms(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tsnabbt(this._utilsGroup.childNodes, {\n\t\t\t\t\tfromScale: [.9, .9],\n\t\t\t\t\tscale: [1, 1],\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .3,\n\t\t\t\t\tspringDeceleration: .85,\n\t\t\t\t\tdelay: 1250,\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\tresetTransforms(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'hide',\n\t\t\tvalue: function hide() {\n\t\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n\n\t\t\t\t// no more need to listen to keydown\n\t\t\t\tdocument.removeEventListener('keydown', this);\n\n\t\t\t\t// no more need to resize editor when window is scaled\n\t\t\t\twindow.removeEventListener('resize', this);\n\n\t\t\t\t// fade out buttons\n\t\t\t\tsnabbt(this._utilsGroup.childNodes, {\n\t\t\t\t\tfromOpacity: 1,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tduration: 250\n\t\t\t\t});\n\n\t\t\t\tsnabbt(this._btnGroup.childNodes, {\n\t\t\t\t\tfromOpacity: 1,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tdelay: 200,\n\t\t\t\t\tduration: 350\n\t\t\t\t});\n\n\t\t\t\tsnabbt([this._stage, this._previewWrapper], {\n\t\t\t\t\tfromPosition: [0, 0, 0],\n\t\t\t\t\tposition: [0, -250, 0],\n\t\t\t\t\tfromOpacity: 1,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .3,\n\t\t\t\t\tspringDeceleration: .75,\n\t\t\t\t\tdelay: 250,\n\t\t\t\t\tallDone: function allDone() {\n\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy() {\n\t\t\t\tvar _this6 = this;\n\n\t\t\t\tnodeListToArray(this._btnGroup.children).forEach(function (btn) {\n\t\t\t\t\tbtn.removeEventListener('click', _this6);\n\t\t\t\t});\n\n\t\t\t\tCropAreaEvents.forEach(function (e) {\n\t\t\t\t\t_this6._cropper.element.removeEventListener(e, _this6);\n\t\t\t\t});\n\n\t\t\t\tthis._cropper.destroy();\n\n\t\t\t\t// if still attached to DOM, detach\n\t\t\t\tif (this._element.parentNode) {\n\t\t\t\t\tremoveElement(this._element);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'showRotateButton',\n\t\t\tset: function set(enabled) {\n\t\t\t\tif (enabled) {\n\t\t\t\t\tthis._element.classList.remove('slim-rotation-disabled');\n\t\t\t\t} else {\n\t\t\t\t\tthis._element.classList.add('slim-rotation-disabled');\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'element',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'ratio',\n\t\t\tget: function get() {\n\t\t\t\tif (this._ratio === 'input') {\n\t\t\t\t\treturn this._input.height / this._input.width;\n\t\t\t\t}\n\t\t\t\treturn this._ratio;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'offset',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element.getBoundingClientRect();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'original',\n\t\t\tget: function get() {\n\t\t\t\treturn this._input;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'scalar',\n\t\t\tget: function get() {\n\t\t\t\treturn this._previewSize.width / this._input.width;\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: 'options',\n\t\t\tvalue: function options() {\n\n\t\t\t\treturn {\n\t\t\t\t\tbuttonCancelClassName: null,\n\t\t\t\t\tbuttonConfirmClassName: null,\n\t\t\t\t\tbuttonCancelLabel: 'Cancel',\n\t\t\t\t\tbuttonConfirmLabel: 'Confirm',\n\t\t\t\t\tbuttonCancelTitle: null,\n\t\t\t\t\tbuttonConfirmTitle: null,\n\n\t\t\t\t\tbuttonRotateTitle: 'Rotate',\n\t\t\t\t\tbuttonRotateClassName: null,\n\n\t\t\t\t\tminSize: {\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\theight: 0\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}]);\n\n\t\treturn ImageEditor;\n\t}();\n\n\tImageEditor.Buttons = ['cancel', 'confirm'];\n\n\treturn ImageEditor;\n}(CropArea);\nvar FileHopper = function () {\n\n\t/**\n  * FileHopper\n  * @param element\n  * @param options\n  * @constructor\n  */\n\tvar DragDropEvents = ['dragenter', 'dragover', 'dragleave', 'drop'];\n\n\treturn function () {\n\t\tfunction FileHopper() {\n\t\t\tvar element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n\n\t\t\t_classCallCheck(this, FileHopper);\n\n\t\t\tthis._element = element;\n\t\t\tthis._accept = [];\n\t\t\tthis._allowURLs = false;\n\n\t\t\tthis._dragPath = null;\n\n\t\t\tthis._init();\n\t\t}\n\n\t\t// public properties\n\n\n\t\t_createClass(FileHopper, [{\n\t\t\tkey: 'isValidDataTransfer',\n\t\t\tvalue: function isValidDataTransfer(dataTransfer) {\n\n\t\t\t\tif (dataTransfer.files && dataTransfer.files.length) {\n\t\t\t\t\treturn this.areValidDataTransferFiles(dataTransfer.files);\n\t\t\t\t}\n\n\t\t\t\tif (dataTransfer.items && dataTransfer.items.length) {\n\t\t\t\t\treturn this.areValidDataTransferItems(dataTransfer.items);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'areValidDataTransferFiles',\n\t\t\tvalue: function areValidDataTransferFiles(files) {\n\t\t\t\tif (this._accept.length && files) {\n\t\t\t\t\treturn this._accept.indexOf(files[0].type) !== -1;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'areValidDataTransferItems',\n\t\t\tvalue: function areValidDataTransferItems(items) {\n\n\t\t\t\tif (this._accept.length && items) {\n\n\t\t\t\t\t// is possibly dropping url\n\t\t\t\t\tif (this._allowURLs && items[0].kind === 'string') {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// is http website so firefox will not return file type\n\t\t\t\t\tif (items[0].type && items[0].type.indexOf('application') === 0) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this._accept.indexOf(items[0].type) !== -1;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// public methods\n\n\t\t}, {\n\t\t\tkey: 'reset',\n\t\t\tvalue: function reset() {\n\t\t\t\tthis._element.files = null;\n\t\t\t}\n\n\t\t\t// private\n\n\t\t}, {\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\t\t\t\tvar _this7 = this;\n\n\t\t\t\tthis._element.className = 'slim-file-hopper';\n\n\t\t\t\tDragDropEvents.forEach(function (e) {\n\t\t\t\t\t_this7._element.addEventListener(e, _this7);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// the input has changed\n\n\t\t}, {\n\t\t\tkey: 'handleEvent',\n\t\t\tvalue: function handleEvent(e) {\n\n\t\t\t\tswitch (e.type) {\n\t\t\t\t\tcase 'dragenter':\n\t\t\t\t\tcase 'dragover':\n\t\t\t\t\t\tthis._onDragOver(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'dragleave':\n\t\t\t\t\t\tthis._onDragLeave(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'drop':\n\t\t\t\t\t\tthis._onDrop(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onDrop',\n\t\t\tvalue: function _onDrop(e) {\n\n\t\t\t\t// prevents browser from opening image\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// test if a url was dropped\n\t\t\t\tvar remote = null;\n\n\t\t\t\tif (this._allowURLs) {\n\n\t\t\t\t\tvar url = void 0;\n\t\t\t\t\tvar meta = void 0;\n\t\t\t\t\ttry {\n\t\t\t\t\t\turl = e.dataTransfer.getData('url');\n\t\t\t\t\t\tmeta = e.dataTransfer.getData('text/html');\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// nope nope nope (ie11 trouble)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (meta && meta.length) {\n\t\t\t\t\t\tvar parsed = meta.match(/src\\s*=\\s*\"(.+?)\"/);\n\t\t\t\t\t\tif (parsed) {\n\t\t\t\t\t\t\tremote = parsed[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (url && url.length) {\n\t\t\t\t\t\tremote = url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (remote) {\n\t\t\t\t\tthis._element.files = [{ remote: remote }];\n\t\t\t\t}\n\t\t\t\t// nope, must have been a file\n\t\t\t\telse {\n\n\t\t\t\t\t\t// test type in older browsers\n\t\t\t\t\t\tvar filesValidity = this.isValidDataTransfer(e.dataTransfer);\n\t\t\t\t\t\tif (!filesValidity) {\n\n\t\t\t\t\t\t\t// invalid files, stop here\n\t\t\t\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-invalid-drop'));\n\n\t\t\t\t\t\t\t// no longer hovering\n\t\t\t\t\t\t\tthis._dragPath = null;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// store dropped files on element files property, so can be accessed by same function as file input handler\n\t\t\t\t\t\tthis._element.files = e.dataTransfer.files;\n\t\t\t\t\t}\n\n\t\t\t\t// file has been dropped\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-drop', {\n\t\t\t\t\tdetail: getOffsetByEvent(e)\n\t\t\t\t}));\n\n\t\t\t\t// file list has changed, let's notify others\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\n\t\t\t\t// no longer hovering\n\t\t\t\tthis._dragPath = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onDragOver',\n\t\t\tvalue: function _onDragOver(e) {\n\n\t\t\t\t// prevents browser from opening image\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// set drop effect\n\t\t\t\te.dataTransfer.dropEffect = 'copy';\n\n\t\t\t\t// determin if is valid data\n\t\t\t\tvar dataValidity = this.isValidDataTransfer(e.dataTransfer);\n\t\t\t\t// if validity is null is undetermined\n\t\t\t\tif (dataValidity !== null && !dataValidity) {\n\n\t\t\t\t\t// indicate drop mode to user\n\t\t\t\t\te.dataTransfer.dropEffect = 'none';\n\n\t\t\t\t\t// invalid files, stop here\n\t\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-invalid'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// now hovering file over the area\n\t\t\t\tif (!this._dragPath) {\n\t\t\t\t\tthis._dragPath = [];\n\t\t\t\t}\n\n\t\t\t\t// push location\n\t\t\t\tthis._dragPath.push(getOffsetByEvent(e));\n\n\t\t\t\t// file is hovering over element\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-over', {\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\tx: last(this._dragPath).x,\n\t\t\t\t\t\ty: last(this._dragPath).y\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onDragLeave',\n\t\t\tvalue: function _onDragLeave(e) {\n\n\t\t\t\t// user has dragged file out of element area\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-out', {\n\t\t\t\t\tdetail: getOffsetByEvent(e)\n\t\t\t\t}));\n\n\t\t\t\t// now longer hovering file\n\t\t\t\tthis._dragPath = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy() {\n\t\t\t\tvar _this8 = this;\n\n\t\t\t\tDragDropEvents.forEach(function (e) {\n\t\t\t\t\t_this8._element.removeEventListener(e, _this8);\n\t\t\t\t});\n\n\t\t\t\tremoveElement(this._element);\n\n\t\t\t\tthis._element = null;\n\t\t\t\tthis._dragPath = null;\n\t\t\t\tthis._accept = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'element',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'dragPath',\n\t\t\tget: function get() {\n\t\t\t\treturn this._dragPath;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element.style.display === '';\n\t\t\t},\n\t\t\tset: function set(value) {\n\t\t\t\tthis._element.style.display = value ? '' : 'none';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'allowURLs',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._allowURLs = value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'accept',\n\t\t\tset: function set(mimetypes) {\n\t\t\t\tthis._accept = mimetypes;\n\t\t\t},\n\t\t\tget: function get() {\n\t\t\t\treturn this._accept;\n\t\t\t}\n\t\t}]);\n\n\t\treturn FileHopper;\n\t}();\n}();\nvar Popover = function () {\n\n\t/**\n  * Popover\n  */\n\treturn function () {\n\t\tfunction Popover() {\n\t\t\t_classCallCheck(this, Popover);\n\n\t\t\tthis._element = null;\n\t\t\tthis._inner = null;\n\n\t\t\tthis._init();\n\t\t}\n\n\t\t_createClass(Popover, [{\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\n\t\t\t\tthis._element = create('div', 'slim-popover');\n\t\t\t\tthis._element.setAttribute('data-state', 'off');\n\t\t\t\tdocument.body.appendChild(this._element);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'show',\n\t\t\tvalue: function show() {\n\t\t\t\tvar _this9 = this;\n\n\t\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n\n\t\t\t\t// turn on\n\t\t\t\tthis._element.setAttribute('data-state', 'on');\n\n\t\t\t\t// show and animate in\n\t\t\t\tsnabbt(this._element, {\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tduration: 350,\n\t\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t\t// clean up transforms\n\t\t\t\t\t\tresetTransforms(_this9._element);\n\n\t\t\t\t\t\t// ready!\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'hide',\n\t\t\tvalue: function hide() {\n\t\t\t\tvar _this10 = this;\n\n\t\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n\n\t\t\t\t// animate out and hide\n\t\t\t\tsnabbt(this._element, {\n\t\t\t\t\tfromOpacity: 1,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tduration: 500,\n\t\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t\t// clean up transforms\n\t\t\t\t\t\tresetTransforms(_this10._element);\n\n\t\t\t\t\t\t// hide the editor\n\t\t\t\t\t\t_this10._element.setAttribute('data-state', 'off');\n\n\t\t\t\t\t\t// ready!\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy() {\n\t\t\t\tif (!this._element.parentNode) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._element.parentNode.removeChild(this._element);\n\t\t\t\tthis._element = null;\n\t\t\t\tthis._inner = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'inner',\n\t\t\tset: function set(element) {\n\n\t\t\t\tthis._inner = element;\n\t\t\t\tif (this._element.firstChild) {\n\t\t\t\t\tthis._element.removeChild(this._element.firstChild);\n\t\t\t\t}\n\t\t\t\tthis._element.appendChild(this._inner);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'className',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._element.className = 'slim-popover' + (value === null ? '' : ' ' + value);\n\t\t\t}\n\t\t}]);\n\n\t\treturn Popover;\n\t}();\n}();\nvar intSplit = function intSplit(v, c) {\n\treturn v.split(c).map(function (v) {\n\t\treturn parseInt(v, 10);\n\t});\n};\n\nvar isWrapper = function isWrapper(element) {\n\treturn element.nodeName === 'DIV' || element.nodeName === 'SPAN';\n};\n\nvar CropType = {\n\tAUTO: 'auto',\n\tINITIAL: 'initial',\n\tMANUAL: 'manual'\n};\n\nvar Rect = ['x', 'y', 'width', 'height'];\n\nvar HopperEvents = ['file-invalid-drop', 'file-invalid', 'file-drop', 'file-over', 'file-out', 'click'];\n\nvar ImageEditorEvents = ['cancel', 'confirm'];\n\nvar SlimButtons = ['remove', 'edit', 'download', 'upload'];\n\nvar SlimPopover = null;\nvar SlimCount = 0;\n\nvar SlimLoaderHTML = '\\n<div class=\"slim-loader\">\\n\\t<svg>\\n\\t\\t<path class=\"slim-loader-background\" fill=\"none\" stroke-width=\"3\" />\\n\\t\\t<path class=\"slim-loader-foreground\" fill=\"none\" stroke-width=\"3\" />\\n\\t</svg>\\n</div>\\n';\n\nvar SlimUploadStatusHTML = '\\n<div class=\"slim-upload-status\"></div>\\n';\n\nvar stringToSize = function stringToSize(str) {\n\tvar size = str.split(',');\n\treturn {\n\t\twidth: parseInt(size[0], 10),\n\t\theight: parseInt(size[1], 10)\n\t};\n};\n\nvar Slim = function () {\n\tfunction Slim(element) {\n\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t_classCallCheck(this, Slim);\n\n\t\t// create popover element if not already created\n\t\tif (!SlimPopover) {\n\t\t\tSlimPopover = new Popover();\n\t\t}\n\n\t\t// we create a new counter, we use this counter to determine if we need to clean up the popover\n\t\tthis._uid = SlimCount++;\n\n\t\t// the options to use\n\t\tthis._options = mergeOptions(Slim.options(), options);\n\n\t\t// test options correctness\n\t\tif (this._options.forceSize) {\n\t\t\tif (typeof this._options.forceSize === 'string') {\n\t\t\t\tthis._options.forceSize = stringToSize(this._options.forceSize);\n\t\t\t}\n\t\t\tthis._options.ratio = this._options.forceSize.width + ':' + this._options.forceSize.height;\n\t\t\tthis._options.size = clone(this._options.forceSize);\n\t\t}\n\n\t\t// test for size set as string\n\t\tif (typeof this._options.size === 'string') {\n\t\t\tthis._options.size = stringToSize(this._options.size);\n\t\t}\n\n\t\t// test for size set as string\n\t\tif (typeof this._options.minSize === 'string') {\n\t\t\tthis._options.minSize = stringToSize(this._options.minSize);\n\t\t}\n\n\t\t// reference to original element so we can restore original situation\n\t\tthis._originalElement = element;\n\t\tthis._originalElementInner = element.innerHTML;\n\t\tthis._originalElementAttributes = getElementAttributes(element);\n\n\t\t// should be file input, image or slim wrapper, if not wrapper, wrap\n\t\tif (!isWrapper(element)) {\n\n\t\t\tthis._element = wrap(element);\n\t\t\tthis._element.className = element.className;\n\t\t\telement.className = '';\n\n\t\t\t// ratio is used for CSS so let's set default attribute\n\t\t\tthis._element.setAttribute('data-ratio', this._options.ratio);\n\t\t} else {\n\t\t\tthis._element = element;\n\t\t}\n\t\tthis._element.classList.add('slim');\n\t\tthis._element.setAttribute('data-state', 'init');\n\n\t\t// editor state\n\t\tthis._state = [];\n\n\t\t// internal timer array for async processes\n\t\tthis._timers = [];\n\n\t\t// the source element (can either be an input or an img)\n\t\tthis._input = null;\n\n\t\t// the source element unique name if is input type file\n\t\tthis._inputReference = null;\n\n\t\t// the output element (hidden input that contains the resulting json object)\n\t\tthis._output = null;\n\n\t\t// current image ratio\n\t\tthis._ratio = null;\n\n\t\t// was required field\n\t\tthis._isRequired = false;\n\n\t\t// components\n\t\tthis._imageHopper = null;\n\t\tthis._imageEditor = null;\n\n\t\t// progress path\n\t\tthis._progressEnabled = true;\n\n\t\t// resulting data\n\t\tthis._data = {};\n\t\tthis._resetData();\n\n\t\t// the circle below the mouse hover point\n\t\tthis._drip = null;\n\n\t\t// had initial image\n\t\tthis._hasInitialImage = false;\n\n\t\t// initial crop\n\t\tthis._initialCrop = this._options.crop;\n\n\t\t// initial rotation\n\t\tthis._initialRotation = this._options.rotation && this._options.rotation % 90 === 0 ? this._options.rotation : null;\n\n\t\t// set to true when destroy method is called, used to halt any timeouts or async processes\n\t\tthis._isBeingDestroyed = false;\n\n\t\t// stop here if not supported\n\t\tif (!Slim.supported) {\n\t\t\tthis._fallback();\n\t\t} else {\n\t\t\t// let's go!\n\t\t\tthis._init();\n\t\t}\n\t}\n\n\t_createClass(Slim, [{\n\t\tkey: 'setRotation',\n\t\tvalue: function setRotation(rotation, callback) {\n\n\t\t\tif (typeof rotation !== 'number' && rotation % 90 !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._data.actions.rotation = rotation;\n\t\t\tvar isTilted = this._data.actions.rotation % 180 !== 0;\n\n\t\t\tif (this._data.input.image) {\n\t\t\t\tvar w = isTilted ? this._data.input.image.height : this._data.input.image.width;\n\t\t\t\tvar h = isTilted ? this._data.input.image.width : this._data.input.image.height;\n\t\t\t\tthis._data.actions.crop = getAutoCropRect(w, h, this._ratio);\n\t\t\t\tthis._data.actions.crop.type = CropType.AUTO;\n\t\t\t}\n\n\t\t\tif (this._data.input.image && callback) {\n\t\t\t\tthis._manualTransform(callback);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setSize',\n\t\tvalue: function setSize(dimensions, callback) {\n\n\t\t\tif (typeof dimensions === 'string') {\n\t\t\t\tdimensions = stringToSize(dimensions);\n\t\t\t}\n\n\t\t\tif (!dimensions || !dimensions.width || !dimensions.height) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._options.size = clone(dimensions);\n\t\t\tthis._data.actions.size = clone(dimensions);\n\n\t\t\t// if a crop area is set do re-crop to conform to size\n\t\t\tif (this._data.input.image && callback) {\n\t\t\t\tthis._manualTransform(callback);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setForceSize',\n\t\tvalue: function setForceSize(dimensions, callback) {\n\n\t\t\tif (typeof dimensions === 'string') {\n\t\t\t\tdimensions = stringToSize(dimensions);\n\t\t\t}\n\n\t\t\tif (!dimensions || !dimensions.width || !dimensions.height) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._options.size = clone(dimensions);\n\t\t\tthis._options.forceSize = clone(dimensions);\n\t\t\tthis._data.actions.size = clone(dimensions);\n\n\t\t\tthis.setRatio(this._options.forceSize.width + ':' + this._options.forceSize.height, callback);\n\t\t}\n\t}, {\n\t\tkey: 'setRatio',\n\t\tvalue: function setRatio(ratio, callback) {\n\t\t\tvar _this11 = this;\n\n\t\t\tif (!ratio || typeof ratio !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._options.ratio = ratio;\n\n\t\t\tif (this._isFixedRatio()) {\n\n\t\t\t\tvar parts = intSplit(this._options.ratio, ':');\n\t\t\t\tthis._ratio = parts[1] / parts[0];\n\n\t\t\t\tif (this._data.input.image && callback) {\n\t\t\t\t\tthis._cropAuto(function (data) {\n\t\t\t\t\t\t_this11._scaleDropArea(_this11._ratio);\n\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\n\t\t\t\t\tif (this._data.input.image) {\n\t\t\t\t\t\tthis._data.actions.crop = getAutoCropRect(this._data.input.image.width, this._data.input.image.height, this._ratio);\n\t\t\t\t\t\tthis._data.actions.crop.type = CropType.AUTO;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._scaleDropArea(this._ratio);\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback(null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// methods\n\t\t// Test if this Slim object has been bound to the given element\n\n\t}, {\n\t\tkey: 'isAttachedTo',\n\t\tvalue: function isAttachedTo(element) {\n\t\t\treturn this._element === element || this._originalElement === element;\n\t\t}\n\t}, {\n\t\tkey: 'isDetached',\n\t\tvalue: function isDetached() {\n\t\t\treturn this._element.parentNode === null;\n\t\t}\n\t}, {\n\t\tkey: 'load',\n\t\tvalue: function load(src) {\n\t\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\t\tvar callback = arguments[2];\n\n\n\t\t\tif (typeof options === 'function') {\n\t\t\t\tcallback = options;\n\t\t\t} else {\n\n\t\t\t\t// store in options\n\t\t\t\tthis._options.crop = options.crop;\n\n\t\t\t\t// set rotation\n\t\t\t\tthis._options.rotation = options.rotation;\n\n\t\t\t\t// initial rotation\n\t\t\t\tthis._initialRotation = options.rotation && options.rotation % 90 === 0 ? options.rotation : null;\n\n\t\t\t\t// set initial crop\n\t\t\t\tthis._initialCrop = this._options.crop;\n\t\t\t}\n\n\t\t\tthis._load(src, callback, { blockPush: options.blockPush });\n\t\t}\n\t}, {\n\t\tkey: 'upload',\n\t\tvalue: function upload(callback) {\n\t\t\tthis._doUpload(callback);\n\t\t}\n\t}, {\n\t\tkey: 'download',\n\t\tvalue: function download() {\n\t\t\tthis._doDownload();\n\t\t}\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\treturn this._doRemove();\n\t\t}\n\t}, {\n\t\tkey: 'destroy',\n\t\tvalue: function destroy() {\n\t\t\tthis._doDestroy();\n\t\t}\n\t}, {\n\t\tkey: 'edit',\n\t\tvalue: function edit() {\n\t\t\tthis._doEdit();\n\t\t}\n\t}, {\n\t\tkey: 'crop',\n\t\tvalue: function crop(rect, callback) {\n\t\t\tthis._crop(rect.x, rect.y, rect.width, rect.height, callback);\n\t\t}\n\t}, {\n\t\tkey: 'containsImage',\n\t\tvalue: function containsImage() {\n\t\t\treturn this._data.input.name !== null;\n\t\t}\n\n\t\t/**\n   * State Related\n   */\n\n\t}, {\n\t\tkey: '_canInstantEdit',\n\t\tvalue: function _canInstantEdit() {\n\t\t\treturn this._options.instantEdit && !this._isInitialising;\n\t\t}\n\t}, {\n\t\tkey: '_getFileInput',\n\t\tvalue: function _getFileInput() {\n\t\t\treturn this._element.querySelector('input[type=file]');\n\t\t}\n\t}, {\n\t\tkey: '_getInitialImage',\n\t\tvalue: function _getInitialImage() {\n\t\t\treturn this._element.querySelector('img');\n\t\t}\n\t}, {\n\t\tkey: '_getInputElement',\n\t\tvalue: function _getInputElement() {\n\t\t\treturn this._getFileInput() || this._getInitialImage();\n\t\t}\n\t}, {\n\t\tkey: '_getRatioSpacerElement',\n\t\tvalue: function _getRatioSpacerElement() {\n\t\t\treturn this._element.children[0];\n\t\t}\n\t}, {\n\t\tkey: '_isImageOnly',\n\t\tvalue: function _isImageOnly() {\n\t\t\treturn this._input.nodeName !== 'INPUT';\n\t\t}\n\t}, {\n\t\tkey: '_isFixedRatio',\n\t\tvalue: function _isFixedRatio() {\n\t\t\treturn this._options.ratio.indexOf(':') !== -1;\n\t\t}\n\t}, {\n\t\tkey: '_isAutoCrop',\n\t\tvalue: function _isAutoCrop() {\n\t\t\treturn this._data.actions.crop.type === CropType.AUTO;\n\t\t}\n\t}, {\n\t\tkey: '_toggleButton',\n\t\tvalue: function _toggleButton(action, state) {\n\t\t\ttoggleDisplayBySelector('.slim-btn[data-action=\"' + action + '\"]', state, this._element);\n\t\t}\n\t}, {\n\t\tkey: '_clearState',\n\t\tvalue: function _clearState() {\n\t\t\tthis._state = [];\n\t\t\tthis._updateState();\n\t\t}\n\t}, {\n\t\tkey: '_removeState',\n\t\tvalue: function _removeState(state) {\n\t\t\tthis._state = this._state.filter(function (item) {\n\t\t\t\treturn item !== state;\n\t\t\t});\n\t\t\tthis._updateState();\n\t\t}\n\t}, {\n\t\tkey: '_addState',\n\t\tvalue: function _addState(state) {\n\t\t\tif (inArray(state, this._state)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._state.push(state);\n\t\t\tthis._updateState();\n\t\t}\n\t}, {\n\t\tkey: '_updateState',\n\t\tvalue: function _updateState() {\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._element.setAttribute('data-state', this._state.join(','));\n\t\t}\n\t}, {\n\t\tkey: '_resetData',\n\t\tvalue: function _resetData() {\n\n\t\t\t// resets data object\n\t\t\tthis._data = {\n\t\t\t\tserver: null,\n\t\t\t\tmeta: clone(this._options.meta),\n\t\t\t\tinput: {\n\t\t\t\t\tfield: this._inputReference,\n\t\t\t\t\tname: null,\n\t\t\t\t\ttype: null,\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tfile: null\n\t\t\t\t},\n\t\t\t\toutput: {\n\t\t\t\t\timage: null,\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\trotation: null,\n\t\t\t\t\tcrop: null,\n\t\t\t\t\tsize: null\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// resets hidden input clone (has not yet been created when reset call in constructor, hence the check)\n\t\t\tif (this._output) {\n\t\t\t\tthis._output.value = '';\n\t\t\t}\n\n\t\t\t// should reset file input\n\t\t\tresetFileInput(this._getFileInput());\n\t\t}\n\n\t\t/**\n   * Initialisation\n   */\n\n\t}, {\n\t\tkey: '_init',\n\t\tvalue: function _init() {\n\t\t\tvar _this12 = this;\n\n\t\t\t// busy initialising\n\t\t\tthis._isInitialising = true;\n\n\t\t\t// cropper root is not file input\n\t\t\tthis._addState('empty');\n\n\t\t\t// define input reference field name\n\t\t\tif (inArray('input', this._options.post)) {\n\t\t\t\tthis._inputReference = 'slim_input_' + this._uid;\n\t\t\t}\n\n\t\t\t// get input element\n\t\t\tthis._input = this._getInputElement();\n\n\t\t\t// if no input supplied we'll automatically create one\n\t\t\tif (!this._input) {\n\t\t\t\tthis._input = create('input');\n\t\t\t\tthis._input.type = 'file';\n\t\t\t\tthis._element.appendChild(this._input);\n\t\t\t}\n\n\t\t\t// get required state of input element\n\t\t\tthis._isRequired = this._input.required === true;\n\n\t\t\t// set or create output field\n\t\t\tthis._output = this._element.querySelector('input[type=hidden]');\n\n\t\t\t// if no output element defined we'll create one automagically\n\t\t\tif (!this._output) {\n\t\t\t\tthis._output = create('input');\n\t\t\t\tthis._output.type = 'hidden';\n\t\t\t\tthis._output.name = this._input.name || this._options.defaultInputName;\n\t\t\t\tthis._element.appendChild(this._output);\n\t\t\t} else {\n\t\t\t\tvar initialData = null;\n\t\t\t\ttry {\n\t\t\t\t\tinitialData = JSON.parse(this._output.value);\n\t\t\t\t} catch (e) {}\n\t\t\t\tif (initialData) {\n\t\t\t\t\tvar img = new Image();\n\t\t\t\t\timg.src = initialData.output.image;\n\t\t\t\t\timg.setAttribute('data-filename', initialData.output.name);\n\t\t\t\t\tthis._element.insertBefore(img, this._element.firstChild);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prevent the original file input field from posting (value will be duplicated to output field)\n\t\t\tthis._input.removeAttribute('name');\n\n\t\t\t// create drop area\n\t\t\tvar area = create('div', 'slim-area');\n\n\t\t\t// test if contains initial image\n\t\t\tvar initialImage = this._getInitialImage();\n\t\t\tvar initialImageSrc = (initialImage || {}).src;\n\t\t\tvar initialImageName = initialImage ? initialImage.getAttribute('data-filename') : null;\n\n\t\t\tif (initialImageSrc) {\n\t\t\t\tthis._hasInitialImage = true;\n\t\t\t} else {\n\t\t\t\tthis._initialCrop = null;\n\t\t\t\tthis._initialRotation = null;\n\t\t\t}\n\n\t\t\tvar resultHTML = '\\n\\t\\t<div class=\"slim-result\">\\n\\t\\t\\t<img class=\"in\" style=\"opacity:0\" ' + (initialImageSrc ? 'src=\"' + initialImageSrc + '\"' : '') + '><img><img style=\"opacity:0\">\\n\\t\\t</div>';\n\n\t\t\t// add drop overlay\n\t\t\tif (this._isImageOnly()) {\n\t\t\t\tarea.innerHTML = '\\n\\t\\t\\t\\t' + SlimLoaderHTML + '\\n\\t\\t\\t\\t' + SlimUploadStatusHTML + '\\n\\t\\t\\t\\t' + resultHTML + '\\n\\t\\t\\t\\t<div class=\"slim-status\"><div class=\"slim-label-loading\">' + (this._options.labelLoading || '') + '</div></div>\\n\\t\\t\\t';\n\t\t\t} else {\n\n\t\t\t\t// if should post input data\n\t\t\t\tif (inArray('input', this._options.post)) {\n\n\t\t\t\t\tthis._data.input.field = this._inputReference;\n\n\t\t\t\t\t// if is sync post\n\t\t\t\t\t// and should post input data\n\t\t\t\t\tif (!this._options.service) {\n\t\t\t\t\t\tthis._input.name = this._inputReference;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// set common image mime type to the accept attribute\n\t\t\t\tvar mimetypes = void 0;\n\t\t\t\tif (!this._input.hasAttribute('accept') || this._input.getAttribute('accept') === 'image/*') {\n\t\t\t\t\tmimetypes = getCommonMimeTypes();\n\t\t\t\t\tthis._input.setAttribute('accept', mimetypes.join(','));\n\t\t\t\t} else {\n\t\t\t\t\tmimetypes = this._input.accept.split(',').map(function (mimetype) {\n\t\t\t\t\t\treturn mimetype.trim();\n\t\t\t\t\t}).filter(function (mimetype) {\n\t\t\t\t\t\treturn mimetype.length > 0;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// setup hopper\n\t\t\t\tthis._imageHopper = new FileHopper();\n\t\t\t\tthis._imageHopper.accept = mimetypes;\n\t\t\t\tthis._imageHopper.allowURLs = typeof this._options.fetcher === 'string';\n\t\t\t\tthis._element.appendChild(this._imageHopper.element);\n\t\t\t\tHopperEvents.forEach(function (e) {\n\t\t\t\t\t_this12._imageHopper.element.addEventListener(e, _this12);\n\t\t\t\t});\n\n\t\t\t\t// render area\n\t\t\t\tarea.innerHTML = '\\n\\t\\t\\t\\t' + SlimLoaderHTML + '\\n\\t\\t\\t\\t' + SlimUploadStatusHTML + '\\n\\t\\t\\t\\t<div class=\"slim-drip\"><span><span></span></span></div>\\n\\t\\t\\t\\t<div class=\"slim-status\"><div class=\"slim-label\">' + (this._options.label || '') + '</div><div class=\"slim-label-loading\">' + (this._options.labelLoading || '') + '</div></div>\\n\\t\\t\\t\\t' + resultHTML + '\\n\\t\\t\\t';\n\n\t\t\t\t// start listening for events so we can load image on file input change\n\t\t\t\tthis._input.addEventListener('change', this);\n\t\t\t}\n\n\t\t\t// add area node\n\t\t\tthis._element.appendChild(area);\n\n\t\t\t// add button group\n\t\t\tthis._btnGroup = create('div', 'slim-btn-group');\n\t\t\tthis._btnGroup.style.display = 'none';\n\t\t\tthis._element.appendChild(this._btnGroup);\n\t\t\tSlimButtons.filter(function (c) {\n\t\t\t\treturn _this12._isButtonAllowed(c);\n\t\t\t}).forEach(function (c) {\n\t\t\t\tvar prop = capitalizeFirstLetter(c);\n\t\t\t\tvar label = _this12._options['button' + prop + 'Label'];\n\t\t\t\tvar title = _this12._options['button' + prop + 'Title'] || label;\n\t\t\t\tvar className = _this12._options['button' + prop + 'ClassName'];\n\t\t\t\tvar btn = create('button', 'slim-btn slim-btn-' + c + (className ? ' ' + className : ''));\n\t\t\t\tbtn.innerHTML = label;\n\t\t\t\tbtn.title = title;\n\t\t\t\tbtn.type = 'button';\n\t\t\t\tbtn.addEventListener('click', _this12);\n\t\t\t\tbtn.setAttribute('data-action', c);\n\t\t\t\t_this12._btnGroup.appendChild(btn);\n\t\t\t});\n\n\t\t\t// add ratio padding\n\t\t\tif (this._isFixedRatio()) {\n\t\t\t\tvar parts = intSplit(this._options.ratio, ':');\n\t\t\t\tthis._ratio = parts[1] / parts[0];\n\t\t\t\tthis._scaleDropArea(this._ratio);\n\t\t\t}\n\n\t\t\t// setup loader\n\t\t\tthis._updateProgress(.5);\n\n\t\t\t// preload source\n\t\t\tif (initialImageSrc) {\n\n\t\t\t\tthis._load(initialImageSrc, function () {\n\t\t\t\t\t_this12._onInit();\n\t\t\t\t}, { name: initialImageName });\n\t\t\t} else {\n\t\t\t\tthis._onInit();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_onInit',\n\t\tvalue: function _onInit() {\n\t\t\tvar _this13 = this;\n\n\t\t\t// we're done initialising\n\t\t\tthis._isInitialising = false;\n\n\t\t\t// done initialising now, else is only called after image load\n\t\t\tvar done = function done() {\n\t\t\t\t// we call this async so the constructor of Slim has returned before the onInit is called, allowing clean immidiate destroy\n\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\t_this13._options.didInit.apply(_this13, [_this13.data, _this13]);\n\t\t\t\t}, 0);\n\t\t\t\t_this13._timers.push(timer);\n\t\t\t};\n\n\t\t\t// save initial image\n\t\t\tif (this._options.saveInitialImage && this.containsImage()) {\n\n\t\t\t\tif (!this._options.service) {\n\t\t\t\t\tthis._save(function () {\n\t\t\t\t\t\tdone();\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// by default upload button is disabled for existing images\n\t\t\t\tif (this._options.service && this.containsImage()) {\n\t\t\t\t\tthis._toggleButton('upload', false);\n\t\t\t\t}\n\n\t\t\t\tdone();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_updateProgress',\n\t\tvalue: function _updateProgress(progress) {\n\n\t\t\tprogress = Math.min(.99999, progress);\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this._progressEnabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar size = loader.offsetWidth;\n\t\t\tvar paths = loader.querySelectorAll('path');\n\t\t\tvar ringWidth = parseInt(paths[0].getAttribute('stroke-width'), 10);\n\n\t\t\tpaths[0].setAttribute('d', percentageArc(size * .5, size * .5, size * .5 - ringWidth, .9999));\n\n\t\t\tpaths[1].setAttribute('d', percentageArc(size * .5, size * .5, size * .5 - ringWidth, progress));\n\t\t}\n\t}, {\n\t\tkey: '_startProgress',\n\t\tvalue: function _startProgress(cb) {\n\t\t\tvar _this14 = this;\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._progressEnabled = false;\n\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ring = loader.children[0];\n\n\t\t\tthis._stopProgressLoop(function () {\n\n\t\t\t\tloader.removeAttribute('style');\n\t\t\t\tring.removeAttribute('style');\n\n\t\t\t\t_this14._progressEnabled = true;\n\n\t\t\t\t_this14._updateProgress(0);\n\n\t\t\t\t_this14._progressEnabled = false;\n\n\t\t\t\tsnabbt(ring, {\n\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tduration: 250,\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\t_this14._progressEnabled = true;\n\t\t\t\t\t\tif (cb) {\n\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_stopProgress',\n\t\tvalue: function _stopProgress() {\n\t\t\tvar _this15 = this;\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ring = loader.children[0];\n\n\t\t\tthis._updateProgress(1);\n\n\t\t\tsnabbt(ring, {\n\t\t\t\tfromOpacity: 1,\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 250,\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\tloader.removeAttribute('style');\n\t\t\t\t\tring.removeAttribute('style');\n\n\t\t\t\t\t_this15._updateProgress(.5);\n\n\t\t\t\t\t_this15._progressEnabled = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_startProgressLoop',\n\t\tvalue: function _startProgressLoop() {\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// start loading animation\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar ring = loader.children[0];\n\t\t\tloader.removeAttribute('style');\n\t\t\tring.removeAttribute('style');\n\n\t\t\t// set infinite load state\n\t\t\tthis._updateProgress(.5);\n\n\t\t\t// repeat!\n\t\t\tvar repeat = 1000;\n\n\t\t\tsnabbt(loader, 'stop');\n\n\t\t\tsnabbt(loader, {\n\t\t\t\trotation: [0, 0, -(Math.PI * 2) * repeat],\n\t\t\t\teasing: 'linear',\n\t\t\t\tduration: repeat * 1000\n\t\t\t});\n\n\t\t\tsnabbt(ring, {\n\t\t\t\tfromOpacity: 0,\n\t\t\t\topacity: 1,\n\t\t\t\tduration: 250\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_stopProgressLoop',\n\t\tvalue: function _stopProgressLoop(callback) {\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar ring = loader.children[0];\n\n\t\t\tsnabbt(ring, {\n\t\t\t\tfromOpacity: parseFloat(ring.style.opacity),\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 250,\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\tsnabbt(loader, 'stop');\n\n\t\t\t\t\tloader.removeAttribute('style');\n\t\t\t\t\tring.removeAttribute('style');\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_isButtonAllowed',\n\t\tvalue: function _isButtonAllowed(button) {\n\n\t\t\tif (button === 'edit') {\n\t\t\t\treturn this._options.edit;\n\t\t\t}\n\n\t\t\tif (button === 'download') {\n\t\t\t\treturn this._options.download;\n\t\t\t}\n\n\t\t\tif (button === 'upload') {\n\n\t\t\t\t// if no service defined upload button makes no sense\n\t\t\t\tif (!this._options.service) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// if push mode is set, no need for upload button\n\t\t\t\tif (this._options.push) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// set upload button\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (button === 'remove') {\n\t\t\t\treturn !this._isImageOnly();\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}, {\n\t\tkey: '_fallback',\n\t\tvalue: function _fallback() {\n\n\t\t\t// create status area\n\t\t\tvar area = create('div', 'slim-area');\n\t\t\tarea.innerHTML = '\\n\\t\\t\\t<div class=\"slim-status\"><div class=\"slim-label\">' + (this._options.label || '') + '</div></div>\\n\\t\\t';\n\t\t\tthis._element.appendChild(area);\n\n\t\t\tthis._throwError(this._options.statusNoSupport);\n\t\t}\n\n\t\t/**\n   * Event routing\n   */\n\n\t}, {\n\t\tkey: 'handleEvent',\n\t\tvalue: function handleEvent(e) {\n\n\t\t\tswitch (e.type) {\n\t\t\t\tcase 'click':\n\t\t\t\t\tthis._onClick(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'change':\n\t\t\t\t\tthis._onChange(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'cancel':\n\t\t\t\t\tthis._onCancel(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'confirm':\n\t\t\t\t\tthis._onConfirm(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-over':\n\t\t\t\t\tthis._onFileOver(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-out':\n\t\t\t\t\tthis._onFileOut(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-drop':\n\t\t\t\t\tthis._onDropFile(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-invalid':\n\t\t\t\t\tthis._onInvalidFile(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-invalid-drop':\n\t\t\t\t\tthis._onInvalidFileDrop(e);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_getIntro',\n\t\tvalue: function _getIntro() {\n\t\t\treturn this._element.querySelector('.slim-result .in');\n\t\t}\n\t}, {\n\t\tkey: '_getOutro',\n\t\tvalue: function _getOutro() {\n\t\t\treturn this._element.querySelector('.slim-result .out');\n\t\t}\n\t}, {\n\t\tkey: '_getInOut',\n\t\tvalue: function _getInOut() {\n\t\t\treturn this._element.querySelectorAll('.slim-result img');\n\t\t}\n\t}, {\n\t\tkey: '_getDrip',\n\t\tvalue: function _getDrip() {\n\t\t\tif (!this._drip) {\n\t\t\t\tthis._drip = this._element.querySelector('.slim-drip > span');\n\t\t\t}\n\t\t\treturn this._drip;\n\t\t}\n\n\t\t// errors\n\n\t}, {\n\t\tkey: '_throwError',\n\t\tvalue: function _throwError(error) {\n\n\t\t\tthis._addState('error');\n\n\t\t\tthis._element.querySelector('.slim-label').style.display = 'none';\n\n\t\t\tvar node = this._element.querySelector('.slim-error');\n\t\t\tif (!node) {\n\t\t\t\tnode = create('div', 'slim-error');\n\t\t\t\tthis._element.querySelector('.slim-status').appendChild(node);\n\t\t\t}\n\n\t\t\tnode.innerHTML = error;\n\t\t}\n\t}, {\n\t\tkey: '_removeError',\n\t\tvalue: function _removeError() {\n\n\t\t\tthis._removeState('error');\n\t\t\tthis._element.querySelector('.slim-label').style.display = '';\n\n\t\t\tvar error = this._element.querySelector('.slim-error');\n\t\t\tif (error) {\n\t\t\t\terror.parentNode.removeChild(error);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_openFileDialog',\n\t\tvalue: function _openFileDialog() {\n\t\t\tthis._removeError();\n\t\t\tthis._input.click();\n\t\t}\n\n\t\t// drop area clicked\n\n\t}, {\n\t\tkey: '_onClick',\n\t\tvalue: function _onClick(e) {\n\t\t\tvar _this16 = this;\n\n\t\t\tvar list = e.target.classList;\n\t\t\tvar target = e.target;\n\n\t\t\t// no preview, so possible to drop file\n\t\t\tif (list.contains('slim-file-hopper')) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._openFileDialog();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// decide what button was clicked\n\t\t\tswitch (target.getAttribute('data-action')) {\n\t\t\t\tcase 'remove':\n\t\t\t\t\tthis._options.willRemove.apply(this, [this.data, function () {\n\t\t\t\t\t\t_this16._doRemove();\n\t\t\t\t\t}]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'edit':\n\t\t\t\t\tthis._doEdit();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'download':\n\t\t\t\t\tthis._doDownload();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'upload':\n\t\t\t\t\tthis._doUpload();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_onInvalidFileDrop',\n\t\tvalue: function _onInvalidFileDrop() {\n\n\t\t\tthis._onInvalidFile();\n\n\t\t\tthis._removeState('file-over');\n\n\t\t\t// animate out drip\n\t\t\tvar drip = this._getDrip();\n\t\t\tsnabbt(drip.firstChild, {\n\t\t\t\tfromScale: [.5, .5],\n\t\t\t\tscale: [0, 0],\n\t\t\t\tfromOpacity: .5,\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 150,\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t// clean up transforms\n\t\t\t\t\tresetTransforms(drip.firstChild);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_onInvalidFile',\n\t\tvalue: function _onInvalidFile() {\n\n\t\t\tvar types = this._imageHopper.accept.map(getExtensionByMimeType);\n\t\t\tvar error = this._options.statusFileType.replace('$0', types.join(', '));\n\t\t\tthis._throwError(error);\n\t\t}\n\t}, {\n\t\tkey: '_onImageTooSmall',\n\t\tvalue: function _onImageTooSmall() {\n\n\t\t\tvar error = this._options.statusImageTooSmall.replace('$0', this._options.minSize.width + ' \\xD7 ' + this._options.minSize.height);\n\t\t\tthis._throwError(error);\n\t\t}\n\t}, {\n\t\tkey: '_onOverWeightFile',\n\t\tvalue: function _onOverWeightFile() {\n\n\t\t\tvar error = this._options.statusFileSize.replace('$0', this._options.maxFileSize);\n\t\t\tthis._throwError(error);\n\t\t}\n\t}, {\n\t\tkey: '_onRemoteURLProblem',\n\t\tvalue: function _onRemoteURLProblem(error) {\n\t\t\tthis._throwError(error);\n\t\t}\n\t}, {\n\t\tkey: '_onFileOver',\n\t\tvalue: function _onFileOver(e) {\n\n\t\t\tthis._addState('file-over');\n\t\t\tthis._removeError();\n\n\t\t\t// animations\n\t\t\tvar drip = this._getDrip();\n\n\t\t\t// move around drip\n\t\t\tvar matrix = snabbt.createMatrix();\n\t\t\tmatrix.translate(e.detail.x, e.detail.y, 0);\n\t\t\tsnabbt.setElementTransform(drip, matrix);\n\n\t\t\t// on first entry fade in blob\n\t\t\tif (this._imageHopper.dragPath.length == 1) {\n\n\t\t\t\t// show\n\t\t\t\tdrip.style.opacity = 1;\n\n\t\t\t\t// animate in\n\t\t\t\tsnabbt(drip.firstChild, {\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: .5,\n\t\t\t\t\tfromScale: [0, 0],\n\t\t\t\t\tscale: [.5, .5],\n\t\t\t\t\tduration: 150\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_onFileOut',\n\t\tvalue: function _onFileOut(e) {\n\n\t\t\tthis._removeState('file-over');\n\t\t\tthis._removeState('file-invalid');\n\t\t\tthis._removeError();\n\n\t\t\t// move to last position\n\t\t\tvar drip = this._getDrip();\n\t\t\tvar matrix = snabbt.createMatrix();\n\t\t\tmatrix.translate(e.detail.x, e.detail.y, 0);\n\t\t\tsnabbt.setElementTransform(drip, matrix);\n\n\t\t\t// animate out\n\t\t\tsnabbt(drip.firstChild, {\n\t\t\t\tfromScale: [.5, .5],\n\t\t\t\tscale: [0, 0],\n\t\t\t\tfromOpacity: .5,\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 150,\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t// clean up transforms\n\t\t\t\t\tresetTransforms(drip.firstChild);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * When a file was literally dropped on the drop area\n   * @param e\n   * @private\n   */\n\n\t}, {\n\t\tkey: '_onDropFile',\n\t\tvalue: function _onDropFile(e) {\n\t\t\tvar _this17 = this;\n\n\t\t\tthis._removeState('file-over');\n\n\t\t\t// get drip node reference and set to last position\n\t\t\tvar drip = this._getDrip();\n\t\t\tvar matrix = snabbt.createMatrix();\n\t\t\tmatrix.translate(e.detail.x, e.detail.y, 0);\n\t\t\tsnabbt.setElementTransform(drip, matrix);\n\n\t\t\t// get element minimum 10 entries distant from the last entry so we can calculate velocity of movement\n\t\t\tvar l = this._imageHopper.dragPath.length;\n\t\t\tvar jump = this._imageHopper.dragPath[l - Math.min(10, l)];\n\n\t\t\t// velocity\n\t\t\tvar dx = e.detail.x - jump.x;\n\t\t\tvar dy = e.detail.y - jump.y;\n\n\t\t\tsnabbt(drip, {\n\t\t\t\tfromPosition: [e.detail.x, e.detail.y, 0],\n\t\t\t\tposition: [e.detail.x + dx, e.detail.y + dy, 0],\n\t\t\t\tduration: 200\n\t\t\t});\n\n\t\t\t// animate out drip\n\t\t\tsnabbt(drip.firstChild, {\n\n\t\t\t\tfromScale: [.5, .5],\n\t\t\t\tscale: [2, 2],\n\t\t\t\tfromOpacity: 1,\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 200,\n\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t// clean up transforms\n\t\t\t\t\tresetTransforms(drip.firstChild);\n\n\t\t\t\t\t// load dropped resource\n\t\t\t\t\t_this17._load(e.target.files[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * When a file has been selected after a click on the drop area\n   * @param e\n   * @private\n   */\n\n\t}, {\n\t\tkey: '_onChange',\n\t\tvalue: function _onChange(e) {\n\n\t\t\tif (e.target.files.length) {\n\t\t\t\tthis._load(e.target.files[0]);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Loads a resource (blocking operation)\n   * @param resource\n   * @param callback(err)\n   * @param options\n   * @private\n   */\n\n\t}, {\n\t\tkey: '_load',\n\t\tvalue: function _load(resource, callback) {\n\t\t\tvar _this18 = this;\n\n\t\t\tvar options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\n\t\t\t// stop here\n\t\t\tif (this._isBeingDestroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if currently contains image, remove it\n\t\t\tif (this.containsImage()) {\n\n\t\t\t\tclearTimeout(this._replaceTimeout);\n\n\t\t\t\tthis._doRemove(function () {\n\n\t\t\t\t\t_this18._replaceTimeout = setTimeout(function () {\n\t\t\t\t\t\t_this18._load(resource, callback, options);\n\t\t\t\t\t}, 100);\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// no longer empty\n\t\t\tthis._removeState('empty');\n\t\t\tthis._addState('busy');\n\n\t\t\t// start loading indicator\n\t\t\tthis._startProgressLoop();\n\n\t\t\t// can't drop any other image while loading\n\t\t\tif (this._imageHopper) {\n\t\t\t\tthis._imageHopper.enabled = false;\n\t\t\t}\n\n\t\t\tclearTimeout(this._loadTimeout);\n\t\t\tvar load = function load() {\n\t\t\t\tclearTimeout(_this18._loadTimeout);\n\t\t\t\t_this18._loadTimeout = setTimeout(function () {\n\n\t\t\t\t\tif (_this18._isBeingDestroyed) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t_this18._addState('loading');\n\n\t\t\t\t\tsnabbt(_this18._element.querySelector('.slim-label-loading'), {\n\t\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tduration: 250\n\t\t\t\t\t});\n\t\t\t\t}, 500);\n\t\t\t};\n\n\t\t\t// early exit\n\t\t\tvar exit = function exit() {\n\t\t\t\tif (_this18._imageHopper) {\n\t\t\t\t\t_this18._imageHopper.enabled = true;\n\t\t\t\t}\n\t\t\t\t_this18._removeState('loading');\n\t\t\t\t_this18._removeState('busy');\n\t\t\t\t_this18._addState('empty');\n\t\t\t\t_this18._stopProgressLoop();\n\t\t\t};\n\n\t\t\t// turn string based resources (url / base64) into file objects\n\t\t\tif (typeof resource === 'string') {\n\n\t\t\t\tif (resourceIsBase64Data(resource)) {\n\t\t\t\t\t// resource is base64 data, turn into file\n\t\t\t\t\tthis._load(base64ToBlob(resource), callback, options);\n\t\t\t\t} else {\n\n\t\t\t\t\t// will take a while, show loading indicator\n\t\t\t\t\tload();\n\n\t\t\t\t\t// resource is url, load with XHR\n\t\t\t\t\tloadURL(resource, this._options.willLoad, function (file) {\n\t\t\t\t\t\t// continue with file object\n\t\t\t\t\t\t_this18._load(file, callback, options);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// don't continue, wait for load\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// is dropped link\n\t\t\telse if (typeof resource.remote !== 'undefined') {\n\n\t\t\t\t\t// test if happens to be base64 data\n\t\t\t\t\tif (resourceIsBase64Data(resource.remote)) {\n\t\t\t\t\t\tthis._load(base64ToBlob(resource.remote), callback, options);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._options.fetcher) {\n\n\t\t\t\t\t\tloadRemoteURL(this._options.fetcher, this._options.willFetch, this._options.willLoad, resource.remote, function (error) {\n\n\t\t\t\t\t\t\texit();\n\n\t\t\t\t\t\t\t_this18._onRemoteURLProblem('<p>' + error + '</p>');\n\n\t\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\t\tcallback.apply(_this18, ['remote-url-problem']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, function (file) {\n\t\t\t\t\t\t\t// continue with file object\n\t\t\t\t\t\t\t_this18._load(file, callback, options);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// don't continue wait for server fetch\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t// let's continue with file resource\n\t\t\tvar file = resource;\n\n\t\t\t// re-test if is valid file type\n\t\t\t// in case of loading base64 data or url\n\t\t\tif (this._imageHopper && this._imageHopper.accept.indexOf(file.type) === -1) {\n\n\t\t\t\texit();\n\n\t\t\t\tthis._onInvalidFile();\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback.apply(this, ['file-invalid']);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// test if too big\n\t\t\tif (file.size && this._options.maxFileSize && bytesToMegaBytes(file.size) > this._options.maxFileSize) {\n\n\t\t\t\texit();\n\n\t\t\t\tthis._onOverWeightFile();\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback.apply(this, ['file-too-big']);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if has loaded image editor set to dirty\n\t\t\tif (this._imageEditor) {\n\t\t\t\tthis._imageEditor.dirty();\n\t\t\t}\n\n\t\t\t// continue\n\t\t\tthis._data.input.name = options && options.name ? options.name : getFileNameByFile(file);\n\t\t\tthis._data.input.type = getFileTypeByFile(file);\n\t\t\tthis._data.input.size = file.size;\n\t\t\tthis._data.input.file = file;\n\n\t\t\t// fetch resource\n\t\t\tgetImageAsCanvas(file, this._options.internalCanvasSize, function (image, meta) {\n\n\t\t\t\tvar rewind = function rewind() {\n\n\t\t\t\t\t// rewind state\n\t\t\t\t\tif (_this18._imageHopper) {\n\t\t\t\t\t\t_this18._imageHopper.enabled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t_this18._removeState('loading');\n\t\t\t\t\t_this18._removeState('busy');\n\t\t\t\t\t_this18._addState('empty');\n\t\t\t\t\t_this18._stopProgressLoop();\n\t\t\t\t\t_this18._resetData();\n\t\t\t\t};\n\n\t\t\t\t// if no image, something went wrong\n\t\t\t\tif (!image) {\n\n\t\t\t\t\trewind();\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(_this18, ['file-not-found']);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// test if image is too small\n\t\t\t\tif (!covers(image, _this18._options.minSize)) {\n\n\t\t\t\t\trewind();\n\n\t\t\t\t\t_this18._onImageTooSmall();\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(_this18, ['image-too-small']);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar status = _this18._options.didLoad.apply(_this18, [file, image, meta, _this18]);\n\t\t\t\tif (status !== true) {\n\n\t\t\t\t\trewind();\n\n\t\t\t\t\tif (status !== false) {\n\t\t\t\t\t\t_this18._throwError(status);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(_this18, [status]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// done loading file\n\t\t\t\t_this18._removeState('loading');\n\n\t\t\t\tvar revealCanvas = function revealCanvas(done) {\n\n\t\t\t\t\t// done, enable hopper\n\t\t\t\t\tif (_this18._imageHopper && _this18._options.dropReplace) {\n\t\t\t\t\t\t_this18._imageHopper.enabled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// do intro stuff\n\t\t\t\t\tvar intro = _this18._getIntro();\n\n\t\t\t\t\t// setup base animation\n\t\t\t\t\tvar animation = {\n\t\t\t\t\t\tfromScale: [1.25, 1.25],\n\t\t\t\t\t\tscale: [1, 1],\n\t\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t\t\tresetTransforms(intro);\n\n\t\t\t\t\t\t\tintro.style.opacity = 1;\n\n\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\t// if not attached to DOM, don't animate\n\t\t\t\t\tif (_this18.isDetached()) {\n\t\t\t\t\t\tanimation.duration = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tanimation.easing = 'spring';\n\t\t\t\t\t\tanimation.springConstant = .3;\n\t\t\t\t\t\tanimation.springDeceleration = .7;\n\t\t\t\t\t}\n\n\t\t\t\t\t// if is instant edit mode don't zoom out but zoom in\n\t\t\t\t\tif (_this18._canInstantEdit()) {\n\t\t\t\t\t\tanimation.delay = 500;\n\t\t\t\t\t\tanimation.duration = 1;\n\n\t\t\t\t\t\t// instant edit mode just fire up the editor immidiately\n\t\t\t\t\t\t_this18._doEdit();\n\t\t\t\t\t}\n\n\t\t\t\t\t// reveal loaded image\n\t\t\t\t\tsnabbt(intro, animation);\n\t\t\t\t};\n\n\t\t\t\t// load the image\n\t\t\t\t_this18._loadCanvas(image,\n\n\t\t\t\t// done loading the canvas\n\t\t\t\tfunction (isUploading) {\n\n\t\t\t\t\t_this18._addState('preview');\n\n\t\t\t\t\trevealCanvas(function () {\n\n\t\t\t\t\t\t// don't show buttons when instant editing\n\t\t\t\t\t\t// the buttons will be triggered by the closing of the popup\n\t\t\t\t\t\tif (!_this18._canInstantEdit() && !isUploading) {\n\t\t\t\t\t\t\t_this18._showButtons();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!isUploading) {\n\t\t\t\t\t\t\t_this18._stopProgressLoop();\n\t\t\t\t\t\t\t_this18._removeState('busy');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\tcallback.apply(_this18, [null, _this18.data]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t// done uploading\n\t\t\t\tfunction () {\n\n\t\t\t\t\t// don't show buttons when instant editing\n\t\t\t\t\tif (!_this18._canInstantEdit()) {\n\t\t\t\t\t\t_this18._showButtons();\n\t\t\t\t\t}\n\n\t\t\t\t\t_this18._removeState('busy');\n\t\t\t\t},\n\n\t\t\t\t// options for canvas load\n\t\t\t\t{\n\t\t\t\t\tblockPush: options.blockPush\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_loadCanvas',\n\t\tvalue: function _loadCanvas(image, ready, complete, options) {\n\t\t\tvar _this19 = this;\n\n\t\t\t// set default options object if not supplied\n\t\t\tif (!options) {\n\t\t\t\toptions = {};\n\t\t\t}\n\n\t\t\t// halt here if cropper is currently being destroyed\n\t\t\tif (this._isBeingDestroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// store raw data\n\t\t\tthis._data.input.image = image;\n\t\t\tthis._data.input.width = image.width;\n\t\t\tthis._data.input.height = image.height;\n\n\t\t\tif (this._initialRotation) {\n\t\t\t\tthis._data.actions.rotation = this._initialRotation;\n\t\t\t\tthis._initialRotation = null;\n\t\t\t}\n\n\t\t\tvar isTilted = this._data.actions.rotation % 180 !== 0;\n\n\t\t\t// scales the drop area\n\t\t\t// if is 'input' or 'free' parameter\n\t\t\tif (!this._isFixedRatio()) {\n\t\t\t\tif (this._initialCrop) {\n\t\t\t\t\tthis._ratio = this._initialCrop.height / this._initialCrop.width;\n\t\t\t\t} else {\n\t\t\t\t\tthis._ratio = isTilted ? image.width / image.height : image.height / image.width;\n\t\t\t\t}\n\t\t\t\tthis._scaleDropArea(this._ratio);\n\t\t\t}\n\n\t\t\tif (this._initialCrop) {\n\n\t\t\t\t// use initial supplied crop rectangle\n\t\t\t\tthis._data.actions.crop = clone(this._initialCrop);\n\t\t\t\tthis._data.actions.crop.type = CropType.INITIAL;\n\n\t\t\t\t// clear initial crop, it's no longer useful\n\t\t\t\tthis._initialCrop = null;\n\t\t\t} else {\n\t\t\t\t// get automagical crop rectangle\n\t\t\t\tthis._data.actions.crop = getAutoCropRect(isTilted ? image.height : image.width, isTilted ? image.width : image.height, this._ratio);\n\t\t\t\tthis._data.actions.crop.type = CropType.AUTO;\n\t\t\t}\n\n\t\t\t// if max size set\n\t\t\tif (this._options.size) {\n\t\t\t\tthis._data.actions.size = {\n\t\t\t\t\twidth: this._options.size.width,\n\t\t\t\t\theight: this._options.size.height\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// do initial auto transform\n\t\t\tthis._applyTransforms(image, function (transformedImage) {\n\n\t\t\t\tvar intro = _this19._getIntro();\n\t\t\t\tvar scalar = intro.offsetWidth / transformedImage.width;\n\n\t\t\t\t// store data, if has preview image this prevents initial load from pushing\n\t\t\t\tvar willUpload = false;\n\n\t\t\t\t// can only do auto upload when service is defined and push is enabled...\n\t\t\t\tif (_this19._options.service && _this19._options.push && !options.blockPush) {\n\n\t\t\t\t\t// ...and is not transformation of initial image\n\t\t\t\t\t// + is not instant edit mode\n\t\t\t\t\tif (!_this19._hasInitialImage && !_this19._canInstantEdit()) {\n\t\t\t\t\t\twillUpload = true;\n\t\t\t\t\t\t_this19._stopProgressLoop(function () {\n\t\t\t\t\t\t\t_this19._startProgress(function () {\n\t\t\t\t\t\t\t\t_this19._updateProgress(.1);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// no service set, and instant edit\n\t\t\t\tif (!_this19._canInstantEdit()) {\n\n\t\t\t\t\t// store data (possibly)\n\t\t\t\t\t_this19._save(function () {\n\t\t\t\t\t\tif (_this19._isBeingDestroyed) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (willUpload) {\n\t\t\t\t\t\t\t_this19._stopProgress();\n\t\t\t\t\t\t\tcomplete();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, willUpload);\n\t\t\t\t}\n\n\t\t\t\t// show intro animation\n\t\t\t\tintro.src = '';\n\t\t\t\tintro.src = cloneCanvasScaled(transformedImage, scalar).toDataURL();\n\t\t\t\tintro.onload = function () {\n\n\t\t\t\t\tintro.onload = null;\n\n\t\t\t\t\t// bail out if we've been cleaned up\n\t\t\t\t\tif (_this19._isBeingDestroyed) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ready) {\n\t\t\t\t\t\tready(willUpload);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_applyTransforms',\n\t\tvalue: function _applyTransforms(image, ready) {\n\t\t\tvar _this20 = this;\n\n\t\t\tvar actions = clone(this._data.actions);\n\t\t\tactions.filters = {\n\t\t\t\tsharpen: this._options.filterSharpen / 100\n\t\t\t};\n\n\t\t\t// if should force minimum size on output image\n\t\t\tif (this._options.forceMinSize) {\n\t\t\t\tactions.minSize = this._options.minSize;\n\t\t\t} else {\n\t\t\t\tactions.minSize = {\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0\n\t\t\t\t};\n\t\t\t}\n\n\t\t\ttransformCanvas(image, actions, function (transformedImage) {\n\n\t\t\t\tvar outputImage = transformedImage;\n\n\t\t\t\t// if should force/correct output size?\n\t\t\t\t// - is forced size set?\n\t\t\t\t// - is a discrepancy found between requested output size and transformed size\n\t\t\t\tif (_this20._options.forceSize || _this20._options.size && sizeDist(_this20._options.size, transformedImage) == 1) {\n\t\t\t\t\toutputImage = create('canvas');\n\t\t\t\t\toutputImage.width = _this20._options.size.width;\n\t\t\t\t\toutputImage.height = _this20._options.size.height;\n\t\t\t\t\tvar ctx = outputImage.getContext('2d');\n\t\t\t\t\tctx.drawImage(transformedImage, 0, 0, _this20._options.size.width, _this20._options.size.height);\n\t\t\t\t}\n\n\t\t\t\t// make sure min size is respected when size is equal to min size\n\t\t\t\tif (_this20._options.forceMinSize && _this20._options.size && _this20._options.minSize.width === _this20._options.size.width && _this20._options.minSize.height === _this20._options.size.height && (outputImage.width < _this20._options.minSize.width || outputImage.height < _this20._options.minSize.height)) {\n\n\t\t\t\t\tvar w = Math.max(outputImage.width, _this20._options.minSize.width);\n\t\t\t\t\tvar h = Math.max(outputImage.height, _this20._options.minSize.height);\n\t\t\t\t\toutputImage = create('canvas');\n\t\t\t\t\toutputImage.width = w;\n\t\t\t\t\toutputImage.height = h;\n\t\t\t\t\tvar _ctx = outputImage.getContext('2d');\n\t\t\t\t\t_ctx.drawImage(transformedImage, 0, 0, w, h);\n\t\t\t\t}\n\n\t\t\t\t// prevent smaller square output image, this is a quick fix for square images, should be done a lot neater\n\t\t\t\tif (_this20._options.forceMinSize && _this20._ratio === 1 && (outputImage.width < _this20._options.minSize.width || outputImage.height < _this20._options.minSize.height)) {\n\t\t\t\t\toutputImage = create('canvas');\n\t\t\t\t\toutputImage.width = _this20._options.minSize.width;\n\t\t\t\t\toutputImage.height = _this20._options.minSize.height;\n\t\t\t\t\tvar _ctx2 = outputImage.getContext('2d');\n\t\t\t\t\t_ctx2.drawImage(transformedImage, 0, 0, outputImage.width, outputImage.height);\n\t\t\t\t}\n\n\t\t\t\t// store output\n\t\t\t\t_this20._data.output.width = outputImage.width;\n\t\t\t\t_this20._data.output.height = outputImage.height;\n\t\t\t\t_this20._data.output.image = outputImage;\n\n\t\t\t\t_this20._onTransformCanvas(function (transformedData) {\n\n\t\t\t\t\t_this20._data = transformedData;\n\n\t\t\t\t\t_this20._options.didTransform.apply(_this20, [_this20.data, _this20]);\n\n\t\t\t\t\tready(_this20._data.output.image);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_onTransformCanvas',\n\t\tvalue: function _onTransformCanvas(ready) {\n\n\t\t\tthis._options.willTransform.apply(this, [this.data, ready, this]);\n\t\t}\n\n\t\t/**\n   * Creates the editor nodes\n   * @private\n   */\n\n\t}, {\n\t\tkey: '_appendEditor',\n\t\tvalue: function _appendEditor() {\n\t\t\tvar _this21 = this;\n\n\t\t\t// we already have an editor\n\t\t\tif (this._imageEditor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// add editor\n\t\t\tthis._imageEditor = new ImageEditor(create('div'), {\n\t\t\t\tminSize: this._options.minSize,\n\n\t\t\t\tbuttonConfirmClassName: this._options.buttonConfirmClassName,\n\t\t\t\tbuttonCancelClassName: this._options.buttonCancelClassName,\n\t\t\t\tbuttonRotateClassName: this._options.buttonRotateClassName,\n\n\t\t\t\tbuttonConfirmLabel: this._options.buttonConfirmLabel,\n\t\t\t\tbuttonCancelLabel: this._options.buttonCancelLabel,\n\t\t\t\tbuttonRotateLabel: this._options.buttonRotateLabel,\n\n\t\t\t\tbuttonConfirmTitle: this._options.buttonConfirmTitle,\n\t\t\t\tbuttonCancelTitle: this._options.buttonCancelTitle,\n\t\t\t\tbuttonRotateTitle: this._options.buttonRotateTitle\n\n\t\t\t});\n\n\t\t\t// listen to events\n\t\t\tImageEditorEvents.forEach(function (e) {\n\t\t\t\t_this21._imageEditor.element.addEventListener(e, _this21);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_scaleDropArea',\n\t\tvalue: function _scaleDropArea(ratio) {\n\t\t\tvar node = this._getRatioSpacerElement();\n\t\t\tif (!node || !this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnode.style.marginBottom = ratio * 100 + '%';\n\t\t\tthis._element.setAttribute('data-ratio', '1:' + ratio);\n\t\t}\n\n\t\t/**\n   * Data Layer\n   * @private\n   */\n\t\t// image editor closed\n\n\t}, {\n\t\tkey: '_onCancel',\n\t\tvalue: function _onCancel(e) {\n\n\t\t\tthis._removeState('editor');\n\n\t\t\tthis._options.didCancel.apply(this, [this]);\n\n\t\t\tthis._showButtons();\n\n\t\t\tthis._hideEditor();\n\n\t\t\tif (this._options.instantEdit && !this._hasInitialImage && this._isAutoCrop()) {\n\t\t\t\tthis._doRemove();\n\t\t\t}\n\t\t}\n\n\t\t// user confirmed changes\n\n\t}, {\n\t\tkey: '_onConfirm',\n\t\tvalue: function _onConfirm(e) {\n\t\t\tvar _this22 = this;\n\n\t\t\t// if\n\t\t\t// - service set\n\t\t\t// - and we are pushing\n\t\t\t// - and we don't instant edit\n\t\t\t// we will upload\n\t\t\tvar willUpload = this._options.service && this._options.push;\n\t\t\tif (willUpload) {\n\t\t\t\tthis._startProgress(function () {\n\t\t\t\t\t_this22._updateProgress(.1);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._startProgressLoop();\n\t\t\t}\n\n\t\t\tthis._removeState('editor');\n\n\t\t\tthis._addState('busy');\n\n\t\t\t// clear data\n\t\t\tthis._output.value = '';\n\n\t\t\t// apply new action object to this._data\n\t\t\tthis._data.actions.rotation = e.detail.rotation;\n\t\t\tthis._data.actions.crop = e.detail.crop;\n\t\t\tthis._data.actions.crop.type = CropType.MANUAL;\n\n\t\t\t// do transforms\n\t\t\tthis._applyTransforms(this._data.input.image, function (transformedImage) {\n\n\t\t\t\t// user confirmed the crop (and changes have been applied to data)\n\t\t\t\t_this22._options.didConfirm.apply(_this22, [_this22.data, _this22]);\n\n\t\t\t\t// set new image result\n\t\t\t\tvar images = _this22._getInOut();\n\t\t\t\tvar intro = images[0].className === 'out' ? images[0] : images[1];\n\t\t\t\tvar outro = intro === images[0] ? images[1] : images[0];\n\n\t\t\t\tintro.className = 'in';\n\t\t\t\tintro.style.opacity = '0';\n\t\t\t\tintro.style.zIndex = '2';\n\t\t\t\toutro.className = 'out';\n\t\t\t\toutro.style.zIndex = '1';\n\n\t\t\t\t// new image get's\n\t\t\t\tintro.src = '';\n\t\t\t\tintro.src = cloneCanvasScaled(transformedImage, intro.offsetWidth / transformedImage.width).toDataURL();\n\t\t\t\tintro.onload = function () {\n\n\t\t\t\t\tintro.onload = null;\n\n\t\t\t\t\t// scale the dropzone\n\t\t\t\t\tif (_this22._options.ratio === 'free') {\n\t\t\t\t\t\t_this22._ratio = intro.naturalHeight / intro.naturalWidth;\n\t\t\t\t\t\t_this22._scaleDropArea(_this22._ratio);\n\t\t\t\t\t}\n\n\t\t\t\t\t// close the editor\n\t\t\t\t\t_this22._hideEditor();\n\n\t\t\t\t\t// wait a tiny bit so animations sync up nicely\n\t\t\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\t\t\t// show the preview\n\t\t\t\t\t\t_this22._showPreview(intro, function () {\n\n\t\t\t\t\t\t\t// save the data\n\t\t\t\t\t\t\t_this22._save(function (err, data, res) {\n\n\t\t\t\t\t\t\t\t// done!\n\t\t\t\t\t\t\t\t_this22._toggleButton('upload', true);\n\n\t\t\t\t\t\t\t\tif (willUpload) {\n\t\t\t\t\t\t\t\t\t_this22._stopProgress();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t_this22._stopProgressLoop();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_this22._removeState('busy');\n\n\t\t\t\t\t\t\t\t_this22._showButtons();\n\t\t\t\t\t\t\t}, willUpload);\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 250);\n\n\t\t\t\t\t_this22._timers.push(timer);\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_cropAuto',\n\t\tvalue: function _cropAuto() {\n\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (data) {};\n\n\n\t\t\tvar isTilted = this._data.actions.rotation % 180 !== 0;\n\n\t\t\tvar rect = getAutoCropRect(isTilted ? this._data.input.image.width : this._data.input.image.height, isTilted ? this._data.input.image.height : this._data.input.image.width, this._ratio);\n\n\t\t\tthis._crop(rect.x, rect.y, rect.width, rect.height, callback, CropType.AUTO);\n\t\t}\n\t}, {\n\t\tkey: '_crop',\n\t\tvalue: function _crop(x, y, width, height) {\n\t\t\tvar callback = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function (data) {};\n\t\t\tvar cropType = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : CropType.MANUAL;\n\n\n\t\t\t// clear data\n\t\t\tthis._output.value = '';\n\n\t\t\t// apply new action object to this._data\n\t\t\tthis._data.actions.crop = {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tthis._data.actions.crop.type = cropType;\n\n\t\t\tthis._manualTransform(callback);\n\t\t}\n\t}, {\n\t\tkey: '_manualTransform',\n\t\tvalue: function _manualTransform(callback) {\n\t\t\tvar _this23 = this;\n\n\t\t\tthis._startProgressLoop();\n\t\t\tthis._addState('busy');\n\n\t\t\t// do transforms\n\t\t\tthis._applyTransforms(this._data.input.image, function (transformedImage) {\n\n\t\t\t\t// set new image result\n\t\t\t\tvar images = _this23._getInOut();\n\t\t\t\tvar intro = images[0].className === 'out' ? images[0] : images[1];\n\t\t\t\tvar outro = intro === images[0] ? images[1] : images[0];\n\n\t\t\t\tintro.className = 'in';\n\t\t\t\tintro.style.opacity = '1';\n\t\t\t\tintro.style.zIndex = '2';\n\t\t\t\toutro.className = 'out';\n\t\t\t\toutro.style.zIndex = '0';\n\n\t\t\t\t// new image\n\t\t\t\tintro.src = '';\n\t\t\t\tintro.src = cloneCanvasScaled(transformedImage, intro.offsetWidth / transformedImage.width).toDataURL();\n\t\t\t\tintro.onload = function () {\n\t\t\t\t\tintro.onload = null;\n\n\t\t\t\t\t// scale the dropzone\n\t\t\t\t\tif (_this23._options.ratio === 'free') {\n\t\t\t\t\t\t_this23._ratio = intro.naturalHeight / intro.naturalWidth;\n\t\t\t\t\t\t_this23._scaleDropArea(_this23._ratio);\n\t\t\t\t\t}\n\n\t\t\t\t\t// determine if will also upload\n\t\t\t\t\tvar willUpload = _this23._options.service && _this23._options.push;\n\n\t\t\t\t\tvar save = function save() {\n\n\t\t\t\t\t\t// save the data\n\t\t\t\t\t\t_this23._save(function (err, data, res) {\n\n\t\t\t\t\t\t\t// stop loader\n\t\t\t\t\t\t\tif (!willUpload) {\n\t\t\t\t\t\t\t\t_this23._stopProgressLoop();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_this23._removeState('busy');\n\n\t\t\t\t\t\t\tcallback.apply(_this23, [_this23.data]);\n\t\t\t\t\t\t}, willUpload);\n\t\t\t\t\t};\n\n\t\t\t\t\tif (willUpload) {\n\t\t\t\t\t\t_this23._startProgress(save);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsave();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_save',\n\t\tvalue: function _save() {\n\t\t\tvar _this24 = this;\n\n\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\t\t\tvar allowUpload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\n\t\t\tif (this._isBeingDestroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// flatten data also turns output canvas into data uri\n\t\t\t// removes input file object and image object\n\t\t\tvar data = this.dataBase64;\n\n\t\t\t// decide if we need to\n\t\t\t// - A. Store the data in an output field\n\t\t\t// - B. Upload the data and store the response in output field\n\n\t\t\t// - we are not doing async uploading (in which case output is used for response)\n\t\t\t// - we are not initialising a replaceable image\n\t\t\tif (!this._options.service && !(this._isInitialising && !this._isImageOnly())) {\n\n\t\t\t\tthis._options.willSave.apply(this, [data, function (data) {\n\n\t\t\t\t\t_this24._store(data);\n\n\t\t\t\t\t_this24._options.didSave.apply(_this24, [data, _this24]);\n\t\t\t\t}, this]);\n\t\t\t}\n\n\t\t\tif (this._isBeingDestroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// is remote service defined upload async\n\t\t\tif (this._options.service && allowUpload) {\n\n\t\t\t\t// allow user to modify the data\n\t\t\t\tthis._options.willSave.apply(this, [data, function (data) {\n\n\t\t\t\t\t_this24._addState('upload');\n\n\t\t\t\t\tif (_this24._imageHopper && _this24._options.dropReplace) {\n\t\t\t\t\t\t_this24._imageHopper.enabled = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// do the actual uploading\n\t\t\t\t\t_this24._upload(data, function (err, res) {\n\n\t\t\t\t\t\tif (_this24._imageHopper && _this24._options.dropReplace) {\n\t\t\t\t\t\t\t_this24._imageHopper.enabled = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// store response\n\t\t\t\t\t\tif (!err) {\n\t\t\t\t\t\t\t_this24._storeServerResponse(res);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// we did upload data\n\t\t\t\t\t\t_this24._options.didUpload.apply(_this24, [err, data, res, _this24]);\n\n\t\t\t\t\t\t_this24._removeState('upload');\n\n\t\t\t\t\t\t// done!\n\t\t\t\t\t\tcallback(err, data, res);\n\t\t\t\t\t});\n\t\t\t\t}, this]);\n\t\t\t}\n\n\t\t\t// if no service, we're done here\n\t\t\tif (!this._options.service || !allowUpload) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\n\t\t// stores active file information in hidden output field\n\n\t}, {\n\t\tkey: '_storeServerResponse',\n\t\tvalue: function _storeServerResponse(data) {\n\n\t\t\t// remove required flag\n\t\t\tif (this._isRequired) {\n\t\t\t\tthis._input.required = false;\n\t\t\t}\n\n\t\t\t// store data returned from server\n\t\t\tthis._data.server = data;\n\n\t\t\t// sync with output value\n\t\t\tthis._output.value = (typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object' ? JSON.stringify(this._data.server) : data;\n\t\t}\n\n\t\t// stores data in output field\n\n\t}, {\n\t\tkey: '_store',\n\t\tvalue: function _store(data) {\n\n\t\t\tif (this._isRequired) {\n\t\t\t\tthis._input.required = false;\n\t\t\t}\n\n\t\t\tthis._output.value = JSON.stringify(data);\n\t\t}\n\n\t\t// uploads given data to server\n\n\t}, {\n\t\tkey: '_upload',\n\t\tvalue: function _upload(data, callback) {\n\t\t\tvar _this25 = this;\n\n\t\t\tthis.requestOutput(function (fileData, formData) {\n\n\t\t\t\tvar statusNode = _this25._element.querySelector('.slim-upload-status');\n\n\t\t\t\tvar requestDecorator = _this25._options.willRequest;\n\n\t\t\t\t// callback methods\n\t\t\t\tvar onProgress = function onProgress(loaded, total) {\n\t\t\t\t\t_this25._updateProgress(Math.max(.1, loaded / total));\n\t\t\t\t};\n\n\t\t\t\tvar onSuccess = function onSuccess(obj) {\n\t\t\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\t\t\t// it's possible that Slim has been destroyed in the mean time.\n\t\t\t\t\t\tif (_this25._isBeingDestroyed) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstatusNode.innerHTML = _this25._options.statusUploadSuccess;\n\t\t\t\t\t\tstatusNode.setAttribute('data-state', 'success');\n\t\t\t\t\t\tstatusNode.style.opacity = 1;\n\n\t\t\t\t\t\t// hide status update after 2 seconds\n\t\t\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\t\t\tstatusNode.style.opacity = 0;\n\t\t\t\t\t\t}, 2000);\n\n\t\t\t\t\t\t_this25._timers.push(timer);\n\t\t\t\t\t}, 250);\n\n\t\t\t\t\t_this25._timers.push(timer);\n\n\t\t\t\t\tcallback(null, obj);\n\t\t\t\t};\n\n\t\t\t\tvar onError = function onError(status) {\n\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (status === 'file-too-big') {\n\t\t\t\t\t\thtml = _this25._options.statusContentLength;\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = _this25._options.didReceiveServerError.apply(_this25, [status, _this25._options.statusUnknownResponse, _this25]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// when an error occurs the status update is not automatically hidden\n\t\t\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\t\t\tstatusNode.innerHTML = html;\n\t\t\t\t\t\tstatusNode.setAttribute('data-state', 'error');\n\t\t\t\t\t\tstatusNode.style.opacity = 1;\n\t\t\t\t\t}, 250);\n\n\t\t\t\t\t_this25._timers.push(timer);\n\n\t\t\t\t\tcallback(status);\n\t\t\t\t};\n\n\t\t\t\t// use default send method or custom implementation\n\t\t\t\tif (typeof _this25._options.service === 'string') {\n\t\t\t\t\tsend(_this25._options.service, _this25._options.uploadMethod, formData, requestDecorator, onProgress, onSuccess, onError);\n\t\t\t\t} else if (typeof _this25._options.service === 'function') {\n\t\t\t\t\t_this25._options.service.apply(_this25, [_this25._options.serviceFormat === 'file' ? fileData : formData, onProgress, // function(loaded, total) {}   // loaded bytes (number), total bytes (number)\n\t\t\t\t\tonSuccess, // function(response) {} \t\t// response (object or string)\n\t\t\t\t\tonError // function(error) {} \t\t\t// error message (string)\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t}, data);\n\t\t}\n\t}, {\n\t\tkey: 'requestOutput',\n\t\tvalue: function requestOutput(cb, data) {\n\t\t\tvar _this26 = this;\n\n\t\t\tif (!this._data.input.file) {\n\t\t\t\tcb(null, null);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!data) {\n\t\t\t\tdata = this.dataBase64;\n\t\t\t}\n\n\t\t\t// copy the meta data of the original file to the output\n\t\t\tloadImage.parseMetaData(this._data.input.file,\n\n\t\t\t// receives image data from input file\n\t\t\tfunction (imageData) {\n\n\t\t\t\tvar fileData = [];\n\t\t\t\tvar formData = new FormData();\n\n\t\t\t\t// if input should be posted along, append data\n\t\t\t\t// to FormData object as file\n\t\t\t\tif (inArray('input', _this26._options.post)) {\n\n\t\t\t\t\t// add to data array\n\t\t\t\t\tfileData.push(_this26._data.input.file);\n\n\t\t\t\t\t// add to formdata\n\t\t\t\t\tformData.append(_this26._inputReference, _this26._data.input.file, _this26._data.input.file.name);\n\t\t\t\t}\n\n\t\t\t\t// if image data is defined, turn it into a file object (we can send files if we're uploading)\n\t\t\t\tif (inArray('output', _this26._options.post) && _this26._data.output.image !== null && _this26._options.uploadBase64 === false) {\n\n\t\t\t\t\tvar output = base64ToBlob(data.output.image, data.output.name);\n\n\t\t\t\t\t// if image head available, inject in output\n\t\t\t\t\tif (imageData.imageHead && _this26._options.copyImageHead) {\n\n\t\t\t\t\t\ttry {\n\n\t\t\t\t\t\t\toutput = new Blob([imageData.imageHead, loadImage.blobSlice.call(output, 20)], { type: getMimeTypeFromDataURI(data.output.image) });\n\n\t\t\t\t\t\t\toutput = blobToFile(output, data.output.name);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\t// add to data array\n\t\t\t\t\tfileData.push(output);\n\n\t\t\t\t\t// add to formdata\n\t\t\t\t\tvar field = 'slim_output_' + _this26._uid;\n\t\t\t\t\tdata.output.image = null; // clear base64 data\n\t\t\t\t\tdata.output.field = field;\n\t\t\t\t\tformData.append(field, output, data.output.name);\n\t\t\t\t}\n\n\t\t\t\t// output dataset\n\t\t\t\tformData.append(_this26._output.name, JSON.stringify(data));\n\n\t\t\t\t// done\n\t\t\t\tcb(fileData, formData);\n\t\t\t}, {\n\t\t\t\tmaxMetaDataSize: 262144,\n\t\t\t\tdisableImageHead: false\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_showEditor',\n\t\tvalue: function _showEditor() {\n\n\t\t\tSlimPopover.className = this._options.popoverClassName;\n\n\t\t\tSlimPopover.show();\n\n\t\t\tthis._imageEditor.show();\n\t\t}\n\t}, {\n\t\tkey: '_hideEditor',\n\t\tvalue: function _hideEditor() {\n\n\t\t\tthis._imageEditor.hide();\n\n\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\tSlimPopover.hide();\n\t\t\t}, 250);\n\n\t\t\tthis._timers.push(timer);\n\t\t}\n\n\t\t/**\n   * Animations\n   */\n\n\t}, {\n\t\tkey: '_showPreview',\n\t\tvalue: function _showPreview(intro, callback) {\n\n\t\t\tsnabbt(intro, {\n\n\t\t\t\tfromPosition: [0, 50, 0],\n\t\t\t\tposition: [0, 0, 0],\n\n\t\t\t\tfromScale: [1.5, 1.5],\n\t\t\t\tscale: [1, 1],\n\n\t\t\t\tfromOpacity: 0,\n\t\t\t\topacity: 1,\n\n\t\t\t\teasing: 'spring',\n\t\t\t\tspringConstant: .3,\n\t\t\t\tspringDeceleration: .7,\n\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\tresetTransforms(intro);\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_hideResult',\n\t\tvalue: function _hideResult(callback) {\n\n\t\t\tvar intro = this._getIntro();\n\t\t\tif (!intro) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsnabbt(intro, {\n\n\t\t\t\tfromScale: [1, 1],\n\t\t\t\tscale: [.5, .5],\n\n\t\t\t\tfromOpacity: 1,\n\t\t\t\topacity: 0,\n\n\t\t\t\teasing: 'spring',\n\t\t\t\tspringConstant: .3,\n\t\t\t\tspringDeceleration: .75,\n\n\t\t\t\tcomplete: function complete() {\n\t\t\t\t\tresetTransforms(intro);\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_showButtons',\n\t\tvalue: function _showButtons(callback) {\n\n\t\t\tif (!this._btnGroup) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._btnGroup.style.display = '';\n\n\t\t\t// setup animation\n\t\t\tvar animation = {\n\t\t\t\tfromScale: [.5, .5],\n\t\t\t\tscale: [1, 1],\n\t\t\t\tfromPosition: [0, 10, 0],\n\t\t\t\tposition: [0, 0, 0],\n\t\t\t\tfromOpacity: 0,\n\t\t\t\topacity: 1,\n\t\t\t\tcomplete: function complete() {\n\t\t\t\t\tresetTransforms(this);\n\t\t\t\t},\n\t\t\t\tallDone: function allDone() {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// don't animate when detached\n\t\t\tif (this.isDetached()) {\n\t\t\t\tanimation.duration = 1;\n\t\t\t} else {\n\t\t\t\tanimation.delay = function (i) {\n\t\t\t\t\treturn 250 + i * 50;\n\t\t\t\t};\n\t\t\t\tanimation.easing = 'spring';\n\t\t\t\tanimation.springConstant = .3;\n\t\t\t\tanimation.springDeceleration = .85;\n\t\t\t}\n\n\t\t\tsnabbt(this._btnGroup.childNodes, animation);\n\t\t}\n\t}, {\n\t\tkey: '_hideButtons',\n\t\tvalue: function _hideButtons(callback) {\n\t\t\tvar _this27 = this;\n\n\t\t\tif (!this._btnGroup) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar animation = {\n\t\t\t\tfromScale: [1, 1],\n\t\t\t\tscale: [.85, .85],\n\t\t\t\tfromOpacity: 1,\n\t\t\t\topacity: 0,\n\t\t\t\tallDone: function allDone() {\n\t\t\t\t\t_this27._btnGroup.style.display = 'none';\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// don't animate when detached\n\t\t\tif (this.isDetached()) {\n\t\t\t\tanimation.duration = 1;\n\t\t\t} else {\n\t\t\t\tanimation.easing = 'spring';\n\t\t\t\tanimation.springConstant = .3;\n\t\t\t\tanimation.springDeceleration = .75;\n\t\t\t}\n\n\t\t\t// go hide the buttons\n\t\t\tsnabbt(this._btnGroup.childNodes, animation);\n\t\t}\n\t}, {\n\t\tkey: '_hideStatus',\n\t\tvalue: function _hideStatus() {\n\n\t\t\tvar statusNode = this._element.querySelector('.slim-upload-status');\n\t\t\tstatusNode.style.opacity = 0;\n\t\t}\n\t}, {\n\t\tkey: '_doEdit',\n\t\tvalue: function _doEdit() {\n\t\t\tvar _this28 = this;\n\n\t\t\t// if no input data available, can't edit anything\n\t\t\tif (!this._data.input.image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// now in editor mode\n\t\t\tthis._addState('editor');\n\n\t\t\t// create editor (if not already created)\n\t\t\tif (!this._imageEditor) {\n\t\t\t\tthis._appendEditor();\n\t\t\t}\n\n\t\t\t// hide or show rotate button\n\t\t\tthis._imageEditor.showRotateButton = this._options.rotateButton;\n\n\t\t\t// append to popover\n\t\t\tSlimPopover.inner = this._imageEditor.element;\n\n\t\t\t// read the data\n\t\t\tthis._imageEditor.open(\n\n\t\t\t// send copy of canvas to the editor\n\t\t\tcloneCanvas(this._data.input.image),\n\n\t\t\t// determine ratio\n\t\t\tthis._options.ratio === 'free' ? null : this._ratio,\n\n\t\t\t// the initial crop to show\n\t\t\tthis._data.actions.crop,\n\n\t\t\t// the initial rotation of the image\n\t\t\tthis._data.actions.rotation,\n\n\t\t\t// handle editor load\n\t\t\tfunction () {\n\n\t\t\t\t_this28._showEditor();\n\n\t\t\t\t_this28._hideButtons();\n\n\t\t\t\t_this28._hideStatus();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_doRemove',\n\t\tvalue: function _doRemove(done) {\n\t\t\tvar _this29 = this;\n\n\t\t\t// cannot remove when is only one image\n\t\t\tif (this._isImageOnly()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._clearState();\n\t\t\tthis._addState('empty');\n\n\t\t\tthis._hasInitialImage = false;\n\t\t\tif (this._imageHopper) {\n\t\t\t\tthis._imageHopper.enabled = true;\n\t\t\t}\n\n\t\t\tif (this._isRequired) {\n\t\t\t\tthis._input.required = true;\n\t\t\t}\n\n\t\t\tvar out = this._getOutro();\n\t\t\tif (out) {\n\t\t\t\tout.style.opacity = '0';\n\t\t\t}\n\n\t\t\t// get public available clone of data\n\t\t\tvar data = this.data;\n\n\t\t\t// now reset all data\n\t\t\tthis._resetData();\n\n\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\tif (_this29._isBeingDestroyed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_this29._hideButtons(function () {\n\n\t\t\t\t\t_this29._toggleButton('upload', true);\n\t\t\t\t});\n\n\t\t\t\t_this29._hideStatus();\n\n\t\t\t\t_this29._hideResult();\n\n\t\t\t\t_this29._options.didRemove.apply(_this29, [data, _this29]);\n\n\t\t\t\tif (done) {\n\t\t\t\t\tdone();\n\t\t\t\t}\n\t\t\t}, this.isDetached() ? 0 : 250);\n\n\t\t\tthis._timers.push(timer);\n\n\t\t\treturn data;\n\t\t}\n\t}, {\n\t\tkey: '_doUpload',\n\t\tvalue: function _doUpload(callback) {\n\t\t\tvar _this30 = this;\n\n\t\t\t// if no input data available, can't upload anything\n\t\t\tif (!this._data.input.image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._addState('upload');\n\t\t\tthis._startProgress();\n\n\t\t\tthis._hideButtons(function () {\n\n\t\t\t\t// block upload button\n\t\t\t\t_this30._toggleButton('upload', false);\n\n\t\t\t\t_this30._save(function (err, data, res) {\n\n\t\t\t\t\t_this30._removeState('upload');\n\t\t\t\t\t_this30._stopProgress();\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(_this30, [err, data, res]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\t_this30._toggleButton('upload', true);\n\t\t\t\t\t}\n\n\t\t\t\t\t_this30._showButtons();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_doDownload',\n\t\tvalue: function _doDownload() {\n\n\t\t\tvar image = this._data.output.image;\n\t\t\tif (!image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdownloadCanvas(this._data, this._options.jpegCompression, this._options.forceType);\n\t\t}\n\t}, {\n\t\tkey: '_doDestroy',\n\t\tvalue: function _doDestroy() {\n\t\t\tvar _this31 = this;\n\n\t\t\t// set destroy flag to halt any running functionality\n\t\t\tthis._isBeingDestroyed = true;\n\n\t\t\t// clear timers\n\t\t\tthis._timers.forEach(function (timer) {\n\t\t\t\tclearTimeout(timer);\n\t\t\t});\n\t\t\tthis._timers = [];\n\n\t\t\t// clean up snabbt animations\n\t\t\tsnabbt(this._element, 'detach');\n\n\t\t\t// this removes the image hopper if it's attached\n\t\t\tif (this._imageHopper) {\n\t\t\t\tHopperEvents.forEach(function (e) {\n\t\t\t\t\t_this31._imageHopper.element.removeEventListener(e, _this31);\n\t\t\t\t});\n\t\t\t\tthis._imageHopper.destroy();\n\t\t\t\tthis._imageHopper = null;\n\t\t\t}\n\n\t\t\t// this block removes the image editor\n\t\t\tif (this._imageEditor) {\n\t\t\t\tImageEditorEvents.forEach(function (e) {\n\t\t\t\t\t_this31._imageEditor.element.removeEventListener(e, _this31);\n\t\t\t\t});\n\t\t\t\tthis._imageEditor.destroy();\n\t\t\t\tthis._imageEditor = null;\n\t\t\t}\n\n\t\t\t// remove button event listeners\n\t\t\tnodeListToArray(this._btnGroup.children).forEach(function (btn) {\n\t\t\t\tbtn.removeEventListener('click', _this31);\n\t\t\t});\n\n\t\t\t// stop listening to input\n\t\t\tthis._input.removeEventListener('change', this);\n\n\t\t\t// detect if was wrapped, if so, remove wrapping (needs to have parent node)\n\t\t\tif (this._element !== this._originalElement && this._element.parentNode) {\n\t\t\t\tthis._element.parentNode.replaceChild(this._originalElement, this._element);\n\t\t\t}\n\n\t\t\t// restore HTML of original element\n\t\t\tthis._originalElement.innerHTML = this._originalElementInner;\n\n\t\t\t// get current attributes and remove all, then add original attributes\n\t\t\tfunction matchesAttributeInList(a, attributes) {\n\t\t\t\treturn attributes.filter(function (attr) {\n\t\t\t\t\treturn a.name === attr.name && a.value === attr.value;\n\t\t\t\t}).length !== 0;\n\t\t\t}\n\n\t\t\tvar attributes = getElementAttributes(this._originalElement);\n\t\t\tattributes.forEach(function (attribute) {\n\n\t\t\t\t// if attribute  is contained in original element attribute list and is the same, don't remove\n\t\t\t\tif (matchesAttributeInList(attribute, _this31._originalElementAttributes)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// else remove\n\t\t\t\t_this31._originalElement.removeAttribute(attribute.name);\n\t\t\t});\n\n\t\t\tthis._originalElementAttributes.forEach(function (attribute) {\n\n\t\t\t\t// attribute was never removed\n\t\t\t\tif (matchesAttributeInList(attribute, attributes)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// add attribute\n\t\t\t\t_this31._originalElement.setAttribute(attribute.name, attribute.value);\n\t\t\t});\n\n\t\t\t// now destroyed this counter so the total Slim count can be lowered\n\t\t\tSlimCount = Math.max(0, SlimCount - 1);\n\n\t\t\t// if slim count has reached 0 it's time to clean up the popover\n\t\t\tif (SlimPopover && SlimCount === 0) {\n\t\t\t\tSlimPopover.destroy();\n\t\t\t\tSlimPopover = null;\n\t\t\t}\n\n\t\t\tthis._originalElement = null;\n\t\t\tthis._element = null;\n\t\t\tthis._input = null;\n\t\t\tthis._output = null;\n\t\t\tthis._btnGroup = null;\n\t\t\tthis._options = null;\n\t\t}\n\t}, {\n\t\tkey: 'dataBase64',\n\n\n\t\t/**\n   * Public API\n   */\n\t\t// properties\n\t\tget: function get() {\n\t\t\treturn flattenData(this._data, this._options.post, this._options.jpegCompression, this._options.forceType, this._options.service !== null);\n\t\t}\n\t}, {\n\t\tkey: 'data',\n\t\tget: function get() {\n\t\t\treturn cloneData(this._data);\n\t\t}\n\t}, {\n\t\tkey: 'element',\n\t\tget: function get() {\n\t\t\treturn this._element;\n\t\t}\n\t}, {\n\t\tkey: 'service',\n\t\tset: function set(service) {\n\t\t\tthis._options.service = service;\n\t\t}\n\t}, {\n\t\tkey: 'size',\n\t\tset: function set(dimensions) {\n\t\t\tthis.setSize(dimensions, null);\n\t\t}\n\t}, {\n\t\tkey: 'rotation',\n\t\tset: function set(rotation) {\n\t\t\tthis.setRotation(rotation, null);\n\t\t}\n\t}, {\n\t\tkey: 'forceSize',\n\t\tset: function set(dimensions) {\n\t\t\tthis.setForceSize(dimensions, null);\n\t\t}\n\t}, {\n\t\tkey: 'ratio',\n\t\tset: function set(ratio) {\n\t\t\tthis.setRatio(ratio, null);\n\t\t}\n\t}], [{\n\t\tkey: 'options',\n\t\tvalue: function options() {\n\n\t\t\tvar defaults = {\n\n\t\t\t\t// edit button is enabled by default\n\t\t\t\tedit: true,\n\n\t\t\t\t// immidiately summons editor on load\n\t\t\t\tinstantEdit: false,\n\n\t\t\t\t// set to true to upload data as base64 string\n\t\t\t\tuploadBase64: false,\n\n\t\t\t\t// metadata values\n\t\t\t\tmeta: {},\n\n\t\t\t\t// ratio of crop by default is the same as input image ratio\n\t\t\t\tratio: 'free',\n\n\t\t\t\t// dimensions to resize the resulting image to\n\t\t\t\tsize: null,\n\n\t\t\t\t// set initial rotation\n\t\t\t\trotation: null,\n\n\t\t\t\t// initial crop settings for example: {x:0, y:0, width:100, height:100}\n\t\t\t\tcrop: null,\n\n\t\t\t\t// post these values\n\t\t\t\tpost: ['output', 'actions'],\n\n\t\t\t\t// call this service to submit cropped data\n\t\t\t\tservice: null,\n\t\t\t\tserviceFormat: null,\n\n\t\t\t\t// sharpen filter value, really low values might improve image output\n\t\t\t\tfilterSharpen: 0,\n\n\t\t\t\t// when service is set, and this is set to true, Soon will auto upload all crops (also auto crops)\n\t\t\t\tpush: false,\n\n\t\t\t\t// default fallback name for field\n\t\t\t\tdefaultInputName: 'slim[]',\n\n\t\t\t\t// minimum size of cropped area object with width and height property\n\t\t\t\tminSize: {\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0\n\t\t\t\t},\n\n\t\t\t\t// maximum file size in MB to upload\n\t\t\t\tmaxFileSize: null,\n\n\t\t\t\t// compression of JPEG (between 0 and 100)\n\t\t\t\tjpegCompression: null,\n\n\t\t\t\t// upload method of request\n\t\t\t\tuploadMethod: 'POST',\n\n\t\t\t\t// render download link\n\t\t\t\tdownload: false,\n\n\t\t\t\t// save initially loaded image\n\t\t\t\tsaveInitialImage: false,\n\n\t\t\t\t// the type to force (jpe|jpg|jpeg or png)\n\t\t\t\tforceType: false,\n\n\t\t\t\t// the forced output size of the image\n\t\t\t\tforceSize: null,\n\n\t\t\t\tforceMinSize: true,\n\n\t\t\t\t// disable drop to replace\n\t\t\t\tdropReplace: true,\n\n\t\t\t\t// remote URL service\n\t\t\t\tfetcher: null,\n\n\t\t\t\t// set the internal canvas size\n\t\t\t\tinternalCanvasSize: {\n\t\t\t\t\twidth: 4096,\n\t\t\t\t\theight: 4096\n\t\t\t\t},\n\n\t\t\t\t// copies the input image meta data to the output image\n\t\t\t\tcopyImageHead: false,\n\n\t\t\t\t// enable or disable rotation\n\t\t\t\trotateButton: true,\n\n\t\t\t\t// popover classname\n\t\t\t\tpopoverClassName: null,\n\n\t\t\t\t// label HTML to show inside drop area\n\t\t\t\tlabel: '<p>Drop your image here</p>',\n\t\t\t\tlabelLoading: '<p>Loading image...</p>',\n\n\t\t\t\t// error messages\n\t\t\t\tstatusFileType: '<p>Invalid file type, expects: $0.</p>',\n\t\t\t\tstatusFileSize: '<p>File is too big, maximum file size: $0 MB.</p>',\n\t\t\t\tstatusNoSupport: '<p>Your browser does not support image cropping.</p>',\n\t\t\t\tstatusImageTooSmall: '<p>Image is too small, minimum size is: $0 pixels.</p>',\n\t\t\t\tstatusContentLength: '<span class=\"slim-upload-status-icon\"></span> The file is probably too big',\n\t\t\t\tstatusUnknownResponse: '<span class=\"slim-upload-status-icon\"></span> An unknown error occurred',\n\t\t\t\tstatusUploadSuccess: '<span class=\"slim-upload-status-icon\"></span> Saved',\n\n\t\t\t\t// callback methods\n\t\t\t\tdidInit: function didInit(data) {},\n\t\t\t\tdidLoad: function didLoad(file, image, meta) {\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tdidSave: function didSave(data) {},\n\t\t\t\tdidUpload: function didUpload(err, data, res) {},\n\t\t\t\tdidReceiveServerError: function didReceiveServerError(err, defaultError) {\n\t\t\t\t\treturn defaultError;\n\t\t\t\t},\n\t\t\t\tdidRemove: function didRemove(data) {},\n\t\t\t\tdidTransform: function didTransform(data) {},\n\t\t\t\tdidConfirm: function didConfirm(data) {},\n\t\t\t\tdidCancel: function didCancel() {},\n\n\t\t\t\twillTransform: function willTransform(data, cb) {\n\t\t\t\t\tcb(data);\n\t\t\t\t},\n\t\t\t\twillSave: function willSave(data, cb) {\n\t\t\t\t\tcb(data);\n\t\t\t\t},\n\t\t\t\twillRemove: function willRemove(data, cb) {\n\t\t\t\t\tcb();\n\t\t\t\t},\n\t\t\t\twillRequest: function willRequest(xhr, data) {},\n\t\t\t\twillFetch: function willFetch(xhr) {},\n\t\t\t\twillLoad: function willLoad(xhr) {}\n\n\t\t\t};\n\n\t\t\t// add default button labels\n\t\t\tSlimButtons.concat(ImageEditor.Buttons).concat('rotate').forEach(function (btn) {\n\t\t\t\tvar capitalized = capitalizeFirstLetter(btn);\n\t\t\t\tdefaults['button' + capitalized + 'ClassName'] = null;\n\t\t\t\tdefaults['button' + capitalized + 'Label'] = capitalized;\n\t\t\t\tdefaults['button' + capitalized + 'Title'] = capitalized;\n\t\t\t});\n\n\t\t\treturn defaults;\n\t\t}\n\t}]);\n\n\treturn Slim;\n}();\n\n/**\n * Slim Static Methods\n */\n\n\n(function () {\n\n\tvar instances = [];\n\n\tvar indexOfElement = function indexOfElement(element) {\n\t\tvar i = 0;\n\t\tvar l = instances.length;\n\t\tfor (; i < l; i++) {\n\t\t\tif (instances[i].isAttachedTo(element)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\n\tfunction toLabel(v) {\n\t\t// if value set, use as label\n\t\tif (v) {\n\t\t\treturn '<p>' + v + '</p>';\n\t\t}\n\n\t\t// else use default text\n\t\treturn null;\n\t}\n\n\tfunction toFunctionReference(name) {\n\t\tvar ref = window;\n\t\tvar levels = name.split('.');\n\t\tlevels.forEach(function (level, index) {\n\t\t\tif (!ref[levels[index]]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tref = ref[levels[index]];\n\t\t});\n\t\treturn ref !== window ? ref : null;\n\t}\n\n\tvar passThrough = function passThrough(v) {\n\t\treturn v;\n\t};\n\tvar defaultFalse = function defaultFalse(v) {\n\t\treturn v === 'true';\n\t};\n\tvar defaultTrue = function defaultTrue(v) {\n\t\treturn v ? v === 'true' : true;\n\t};\n\tvar defaultLabel = function defaultLabel(v) {\n\t\treturn toLabel(v);\n\t};\n\tvar defaultFunction = function defaultFunction(v) {\n\t\treturn v ? toFunctionReference(v) : null;\n\t};\n\tvar defaultSize = function defaultSize(v) {\n\t\tif (!v) {\n\t\t\treturn null;\n\t\t}\n\t\tvar parts = intSplit(v, ',');\n\t\treturn {\n\t\t\twidth: parts[0],\n\t\t\theight: parts[1]\n\t\t};\n\t};\n\n\tvar toFloat = function toFloat(v) {\n\t\tif (!v) {\n\t\t\treturn null;\n\t\t}\n\t\treturn parseFloat(v);\n\t};\n\n\tvar toInt = function toInt(v) {\n\t\tif (!v) {\n\t\t\treturn null;\n\t\t}\n\t\treturn parseInt(v, 10);\n\t};\n\n\tvar toRect = function toRect(v) {\n\t\tif (!v) {\n\t\t\treturn null;\n\t\t}\n\t\tvar obj = {};\n\t\tv.split(',').map(function (p) {\n\t\t\treturn parseInt(p, 10);\n\t\t}).forEach(function (v, i) {\n\t\t\tobj[Rect[i]] = v;\n\t\t});\n\t\treturn obj;\n\t};\n\n\tvar defaults = {\n\n\t\t// is user allowed to download the cropped image?\n\t\t'download': defaultFalse,\n\n\t\t// is user allowed to edit the cropped image?\n\t\t'edit': defaultTrue,\n\n\t\t// open editor immidiately on file drop\n\t\t'instantEdit': defaultFalse,\n\n\t\t// minimum crop size in pixels of original image\n\t\t'minSize': defaultSize,\n\n\t\t// the final bounding box of the output image\n\t\t'size': defaultSize,\n\n\t\t// the forced output size of the image\n\t\t'forceSize': defaultSize,\n\n\t\t'forceMinSize': defaultTrue,\n\n\t\t// the internal data canvas size\n\t\t'internalCanvasSize': defaultSize,\n\n\t\t// url to post to\n\t\t'service': function service(v) {\n\t\t\tif (typeof v === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar fn = toFunctionReference(v);\n\t\t\tif (fn) {\n\t\t\t\treturn fn;\n\t\t\t}\n\t\t\treturn v;\n\t\t},\n\n\t\t// format of service data\n\t\t'serviceFormat': function serviceFormat(v) {\n\t\t\treturn typeof v === 'undefined' ? null : v;\n\t\t},\n\n\t\t// url to fetch service\n\t\t'fetcher': function fetcher(v) {\n\t\t\treturn typeof v === 'undefined' ? null : v;\n\t\t},\n\n\t\t// set auto push mode\n\t\t'push': defaultFalse,\n\n\t\t// initial rotation\n\t\t'rotation': function rotation(v) {\n\t\t\treturn typeof v === 'undefined' ? null : parseInt(v, 10);\n\t\t},\n\n\t\t// set crop rect\n\t\t'crop': toRect,\n\n\t\t// what to post\n\t\t'post': function post(v) {\n\t\t\tif (!v) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn v.split(',').map(function (item) {\n\t\t\t\treturn item.trim();\n\t\t\t});\n\t\t},\n\n\t\t// default input name\n\t\t'defaultInputName': passThrough,\n\n\t\t// the ratio of the crop\n\t\t'ratio': function ratio(v) {\n\t\t\tif (!v) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn v;\n\t\t},\n\n\t\t// maximum file size\n\t\t'maxFileSize': toFloat,\n\n\t\t// sharpen filter\n\t\t'filterSharpen': toInt,\n\n\t\t// jpeg compression\n\t\t'jpegCompression': toInt,\n\n\t\t// base64 data uploading\n\t\t'uploadBase64': defaultFalse,\n\n\t\t// sets file type to force output to\n\t\t'forceType': passThrough,\n\n\t\t// drop to replace\n\t\t'dropReplace': defaultTrue,\n\n\t\t// bool determining if initial image should be saved\n\t\t'saveInitialImage': defaultFalse,\n\n\t\t// copies input image head to output image\n\t\t'copyImageHead': defaultFalse,\n\n\t\t// rotate button\n\t\t'rotateButton': defaultTrue,\n\n\t\t// default labels\n\t\t'label': defaultLabel,\n\t\t'labelLoading': defaultLabel,\n\n\t\t// class name to put on popover element\n\t\t'popoverClassName': passThrough,\n\n\t\t// upload request method\n\t\t'uploadMethod': passThrough\n\n\t};\n\n\t// labels\n\t['FileSize', 'FileType', 'NoSupport', 'ImageTooSmall'].forEach(function (status) {\n\t\tdefaults['status' + status] = defaultLabel;\n\t});\n\n\t// status\n\t['ContentLength', 'UnknownResponse', 'UploadSuccess'].forEach(function (status) {\n\t\tdefaults['status' + status] = passThrough;\n\t});\n\n\t// the did callbacks\n\t['Init', 'Load', 'Save', 'Upload', 'Remove', 'Transform', 'ReceiveServerError', 'Confirm', 'Cancel'].forEach(function (cb) {\n\t\tdefaults['did' + cb] = defaultFunction;\n\t});\n\n\t// the will callbacks\n\t['Transform', 'Save', 'Remove', 'Request', 'Load', 'Fetch'].forEach(function (cb) {\n\t\tdefaults['will' + cb] = defaultFunction;\n\t});\n\n\t// button defaults\n\tvar buttonOptions = ['ClassName', 'Label', 'Title'];\n\tSlimButtons.concat(ImageEditor.Buttons).concat('rotate').forEach(function (btn) {\n\t\tvar capitalized = capitalizeFirstLetter(btn);\n\t\tbuttonOptions.forEach(function (opt) {\n\t\t\tdefaults['button' + capitalized + opt] = passThrough;\n\t\t});\n\t});\n\n\tSlim.supported = function () {\n\n\t\treturn !(\n\n\t\t// is opera mini\n\t\tObject.prototype.toString.call(window.operamini) === '[object OperaMini]' ||\n\n\t\t// no event listener support\n\t\ttypeof window.addEventListener === 'undefined' ||\n\n\t\t// no file reader support\n\t\ttypeof window.FileReader === 'undefined' ||\n\n\t\t// no blob slicing (can't dupe files)\n\t\t!('slice' in Blob.prototype) ||\n\n\t\t// no .createObjectURL support, used by download method but also convenient to exclude Android 4.3 and lower\n\t\t// Android 4.3 and lower don't support XHR2 responseType blob\n\t\ttypeof window.URL === 'undefined' || typeof window.URL.createObjectURL === 'undefined');\n\t}();\n\n\tSlim.parse = function (context) {\n\t\tvar elements;\n\t\tvar element;\n\t\tvar i;\n\t\tvar croppers = [];\n\n\t\t// find all crop elements and bind Crop behavior\n\t\telements = context.querySelectorAll('.slim:not([data-state])');\n\t\ti = elements.length;\n\n\t\twhile (i--) {\n\t\t\telement = elements[i];\n\t\t\tcroppers.push(Slim.create(element, Slim.getOptionsFromAttributes(element)));\n\t\t}\n\n\t\treturn croppers;\n\t};\n\n\tSlim.getOptionsFromAttributes = function (element) {\n\n\t\tvar dataset = getDataset(element);\n\n\t\tvar options = {\n\t\t\tmeta: {}\n\t\t};\n\n\t\tfor (var prop in dataset) {\n\n\t\t\tvar valueTransformer = defaults[prop];\n\t\t\tvar _value = dataset[prop];\n\n\t\t\tif (valueTransformer) {\n\t\t\t\t_value = valueTransformer(_value);\n\t\t\t\t_value = _value === null ? clone(Slim.options()[prop]) : _value;\n\t\t\t\toptions[prop] = _value;\n\t\t\t} else if (prop.indexOf('meta') === 0) {\n\t\t\t\toptions['meta'][lowercaseFirstLetter(prop.substr(4))] = _value;\n\t\t\t}\n\t\t}\n\n\t\treturn options;\n\t};\n\n\tSlim.find = function (element) {\n\t\tvar result = instances.filter(function (instance) {\n\t\t\treturn instance.isAttachedTo(element);\n\t\t});\n\t\treturn result ? result[0] : null;\n\t};\n\n\tSlim.create = function (element, options) {\n\n\t\t// if already in array, can't create another slim\n\t\tif (Slim.find(element)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// if no options supplied, try to get the options from the element\n\t\tif (!options) {\n\t\t\toptions = Slim.getOptionsFromAttributes(element);\n\t\t}\n\n\t\t// instance\n\t\tvar slim = new Slim(element, options);\n\n\t\t// add new slim\n\t\tinstances.push(slim);\n\n\t\t// return the slim instance\n\t\treturn slim;\n\t};\n\n\tSlim.destroy = function (element) {\n\t\tvar index = indexOfElement(element);\n\n\t\tif (index < 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tinstances[index].destroy();\n\t\tinstances.splice(index, 1);\n\n\t\treturn true;\n\t};\n})();\n    return Slim;\n}()) : null;\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/slim.module.js","<template>\n  <v-dialog\n    persistent\n    v-model=\"$store.state.slim.active\"\n    :fullscreen=\"$vuetify.breakpoint.smAndDown\"\n    width=\"700px\"\n    transition=\"dialog-bottom-transition\"\n  >\n    <v-card>\n      <v-card-title\n        class=\"grey lighten-4 py-4 title\"\n      >\n        Upload avatar\n      </v-card-title>\n      <v-container>\n        <v-layout>\n          <v-flex\n            xs8 offset-xs2\n            sm8 offset-sm2\n            md8 offset-md2\n          >\n            <div\n              ref=\"cropper\"\n              class=\"slim subheading\"\n              :style=\"{cursor: 'pointer'}\"\n            >\n              <input type=\"file\" name=\"slim[]\">\n            </div>\n          </v-flex>\n        </v-layout>\n      </v-container>\n      <v-card-actions>\n        <v-btn\n          large\n          color=\"primary\"\n          class=\"mr-0\"\n          @click=\"cancelSlim\"\n          :style=\"{margin: '0 auto'}\"\n        >\n          Cancel\n        </v-btn>\n\n        <v-btn\n          large\n          color=\"success\"\n          @click=\"doneSlim\"\n          :style=\"{margin: '0 auto'}\"\n          :disabled=\"!avatar_ready\"\n        >\n          Done\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\n  import firebase from 'firebase'\n  import { avatarsRef, saveContact } from '../api/database'\n  import Slim from '../../src/assets/js/slim.module'\n\n  export default {\n    name: 'slim-cropper',\n    data () {\n      return {\n        slim: null,\n        avatar_ready: false,\n        avatar_removed: false,\n        editing_contact: this.editingContact || false,\n        options: {\n          ratio: '1:1',\n          initialImage: '',\n          minSize: '100, 100',\n          service: this.slimService,\n          didInit: this.slimInit,\n          didLoad: this.slimLoaded,\n          didRemove: this.slimRemoved,\n          didUpload: this.slimUploaded,\n          label: `Drop your avatar here. Or click to select.`,\n          statusUploadSuccess: 'Avatar Uploaded successfully.',\n          maxFileSize: 2,\n          serviceFormat: 'file',\n          instantEdit: false\n        }\n      }\n    },\n\n    props: ['state'],\n\n    methods: {\n      cancelSlim: function () {\n        if (this.$store.state.slim) {\n          this.slim.remove()\n        }\n        if (this.$store.state.add_contact) {\n          this.setAvatar({})\n        } else if (this.$store.state.view_contact) {\n          // Do something\n        }\n\n        this.avatar_ready = false\n        this.$store.dispatch('setSlim', {active: false})\n      },\n\n      doneSlim: function () {\n        if (this.avatar_removed) {\n          this.setAvatar({})\n        } else {\n          this.$store.dispatch('setSnackbar', {\n            color: 'info',\n            message: 'Updating avatar thumbnail...'\n          })\n          let avatar = this.$store.state.slim.contact.avatar\n          this.getThumbnail(avatar.filename)\n            .then(thumbnailURL => {\n              this.setAvatar({thumbnail: thumbnailURL})\n              console.log('doneSlim: Successfully added thumbnail')\n              this.$store.dispatch('setSnackbar', {\n                color: 'success',\n                message: 'Successfully updated avatar thumbnail'\n              })\n            })\n            .catch(error => {\n              this.$store.dispatch('setSnackbar', {\n                color: 'error',\n                message: 'Unable to retrieve thumbnail. Error was logged in the console'\n              })\n              console.log('doneSlim:', error)\n              if (this.$store.state.view_contact) {\n                this.updateContact()\n              }\n            })\n        }\n        this.slim.remove()\n        this.avatar_ready = false\n        this.$store.dispatch('setSlim', {active: false})\n      },\n\n      updateContact: function () {\n        this.$store.dispatch('setSnackbar', {\n          color: 'info',\n          message: 'Updating contact...'\n        })\n        let myThis = this\n        function saveCallback (error) {\n          let snackbar = {}\n          if (error) {\n            snackbar = {\n              color: 'error',\n              message: `${error}`\n            }\n          } else {\n            snackbar = {\n              color: 'success',\n              message: 'Contact updated successfully!'\n            }\n          }\n          myThis.$store.dispatch('setSnackbar', snackbar)\n        }\n        saveContact(this.$store.state.slim.contact, saveCallback)\n      },\n      getThumbnail: function (avatarFilename) {\n        return new Promise(function (resolve, reject) {\n          avatarsRef.child(`avatars/thumb_${avatarFilename}`)\n            .getDownloadURL()\n            .then(url => {\n              console.log('getThumbnail: Successfully retrieved thumbnail')\n              resolve(url)\n            })\n            .catch(error => {\n              console.log('getThumbnail: Unable to retrieve thumbnail', error)\n              reject(error)\n            })\n        })\n      },\n      setAvatar: function (avatarObject) {\n        let {avatar = '', thumbnail = '', filename = ''} = avatarObject\n        let removal = !(avatar || thumbnail || filename)\n        if (this.$store.state.add_contact) {\n          let newContact = this.$store.state.new_contact\n          if (removal) {\n            newContact.avatar = null\n          } else {\n            if (!newContact.avatar) newContact['avatar'] = {avatar: '', thumbnail: '', filename: ''}\n            if (avatar) newContact.avatar['avatar'] = avatar\n            if (filename) newContact.avatar['filename'] = filename\n            if (thumbnail) newContact.avatar['thumbnail'] = thumbnail\n          }\n          this.$store.dispatch('setNewContact', newContact)\n          console.log('setAvatar: Successfully set newContact')\n        } else if (this.$store.state.edit_contact || this.$store.state.view_contact) {\n          let contact = this.$store.state.slim.contact\n          if (removal) {\n            contact.avatar = null\n          } else {\n            if (!contact.avatar) contact['avatar'] = {avatar: '', thumbnail: '', filename: ''}\n            if (avatar) contact.avatar['avatar'] = avatar\n            if (thumbnail) contact.avatar['thumbnail'] = thumbnail\n            if (filename) contact.avatar['filename'] = filename\n          }\n          if (this.$store.state.view_contact) {\n            this.updateContact()\n          }\n          console.log('setAvatar: Successfully updated contact')\n        }\n      },\n      slimLoaded: function (file, image, meta) {\n        this.avatar_ready = false\n        return true\n      },\n      slimRemoved: function (data) {\n        if (this.$store.state.edit_contact || this.$store.state.view_contact) {\n          this.avatar_removed = true\n          this.avatar_ready = true\n        }\n        if (!this.$store.state.slim.contact.avatar) {\n          this.avatar_ready = false\n        }\n      },\n\n      slimUploaded: function (error, data, response) {\n        this.avatar_ready = !error\n        this.avatar_removed = false\n      },\n      // called when slim has initialized\n      slimInit: function (data, slim) {\n        // slim instance reference\n        this.$store.dispatch('setSlim', {active: false, instance: slim})\n\n        // current slim data object and slim reference\n        // console.log(data)\n      },\n\n      // called when upload button is pressed or                 // automatically if push is enabled\n      slimService: function (file, progress, success, failure) {\n        this.$store.dispatch('setSnackbar', {color: 'info', message: 'Uploading avatar...'})\n        file = file[0]\n        let myThis = this\n        // console.log('this in Slim.vue: ', this)\n        // Upload file to the object\n        const timestamp = Date.now()\n        const filename = `${file.name}-${timestamp}`\n        let avatarUploadTask = avatarsRef.child('avatars/' + filename).put(file)\n\n        // Listen for state changes, errors, and completion of the upload.\n        avatarUploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, function (snapshot) {\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded.\n          progress(snapshot.bytesTransferred, snapshot.totalBytes)\n          switch (snapshot.state) {\n            case firebase.storage.TaskState.PAUSED:\n              // console.log('Upload is paused')\n              break\n            case firebase.storage.TaskState.RUNNING:\n              // console.log('Upload is running')\n              break\n          }\n        }, function (error) {\n          switch (error.code) {\n            case 'storage/unauthorized':\n              // User doesn't have permission to access the object\n              failure('You do not have permission to access the object.')\n              myThis.$store.dispatch('setSnackbar', {\n                color: 'error',\n                message: 'You do not have permission to access the object.'\n              })\n              break\n\n            case 'storage/canceled':\n              // User canceled the upload\n              failure('The update was cancelled.')\n              myThis.$store.dispatch('setSnackbar', {\n                color: 'error',\n                message: 'The update was cancelled.'\n              })\n              break\n\n            case 'storage/unknown':\n              // Unknown error occurred, inspect error.serverResponse\n              failure('An unknown error occurred.')\n              myThis.$store.dispatch('setSnackbar', {\n                color: 'error',\n                message: 'An unknown error occurred.'\n              })\n              break\n          }\n        }, function () {\n          // Upload completed successfully, now we can get the download URL\n          success('Avatar uploaded successfully.')\n          const downloadURL = avatarUploadTask.snapshot.downloadURL\n          // Thumbnail is generated upon upload via a firebase function and\n          // the prefix 'thumb_' added to the name of the file\n          myThis.setAvatar({avatar: downloadURL, filename: filename})\n          myThis.$store.dispatch('setSnackbar', {color: 'success', message: 'Avatar uploaded successfully.'})\n        })\n      }\n    },\n\n    mounted () {\n      this.slim = new Slim(this.$refs['cropper'], this.options)\n    },\n\n    destroyed: function () {\n      this.slim.destroy()\n    }\n  }\n</script>\n<style lang=\"css\">\n  @import '../../src/assets/css/slim.min.css';\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Slim.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"fullscreen\":_vm.$vuetify.breakpoint.smAndDown,\"width\":\"700px\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.$store.state.slim.active),callback:function ($$v) {_vm.$set(_vm.$store.state.slim, \"active\", $$v)},expression:\"$store.state.slim.active\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"grey lighten-4 py-4 title\"},[_vm._v(\"\\n      Upload avatar\\n    \")]),_vm._v(\" \"),_c('v-container',[_c('v-layout',[_c('v-flex',{attrs:{\"xs8\":\"\",\"offset-xs2\":\"\",\"sm8\":\"\",\"offset-sm2\":\"\",\"md8\":\"\",\"offset-md2\":\"\"}},[_c('div',{ref:\"cropper\",staticClass:\"slim subheading\",style:({cursor: 'pointer'})},[_c('input',{attrs:{\"type\":\"file\",\"name\":\"slim[]\"}})])])],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{staticClass:\"mr-0\",style:({margin: '0 auto'}),attrs:{\"large\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.cancelSlim}},[_vm._v(\"\\n        Cancel\\n      \")]),_vm._v(\" \"),_c('v-btn',{style:({margin: '0 auto'}),attrs:{\"large\":\"\",\"color\":\"success\",\"disabled\":!_vm.avatar_ready},on:{\"click\":_vm.doneSlim}},[_vm._v(\"\\n        Done\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-759d0b88\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Slim.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-759d0b88\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Slim.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Slim.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Slim.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-759d0b88\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Slim.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Slim.vue\n// module id = null\n// module chunks = ","<template>\n  <v-app>\n    <!-- Navivation Drawer Markup start -->\n    <drawer\n      ref=\"drawer\"\n    />\n    <!-- Navigation Drawer Markup end -->\n\n    <!--Toolbar Markup start -->\n    <main-toolbar\n      ref=\"main_toolbar\"\n    />\n    <!-- Toolbar Markup End -->\n\n    <!-- Search Toolbar Markup start -->\n    <search-toolbar\n      ref=\"search_toolbar\"\n    />\n    <!-- Search Toolbar Markup end -->\n\n    <!-- Select Toolbar Markup start -->\n    <select-toolbar\n      ref=\"select_toolbar\"\n    />\n    <!-- Select Toolbar Markup end -->\n\n    <router-view/>\n\n    <slim-cropper\n      ref=\"slim_cropper\"\n    />\n\n    <!-- Snackbar Markup start -->\n    <v-snackbar\n      :timeout=\"$store.state.snackbar.timeout\"\n      :color=\"$store.state.snackbar.color\"\n      :bottom=\"true\"\n      :multi-line=\"false\"\n      v-model=\"$store.state.snackbar.active\"\n      ref=\"snackbar\"\n    >\n      {{ $store.state.snackbar.message }}\n      <v-btn\n        dark\n        flat\n        @click.native=\"closeSnackbar\"\n      >Close</v-btn>\n    </v-snackbar>\n    <!-- Snackbar Markup end -->\n  </v-app>\n</template>\n\n\n<script>\n  import Drawer from './components/Drawer.vue'\n  import MainToolbar from './components/MainToolbar.vue'\n  import SearchToolbar from './components/SearchToolbar'\n  import SelectToolbar from './components/SelectToolbar'\n  import Slim from './components/Slim.vue'\n\n  import { contactsRef } from './api/database'\n\n  export default {\n    name: 'app',\n    data: () => ({\n      items: [\n        {icon: 'contacts', text: 'Contacts'},\n        {icon: 'history', text: 'Frequently contacted'},\n        {icon: 'content-copy', text: 'Duplicates'},\n        {\n          icon: 'keyboard_arrow_up',\n          'icon-alt': 'keyboard_arrow_down',\n          text: 'Labels',\n          model: true,\n          children: [\n            {icon: 'add', text: 'Create label'}\n          ]\n        },\n        {\n          icon: 'keyboard_arrow_up',\n          'icon-alt': 'keyboard_arrow_down',\n          text: 'More',\n          model: false,\n          children: [\n            {text: 'Import'},\n            {text: 'Export'},\n            {text: 'Print'},\n            {text: 'Undo changes'},\n            {text: 'Other contacts'}\n          ]\n        },\n        {icon: 'settings', text: 'Settings'},\n        {icon: 'chat_bubble', text: 'Send feedback'},\n        {icon: 'help', text: 'Help'},\n        {icon: 'phonelink', text: 'App downloads'},\n        {icon: 'keyboard', text: 'Go to the old version'}\n      ]\n    }),\n\n    props: {\n      source: String\n    },\n\n    components: {\n      Drawer,\n      MainToolbar,\n      SearchToolbar,\n      SelectToolbar,\n      'slim-cropper': Slim\n    },\n\n    methods: {\n      closeSnackbar: function () {\n        this.$store.dispatch('setSnackbar', {active: false})\n      },\n\n      getRandomColor: function () {\n        return this.$store.state.colors[Math.floor(Math.random() * this.$store.state.colors.length)]\n      }\n    },\n\n    created () {\n      contactsRef.orderByChild('fullName').on('value', snap => {\n        let contacts = []\n        snap.forEach(contact => {\n          let myContact = JSON.parse(JSON.stringify(contact.val()))\n          myContact['color'] = this.getRandomColor()\n          contacts.push(myContact)\n        })\n        this.$store.dispatch('setContacts', contacts)\n      })\n      // let contacts = contactsApi.fetch();\n      // this.$store.dispatch('setContacts', contacts);\n      this.$store.dispatch('setTooltips')\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('drawer',{ref:\"drawer\"}),_vm._v(\" \"),_c('main-toolbar',{ref:\"main_toolbar\"}),_vm._v(\" \"),_c('search-toolbar',{ref:\"search_toolbar\"}),_vm._v(\" \"),_c('select-toolbar',{ref:\"select_toolbar\"}),_vm._v(\" \"),_c('router-view'),_vm._v(\" \"),_c('slim-cropper',{ref:\"slim_cropper\"}),_vm._v(\" \"),_c('v-snackbar',{ref:\"snackbar\",attrs:{\"timeout\":_vm.$store.state.snackbar.timeout,\"color\":_vm.$store.state.snackbar.color,\"bottom\":true,\"multi-line\":false},model:{value:(_vm.$store.state.snackbar.active),callback:function ($$v) {_vm.$set(_vm.$store.state.snackbar, \"active\", $$v)},expression:\"$store.state.snackbar.active\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.$store.state.snackbar.message)+\"\\n    \"),_c('v-btn',{attrs:{\"dark\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.closeSnackbar($event)}}},[_vm._v(\"Close\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-75702283\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-75702283\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <v-dialog\n    v-model=\"$store.state.edit_contact\"\n    :fullscreen=\"$vuetify.breakpoint.smAndDown\"\n    width=\"700px\"\n    transition=\"dialog-transition\"\n    :hide-overlay=\"false\"\n  >\n    <v-card>\n      <v-card-title\n        class=\"grey lighten-4 py-4 title\"\n      >\n        Edit contact\n      </v-card-title>\n      <div\n        :style=\"{borderBottom: '1px solid lightgrey'}\"\n      >\n        <v-container\n          grid-list-sm\n          class=\"pt-4 pb-0\">\n          <!-- Full Name Markup start -->\n          <v-layout\n            row\n            wrap\n            align-center\n            class=\"add-contact-row\"\n            @mouseleave=\"fullNameHover = false\"\n            @mouseenter=\"fullNameHover = true\"\n          >\n            <v-flex\n              xs2\n              class=\"text-xs-center\"\n              @mouseenter=\"avatar_hover = true\"\n              @mouseleave=\"avatar_hover = false\"\n            >\n              <v-avatar\n                size=\"50px\"\n                @click=\"openSlim\"\n                :style=\"{\n                    cursor: 'pointer',\n                    backgroundSize: 'contain',\n                    backgroundColor: 'white',\n                    backgroundImage: contact.avatar ? `url(${contact.avatar.thumbnail || contact.avatar.avatar})` : 'url(../../static/avatars/grey_silhouette.png)',\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center center',\n                    border: '2px solid #E3E3DE'\n                  }\"\n              >\n                <v-btn\n                  fab\n                  small\n                  color=\"black\"\n                  class=\"ma-0\"\n                  :style=\"{opacity: avatar_hover ? '0.5' : '0'}\"\n                >\n                  <v-icon\n                    color=\"white\"\n                  >\n                    photo_camera\n                  </v-icon>\n                </v-btn>\n              </v-avatar>\n            </v-flex>\n\n            <v-flex\n              class=\"xs8\"\n            >\n              <v-text-field\n                autofocus\n                ref=\"fullName\"\n                class=\"caption\"\n                placeholder=\"Full Name\"\n                v-model=\"contact.fullName\"\n                :rules=\"fullNameRules\"\n                required\n                :validateOnBlur=\"true\"\n              />\n            </v-flex>\n\n            <v-flex\n              xs1\n              class=\"pb-2 pl-0 ml-0\"\n            >\n              <v-tooltip\n                bottom\n                v-if=\"showFullNameRemove()\"\n                :disabled=\"$store.state.tooltips\"\n              >\n                <span>Remove</span>\n                <v-btn\n                  flat\n                  icon\n                  small\n                  slot=\"activator\"\n                  color=\"grey\"\n                  class=\"action-button\"\n                  @click=\"removeFullName\"\n                >\n                  <v-icon>clear</v-icon>\n                </v-btn>\n              </v-tooltip>\n            </v-flex>\n\n          </v-layout>\n          <!-- Full Name Markup end -->\n\n          <!-- Date of Birth Markup start -->\n          <v-layout\n            row\n            wrap\n            align-center\n            class=\"add-contact-row\"\n            @mouseleave=\"dateOfBirthHover = false\"\n            @mouseenter=\"dateOfBirthHover = true\"\n          >\n            <v-flex xs2 class=\"text-xs-center\">\n              <v-icon>\n                event\n              </v-icon>\n            </v-flex>\n\n            <v-flex xs8>\n              <v-menu\n                lazy\n                :close-on-content-click=\"false\"\n                v-model=\"menu\"\n                transition=\"scale-transition\"\n                offset-y\n                full-width\n                :nudge-right=\"40\"\n                max-width=\"290px\"\n                min-width=\"290px\"\n              >\n\n                <v-text-field\n                  ref=\"dateOfBirth\"\n                  slot=\"activator\"\n                  v-model=\"contact.dateOfBirth\"\n                  class=\"caption\"\n                  placeholder=\"Date of Birth\"\n                  readonly\n                  :rules=\"dateOfBirthRules\"\n                />\n\n                <v-date-picker\n                  v-model=\"contact.dateOfBirth\"\n                  no-title\n                  scrollable\n                  actions\n                >\n                  <template slot-scope=\"{ save, cancel }\">\n                    <v-card-actions>\n                      <v-spacer/>\n                      <v-btn\n                        flat\n                        color=\"primary\"\n                        @click=\"cancel\"\n                      >Cancel</v-btn>\n\n                      <v-btn\n                        flat\n                        color=\"primary\"\n                        @click=\"save\"\n                      >OK\n                      </v-btn>\n                    </v-card-actions>\n                  </template>\n                </v-date-picker>\n              </v-menu>\n            </v-flex>\n            <v-flex\n              xs1\n              class=\"pb-2 pl-0 ml-0\"\n            >\n              <v-tooltip\n                bottom\n                v-if=\"showDateOfBirthRemove()\"\n                :disabled=\"$store.state.tooltips\"\n              >\n                <span>Remove</span>\n                <v-btn\n                  flat\n                  icon\n                  small\n                  slot=\"activator\"\n                  color=\"grey\"\n                  class=\"action-button\"\n                  @click=\"removeDateOfBirth\"\n                >\n                  <v-icon>clear</v-icon>\n                </v-btn>\n              </v-tooltip>\n            </v-flex>\n            <v-spacer/>\n          </v-layout>\n          <!-- Date of Birth Markup end -->\n\n          <!-- Addresses Markup start -->\n          <v-list\n            class=\"pt-0 pb-0\"\n          >\n            <v-list-tile\n              v-for=\"address in contact.addresses\"\n              :key=\"address.id\"\n              id=\"address_tile\"\n            >\n\n              <!-- Address Markup start -->\n              <v-layout\n                row\n                wrap\n                align-center\n                class=\"add-contact-row\"\n                @mouseenter=\"currentAddressHover = address.id\"\n                @mouseleave=\"currentAddressHover = null\"\n              >\n                <v-flex xs2 class=\"text-xs-center\">\n                  <v-icon\n                    v-if=\"showAddressIcon(address.id)\"\n                  >\n                    location_on\n                  </v-icon>\n                </v-flex>\n\n                <template\n                  v-if=\"address.value.length === 0\"\n                >\n                  <v-flex xs8>\n                    <v-text-field\n                      ref=\"addresses\"\n                      class=\"caption\"\n                      placeholder=\"Address\"\n                      v-model=\"address.value\"\n                    />\n                  </v-flex>\n                </template>\n                <template\n                  v-else\n                >\n                  <v-flex xs5>\n                    <v-text-field\n                      ref=\"addresses\"\n                      class=\"caption\"\n                      placeholder=\"Address\"\n                      v-model=\"address.value\"\n                    />\n                  </v-flex>\n\n                  <v-flex xs3>\n                    <v-select\n                      :items=\"labels\"\n                      v-model=\"address.label\"\n                      label=\"Label\"\n                      single-line\n                      autocomplete\n                    >\n                    </v-select>\n                  </v-flex>\n\n                </template>\n\n                <v-flex\n                  xs1\n                  class=\"pb-2 pl-0 ml-0\"\n                >\n                  <v-tooltip\n                    bottom\n                    v-if=\"showAddressRemove(address)\"\n                    :disabled=\"$store.state.tooltips\"\n                  >\n                    <span>Remove</span>\n                    <v-btn\n                      flat\n                      icon\n                      small\n                      slot=\"activator\"\n                      color=\"grey\"\n                      class=\"action-button\"\n                      @click=\"removeAddress(address)\"\n                    >\n                      <v-icon>clear</v-icon>\n                    </v-btn>\n                  </v-tooltip>\n                </v-flex>\n                <v-flex\n                  xs1\n                  class=\"pb-2\"\n                >\n                  <v-tooltip\n                    bottom\n                    v-if=\"showAddressAdd(address)\"\n                    :disabled=\"$store.state.tooltips\"\n                  >\n                    <span>Add</span>\n                    <v-btn\n                      flat\n                      icon\n                      small\n                      slot=\"activator\"\n                      color=\"blue darken-2\"\n                      class=\"ml-0\"\n                      @click=\"addAddress\"\n                    >\n                      <v-icon>add_circle</v-icon>\n                    </v-btn>\n                  </v-tooltip>\n                </v-flex>\n              </v-layout>\n              <!-- Address Markup end -->\n\n            </v-list-tile>\n          </v-list>\n          <!-- Addresses Markup end -->\n\n          <!-- Phones Markup start -->\n          <v-list\n            class=\"pt-0 pb-0\"\n          >\n            <v-list-tile\n              v-for=\"phone in contact.phones\"\n              :key=\"phone.id\"\n              id=\"phone_tile\"\n            >\n              <!-- Phone Markup start -->\n              <v-layout\n                row\n                wrap\n                align-center\n                class=\"add-contact-row\"\n                @mouseenter=\"currentPhoneHover = phone.id\"\n                @mouseleave=\"currentPhoneHover = null\"\n              >\n                <v-flex xs2 class=\"text-xs-center\">\n                  <v-icon\n                    v-if=\"showPhoneIcon(phone.id)\"\n                  >\n                    phone\n                  </v-icon>\n                </v-flex>\n\n                <v-flex\n                  xs1\n                  class=\"pb-3 pr-2 pl-0 ml-0\"\n                >\n                  <div\n                    :id=\"`country_${phone.id}`\"\n                    class=\"ml-0 pl-0\"\n                  ></div>\n                </v-flex>\n\n                <template\n                  v-if=\"!phone.value\"\n                >\n                  <v-flex xs7>\n                    <v-text-field\n                      :ref=\"`phone_${phone.id}`\"\n                      type=\"tel\"\n                      class=\"caption\"\n                      placeholder=\"Phone\"\n                      v-model=\"phone.value\"\n                      :id=\"`country_${phone.id}_text`\"\n                      required\n                      :rules=\"phoneRules\"\n                      :validateOnBlur=\"true\"\n                    />\n                  </v-flex>\n                </template>\n\n                <template\n                  v-else\n                >\n                  <v-flex xs4>\n                    <v-text-field\n                      :ref=\"`phone_${phone.id}`\"\n                      type=\"tel\"\n                      class=\"caption\"\n                      placeholder=\"Phone\"\n                      v-model=\"phone.value\"\n                      :id=\"`country_${phone.id}_text`\"\n                      required\n                      :rules=\"phoneRules\"\n                      :validateOnBlur=\"true\"\n                    />\n                  </v-flex>\n                  <v-flex xs3>\n                    <v-select\n                      :items=\"labels\"\n                      v-model=\"phone.label\"\n                      label=\"Label\"\n                      single-line\n                      autocomplete\n                    >\n                    </v-select>\n                  </v-flex>\n                </template>\n\n                <v-flex\n                  xs1\n                  class=\"pb-2 pl-0 ml-0\"\n                >\n                  <v-tooltip\n                    bottom\n                    v-if=\"showPhoneRemove(phone)\"\n                    :disabled=\"$store.state.tooltips\"\n                  >\n                    <span>Remove</span>\n                    <v-btn\n                      flat\n                      icon\n                      small\n                      slot=\"activator\"\n                      color=\"grey\"\n                      class=\"action-button\"\n                      @click=\"removePhone(phone)\"\n                    >\n                      <v-icon>clear</v-icon>\n                    </v-btn>\n                  </v-tooltip>\n                </v-flex>\n                <v-flex\n                  xs1\n                  class=\"pb-2\"\n                >\n                  <v-tooltip\n                    bottom\n                    v-if=\"showPhoneAdd(phone)\"\n                    :disabled=\"$store.state.tooltips\"\n                  >\n                    <span>Add</span>\n                    <v-btn\n                      flat\n                      icon\n                      small\n                      slot=\"activator\"\n                      color=\"blue darken-2\"\n                      class=\"ml-0\"\n                      @click=\"addPhone\"\n                    >\n                      <v-icon>add_circle</v-icon>\n                    </v-btn>\n                  </v-tooltip>\n                </v-flex>\n              </v-layout>\n              <!-- Phone Markup end -->\n            </v-list-tile>\n          </v-list>\n          <!-- Phones Markup end -->\n\n          <!-- Emails Markup start -->\n          <v-list\n            class=\"pt-0 pb-0\"\n          >\n            <v-list-tile\n              v-for=\"email in contact.emails\"\n              :key=\"email.id\"\n              id=\"email_tile\"\n            >\n              <!-- Email Markup start -->\n              <v-layout\n                row\n                wrap\n                align-center\n                class=\"add-contact-row\"\n                @mouseenter=\"currentEmailHover = email.id\"\n                @mouseleave=\"currentEmailHover = null\"\n              >\n                <v-flex xs2 class=\"text-xs-center\">\n                  <v-icon\n                    v-if=\"showEmailIcon(email.id)\"\n                  >\n                    mail\n                  </v-icon>\n                </v-flex>\n\n                <template\n                  v-if=\"!email.value\"\n                >\n                  <v-flex xs8>\n                    <v-text-field\n                      :ref=\"`email_${email.id}`\"\n                      placeholder=\"Email\"\n                      class=\"caption\"\n                      v-model=\"email.value\"\n                      required\n                      :rules=\"emailRules\"\n                      :validateOnBlur=\"true\"\n                    />\n                  </v-flex>\n                </template>\n\n                <template\n                  v-else\n                >\n                  <v-flex xs5>\n                    <v-text-field\n                      :ref=\"`email_${email.id}`\"\n                      placeholder=\"Email\"\n                      class=\"caption\"\n                      v-model=\"email.value\"\n                      required\n                      :rules=\"emailRules\"\n                      :validateOnBlur=\"true\"\n                    />\n                  </v-flex>\n                  <v-flex xs3>\n                    <v-select\n                      :items=\"labels\"\n                      v-model=\"email.label\"\n                      label=\"Label\"\n                      single-line\n                      autocomplete\n                    >\n                    </v-select>\n                  </v-flex>\n                </template>\n                <v-flex\n                  xs1\n                  class=\"pb-2 pl-0 ml-0\"\n                >\n                  <v-tooltip\n                    bottom\n                    v-if=\"showEmailRemove(email)\"\n                    :disabled=\"$store.state.tooltips\"\n                  >\n                    <span>Remove</span>\n                    <v-btn\n                      flat\n                      icon\n                      small\n                      slot=\"activator\"\n                      color=\"grey\"\n                      class=\"action-button\"\n                      @click=\"removeEmail(email)\"\n                    >\n                      <v-icon>clear</v-icon>\n                    </v-btn>\n                  </v-tooltip>\n                </v-flex>\n                <v-flex\n                  xs1\n                  class=\"pb-2\"\n                >\n                  <v-tooltip\n                    bottom\n                    v-if=\"showEmailAdd(email)\"\n                    :disabled=\"$store.state.tooltips\"\n                  >\n                    <span>Add</span>\n                    <v-btn\n                      flat\n                      icon\n                      small\n                      slot=\"activator\"\n                      color=\"blue darken-2\"\n                      class=\"ml-0\"\n                      @click=\"addEmail\"\n                    >\n                      <v-icon>add_circle</v-icon>\n                    </v-btn>\n                  </v-tooltip>\n                </v-flex>\n              </v-layout>\n              <!-- Email Markup end -->\n            </v-list-tile>\n          </v-list>\n          <!-- Emails Markup end -->\n        </v-container>\n\n        <v-card-actions\n          class=\"pt-0\"\n        >\n          <v-spacer/>\n          <v-btn\n            flat\n            large\n            color=\"primary\"\n            @click=\"cancelEditContact\"\n          >Cancel</v-btn>\n          <v-btn\n            flat\n            large\n            color=\"success\"\n            @click=\"saveEditedContact\"\n            :disabled=\"!validEntries()\"\n          >Save</v-btn>\n        </v-card-actions>\n      </div>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\n  import $ from 'jquery'\n  import { saveContact } from '../api/database'\n  const Modernizr = require('../../src/assets/js/modernizr-custom')\n  require('intl-tel-input')\n\n  export default {\n    name: 'edit-contact',\n    data: () => {\n      return {\n        avatar_hover: false,\n        menu: false,\n        contact: {\n          id: null,\n          fullName: '',\n          avatar: {},\n          emails: [],\n          phones: [],\n          addresses: [],\n          starred: false,\n          hidden: false\n        },\n        temp_contact: {\n          id: null,\n          fullName: '',\n          avatar: {},\n          emails: [],\n          phones: [],\n          addresses: [],\n          starred: false,\n          hidden: false\n        },\n        labels: ['Home', 'Work', 'Other'],\n        fullNameHover: false,\n        dateOfBirthHover: false,\n        currentAddressHover: null,\n        currentPhoneHover: null,\n        currentEmailHover: null,\n        fullNameRules: [\n          (v) => !!v || 'Full Name is required',\n          (v) => (v && v.split(' ').length > 1 && v.split(' ')[1].length > 0) || 'Full Name must have at least 2 names'\n        ],\n        dateOfBirthRules: [\n          (v) => !!v || 'Date of Birth is required'\n        ],\n        phoneRules: [\n          (v) => !!v || 'Phone is required'\n        ],\n        emailRules: [\n          (v) => !!v || 'Email is required',\n          (v) => /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || 'E-mail must be valid'\n        ]\n      }\n    },\n\n    computed: {\n      contactToEdit: function () {\n        const contact = this.$store.getters.getActiveContact\n        if (contact) this.temp_contact = JSON.parse(JSON.stringify(contact))\n        return contact ? JSON.parse(JSON.stringify(contact)) : this.temp_contact\n      },\n      newAddressId: function () {\n        return this.contact.addresses.slice(-1)[0].id + 1\n      },\n      newPhoneId: function () {\n        return this.contact.phones.slice(-1)[0].id + 1\n      },\n      newEmailId: function () {\n        return this.contact.emails.slice(-1)[0].id + 1\n      }\n    },\n\n    methods: {\n      openSlim: function () {\n        if (this.contact.avatar) {\n          this.$store.state.slim.instance.load(this.contact.avatar.avatar, (error, data) => {\n            if (error) {\n              this.$store.dispatch('setSnackbar', {\n                color: 'info',\n                message: 'Unable to automatically load your avatar. Proceed with manual upload.'\n              })\n            }\n          })\n        }\n        this.$store.dispatch('setSlim', {contact: this.contact})\n      },\n      addAddress: function () {\n        this.contact.addresses.push({\n          id: this.newAddressId + 1,\n          value: '',\n          label: ''\n        })\n      },\n      addPhone: function () {\n        this.contact.phones.push({\n          id: this.newPhoneId + 1,\n          value: '',\n          label: ''\n        })\n      },\n      addEmail: function () {\n        this.contact.emails.push({\n          id: this.newEmailId + 1,\n          value: '',\n          label: ''\n        })\n      },\n      removeAvatar: function () {\n        this.contact.avatar = null\n      },\n      removeFullName: function () {\n        this.contact.fullName = ''\n        this.$refs.fullName.reset()\n      },\n      removeDateOfBirth: function () {\n        this.contact.dateOfBirth = null\n        this.$refs.dateOfBirth.reset()\n      },\n      removeAddress: function (address) {\n        if (this.contact.addresses.length > 1) {\n          this.contact.addresses = this.contact.addresses.filter(\n            (currentAddress) => {\n              return currentAddress.id !== address.id\n            })\n        } else {\n          address.id = null\n          address.value = ''\n          address.label = ''\n        }\n      },\n      removePhone: function (phone) {\n        if (this.contact.phones.length > 1) {\n          this.contact.phones = this.contact.phones.filter(\n            (currentPhone) => {\n              return currentPhone.id !== phone.id\n            }\n          )\n        } else {\n          phone.id = null\n          phone.value = ''\n          phone.label = ''\n          let phoneRefs = this.$refs[`phone_${phone.id}`]\n          if (phoneRefs && phoneRefs.length > 0) {\n            for (let phoneRef of phoneRefs) {\n              phoneRef.reset()\n            }\n          }\n        }\n      },\n      removeEmail: function (email) {\n        if (this.contact.emails.length > 1) {\n          this.contact.emails = this.contact.emails.filter(\n            (currentEmail) => {\n              return currentEmail.id !== email.id\n            }\n          )\n        } else {\n          email.id = null\n          email.value = ''\n          email.label = ''\n          let emailRefs = this.$refs[`email_${email.id}`]\n          if (emailRefs && emailRefs.length > 0) {\n            for (let emailRef of emailRefs) {\n              emailRef.reset()\n            }\n          }\n        }\n      },\n      clearEditContact: function () {\n        this.removeFullName()\n        this.removeDateOfBirth()\n        if (this.contact.addresses) {\n          for (let address of this.contact.addresses) {\n            this.removeAddress(address)\n          }\n        }\n        if (this.contact.phones) {\n          for (let phone of this.contact.phones) {\n            this.removePhone(phone)\n          }\n        }\n        if (this.contact.emails) {\n          for (let email of this.contact.emails) {\n            this.removeEmail(email)\n          }\n        }\n      },\n      cancelEditContact: function () {\n        this.clearEditContact()\n        this.contact = JSON.parse(JSON.stringify(this.temp_contact))\n        this.$store.dispatch('toggleEditContact')\n        this.$store.dispatch('setActiveId', null)\n      },\n      validEntries: function () {\n        let fullName = false\n        if (this.$refs.fullName) {\n          fullName = this.$refs.fullName.valid\n        }\n\n        let dateOfBirth = false\n        if (this.$refs.dateOfBirth) {\n          dateOfBirth = this.$refs.dateOfBirth.valid\n        }\n\n        const addresses = () => {\n          for (const address of this.$refs.addresses) {\n            if (!address.valid) {\n              return false\n            }\n          }\n          return true\n        }\n\n        let phones = () => {\n          if (!this.contact.phones) return false\n          for (const phone of this.contact.phones) {\n            if (phone.id !== null && phone.id !== undefined) {\n              if (!(this.$refs[`phone_${phone.id}`] && this.$refs[`phone_${phone.id}`][0].valid)) {\n                return false\n              }\n            }\n          }\n          return this.contact.phones[0] ? !!this.contact.phones[0].value : false\n        }\n\n        let emails = () => {\n          for (const email of this.contact.emails) {\n            if (email.id !== null && email.id !== undefined) {\n              if (!(this.$refs[`email_${email.id}`] && this.$refs[`email_${email.id}`][0].valid)) {\n                return false\n              }\n            }\n          }\n          return !!this.contact.emails[0].value\n        }\n\n        return (fullName && dateOfBirth && addresses() && phones() && emails())\n      },\n      saveEditedContact: function () {\n        let myThis = this\n        if (this.validEntries()) {\n          this.$store.dispatch('setSnackbar', {\n            color: 'info',\n            message: 'Saving contact...'\n          })\n          let callback = function (error) {\n            let snackbar = {}\n            if (error) {\n              snackbar = {\n                color: 'error',\n                message: `${error}`\n              }\n            } else {\n              snackbar = {\n                color: 'success',\n                message: 'Contact saved successfully!'\n              }\n            }\n            myThis.$store.dispatch('setSnackbar', snackbar)\n          }\n          saveContact(myThis.contact, callback)\n          this.toggleEdit(this.contact.id)\n        } else {\n          this.$store.dispatch('setSnackbar', {\n            color: 'error',\n            message: 'There were errors. Correct and resubmit'\n          })\n        }\n      },\n      toggleEdit: function (id) {\n        this.$store.dispatch('setActiveId', id)\n        this.$store.dispatch('toggleEditContact')\n        if (!this.$store.state.view_contact) {\n          this.$store.dispatch('setViewTransition', false)\n          this.$nextTick(() => {\n            this.$store.dispatch('toggleViewContact')\n          })\n        }\n      },\n      showAddressAdd: function (address) {\n        return address.id === this.contact.addresses[this.contact.addresses.length - 1].id && !!address.value\n      },\n      showPhoneAdd: function (phone) {\n        return phone.id === this.contact.phones[this.contact.phones.length - 1].id && !!phone.value\n      },\n      showEmailAdd: function (email) {\n        return email.id === this.contact.emails[this.contact.emails.length - 1].id && !!email.value\n      },\n      showAddressIcon: function (id) {\n        return id === this.contact.addresses[0].id\n      },\n      showPhoneIcon: function (id) {\n        return id === this.contact.phones[0].id\n      },\n      showEmailIcon: function (id) {\n        return id === this.contact.emails[0].id\n      },\n      showFullNameRemove: function () {\n        return !!this.contact.fullName && (Modernizr.touchevents ? true : this.fullNameHover)\n      },\n      showDateOfBirthRemove: function () {\n        return !!this.contact.dateOfBirth && (Modernizr.touchevents ? true : this.dateOfBirthHover)\n      },\n      showAddressRemove: function (address) {\n        return this.currentAddressHover === address.id && !!address.value\n      },\n      showPhoneRemove: function (phone) {\n        return this.currentPhoneHover === phone.id && !!phone.value\n      },\n      showEmailRemove: function (email) {\n        return this.currentEmailHover === email.id && !!email.value\n      }\n    },\n\n    beforeUpdate () {\n      this.contact = this.contactToEdit\n    },\n\n    updated () {\n      let instance = this\n      let cookie = this.$cookie\n      let phones = this.contact.phones\n      let countryCode = cookie.get('countryCode') || ''\n      $(\"div[id^='country_']\").each(function () {\n        const phoneId = $(this).attr('id').split('_')[1]\n        const countrySelect = $(this)\n        countrySelect.intlTelInput({\n          preferredCountries: [countryCode],\n          initialCountry: 'auto',\n          geoIpLookup: function (callback) {\n            if (countryCode !== null && countryCode !== '') {\n              callback(countryCode)\n              instance.$nextTick(function () {\n                countrySelect.intlTelInput('setCountry', countryCode)\n              })\n            } else {\n              $.get('https://ipinfo.io', function () {}, 'jsonp')\n                .always(function (resp) {\n                  countryCode = (resp && resp.country) ? resp.country : ''\n                  cookie.set('countryCode', countryCode, {expires: 1})\n                  callback(countryCode)\n                  instance.$nextTick(function () {\n                    countrySelect.intlTelInput('setCountry', countryCode)\n                  })\n                })\n            }\n          }\n        })\n\n        countrySelect.on('close:countrydropdown', function () {\n          let dialCode = countrySelect.intlTelInput('getSelectedCountryData').dialCode\n          let phone = phones.find(function (phone) {\n            return phone.id === parseInt(phoneId)\n          })\n          if (!!phone.value && phone.value.indexOf(' ') !== -1) {\n            phone.value = `+${dialCode}${phone.value.slice(phone.value.indexOf(' '))}`\n          } else {\n            phone.value = `+${dialCode} `\n          }\n          $(`#country_${phoneId}_text`).focus()\n        })\n      })\n    }\n  }\n</script>\n\n<style scoped>\n\n  .add-contact-row {\n    max-height: 50px\n  }\n\n  @media (max-width: 468px) {\n    .action-button {\n      margin-left: 0\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/EditContact.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"fullscreen\":_vm.$vuetify.breakpoint.smAndDown,\"width\":\"700px\",\"transition\":\"dialog-transition\",\"hide-overlay\":false},model:{value:(_vm.$store.state.edit_contact),callback:function ($$v) {_vm.$set(_vm.$store.state, \"edit_contact\", $$v)},expression:\"$store.state.edit_contact\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"grey lighten-4 py-4 title\"},[_vm._v(\"\\n      Edit contact\\n    \")]),_vm._v(\" \"),_c('div',{style:({borderBottom: '1px solid lightgrey'})},[_c('v-container',{staticClass:\"pt-4 pb-0\",attrs:{\"grid-list-sm\":\"\"}},[_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseleave\":function($event){_vm.fullNameHover = false},\"mouseenter\":function($event){_vm.fullNameHover = true}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"},on:{\"mouseenter\":function($event){_vm.avatar_hover = true},\"mouseleave\":function($event){_vm.avatar_hover = false}}},[_c('v-avatar',{style:({\n                  cursor: 'pointer',\n                  backgroundSize: 'contain',\n                  backgroundColor: 'white',\n                  backgroundImage: _vm.contact.avatar ? (\"url(\" + (_vm.contact.avatar.thumbnail || _vm.contact.avatar.avatar) + \")\") : 'url(../../static/avatars/grey_silhouette.png)',\n                  backgroundRepeat: 'no-repeat',\n                  backgroundPosition: 'center center',\n                  border: '2px solid #E3E3DE'\n                }),attrs:{\"size\":\"50px\"},on:{\"click\":_vm.openSlim}},[_c('v-btn',{staticClass:\"ma-0\",style:({opacity: _vm.avatar_hover ? '0.5' : '0'}),attrs:{\"fab\":\"\",\"small\":\"\",\"color\":\"black\"}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"\\n                  photo_camera\\n                \")])],1)],1)],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"xs8\"},[_c('v-text-field',{ref:\"fullName\",staticClass:\"caption\",attrs:{\"autofocus\":\"\",\"placeholder\":\"Full Name\",\"rules\":_vm.fullNameRules,\"required\":\"\",\"validateOnBlur\":true},model:{value:(_vm.contact.fullName),callback:function ($$v) {_vm.$set(_vm.contact, \"fullName\", $$v)},expression:\"contact.fullName\"}})],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showFullNameRemove())?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":_vm.removeFullName},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseleave\":function($event){_vm.dateOfBirthHover = false},\"mouseenter\":function($event){_vm.dateOfBirthHover = true}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"}},[_c('v-icon',[_vm._v(\"\\n              event\\n            \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-menu',{attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"nudge-right\":40,\"max-width\":\"290px\",\"min-width\":\"290px\"},model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-text-field',{ref:\"dateOfBirth\",staticClass:\"caption\",attrs:{\"slot\":\"activator\",\"placeholder\":\"Date of Birth\",\"readonly\":\"\",\"rules\":_vm.dateOfBirthRules},slot:\"activator\",model:{value:(_vm.contact.dateOfBirth),callback:function ($$v) {_vm.$set(_vm.contact, \"dateOfBirth\", $$v)},expression:\"contact.dateOfBirth\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\",\"actions\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                var save = ref.save;\n                var cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":save}},[_vm._v(\"OK\\n                    \")])],1)]}}]),model:{value:(_vm.contact.dateOfBirth),callback:function ($$v) {_vm.$set(_vm.contact, \"dateOfBirth\", $$v)},expression:\"contact.dateOfBirth\"}})],1)],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showDateOfBirthRemove())?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":_vm.removeDateOfBirth},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('v-spacer')],1),_vm._v(\" \"),_c('v-list',{staticClass:\"pt-0 pb-0\"},_vm._l((_vm.contact.addresses),function(address){return _c('v-list-tile',{key:address.id,attrs:{\"id\":\"address_tile\"}},[_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseenter\":function($event){_vm.currentAddressHover = address.id},\"mouseleave\":function($event){_vm.currentAddressHover = null}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"}},[(_vm.showAddressIcon(address.id))?_c('v-icon',[_vm._v(\"\\n                  location_on\\n                \")]):_vm._e()],1),_vm._v(\" \"),(address.value.length === 0)?[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{ref:\"addresses\",refInFor:true,staticClass:\"caption\",attrs:{\"placeholder\":\"Address\"},model:{value:(address.value),callback:function ($$v) {_vm.$set(address, \"value\", $$v)},expression:\"address.value\"}})],1)]:[_c('v-flex',{attrs:{\"xs5\":\"\"}},[_c('v-text-field',{ref:\"addresses\",refInFor:true,staticClass:\"caption\",attrs:{\"placeholder\":\"Address\"},model:{value:(address.value),callback:function ($$v) {_vm.$set(address, \"value\", $$v)},expression:\"address.value\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.labels,\"label\":\"Label\",\"single-line\":\"\",\"autocomplete\":\"\"},model:{value:(address.label),callback:function ($$v) {_vm.$set(address, \"label\", $$v)},expression:\"address.label\"}})],1)],_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showAddressRemove(address))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){_vm.removeAddress(address)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2\",attrs:{\"xs1\":\"\"}},[(_vm.showAddressAdd(address))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Add\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"blue darken-2\"},on:{\"click\":_vm.addAddress},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add_circle\")])],1)],1):_vm._e()],1)],2)],1)})),_vm._v(\" \"),_c('v-list',{staticClass:\"pt-0 pb-0\"},_vm._l((_vm.contact.phones),function(phone){return _c('v-list-tile',{key:phone.id,attrs:{\"id\":\"phone_tile\"}},[_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseenter\":function($event){_vm.currentPhoneHover = phone.id},\"mouseleave\":function($event){_vm.currentPhoneHover = null}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"}},[(_vm.showPhoneIcon(phone.id))?_c('v-icon',[_vm._v(\"\\n                  phone\\n                \")]):_vm._e()],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-3 pr-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[_c('div',{staticClass:\"ml-0 pl-0\",attrs:{\"id\":(\"country_\" + (phone.id))}})]),_vm._v(\" \"),(!phone.value)?[_c('v-flex',{attrs:{\"xs7\":\"\"}},[_c('v-text-field',{ref:(\"phone_\" + (phone.id)),refInFor:true,staticClass:\"caption\",attrs:{\"type\":\"tel\",\"placeholder\":\"Phone\",\"id\":(\"country_\" + (phone.id) + \"_text\"),\"required\":\"\",\"rules\":_vm.phoneRules,\"validateOnBlur\":true},model:{value:(phone.value),callback:function ($$v) {_vm.$set(phone, \"value\", $$v)},expression:\"phone.value\"}})],1)]:[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-text-field',{ref:(\"phone_\" + (phone.id)),refInFor:true,staticClass:\"caption\",attrs:{\"type\":\"tel\",\"placeholder\":\"Phone\",\"id\":(\"country_\" + (phone.id) + \"_text\"),\"required\":\"\",\"rules\":_vm.phoneRules,\"validateOnBlur\":true},model:{value:(phone.value),callback:function ($$v) {_vm.$set(phone, \"value\", $$v)},expression:\"phone.value\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.labels,\"label\":\"Label\",\"single-line\":\"\",\"autocomplete\":\"\"},model:{value:(phone.label),callback:function ($$v) {_vm.$set(phone, \"label\", $$v)},expression:\"phone.label\"}})],1)],_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showPhoneRemove(phone))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){_vm.removePhone(phone)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2\",attrs:{\"xs1\":\"\"}},[(_vm.showPhoneAdd(phone))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Add\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"blue darken-2\"},on:{\"click\":_vm.addPhone},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add_circle\")])],1)],1):_vm._e()],1)],2)],1)})),_vm._v(\" \"),_c('v-list',{staticClass:\"pt-0 pb-0\"},_vm._l((_vm.contact.emails),function(email){return _c('v-list-tile',{key:email.id,attrs:{\"id\":\"email_tile\"}},[_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseenter\":function($event){_vm.currentEmailHover = email.id},\"mouseleave\":function($event){_vm.currentEmailHover = null}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"}},[(_vm.showEmailIcon(email.id))?_c('v-icon',[_vm._v(\"\\n                  mail\\n                \")]):_vm._e()],1),_vm._v(\" \"),(!email.value)?[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{ref:(\"email_\" + (email.id)),refInFor:true,staticClass:\"caption\",attrs:{\"placeholder\":\"Email\",\"required\":\"\",\"rules\":_vm.emailRules,\"validateOnBlur\":true},model:{value:(email.value),callback:function ($$v) {_vm.$set(email, \"value\", $$v)},expression:\"email.value\"}})],1)]:[_c('v-flex',{attrs:{\"xs5\":\"\"}},[_c('v-text-field',{ref:(\"email_\" + (email.id)),refInFor:true,staticClass:\"caption\",attrs:{\"placeholder\":\"Email\",\"required\":\"\",\"rules\":_vm.emailRules,\"validateOnBlur\":true},model:{value:(email.value),callback:function ($$v) {_vm.$set(email, \"value\", $$v)},expression:\"email.value\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.labels,\"label\":\"Label\",\"single-line\":\"\",\"autocomplete\":\"\"},model:{value:(email.label),callback:function ($$v) {_vm.$set(email, \"label\", $$v)},expression:\"email.label\"}})],1)],_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showEmailRemove(email))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){_vm.removeEmail(email)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2\",attrs:{\"xs1\":\"\"}},[(_vm.showEmailAdd(email))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Add\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"blue darken-2\"},on:{\"click\":_vm.addEmail},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add_circle\")])],1)],1):_vm._e()],1)],2)],1)}))],1),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"pt-0\"},[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"large\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.cancelEditContact}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"large\":\"\",\"color\":\"success\",\"disabled\":!_vm.validEntries()},on:{\"click\":_vm.saveEditedContact}},[_vm._v(\"Save\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5974bbda\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditContact.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5974bbda\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditContact.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditContact.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditContact.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5974bbda\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditContact.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5974bbda\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditContact.vue\n// module id = null\n// module chunks = ","<template>\n  <v-dialog\n    v-model=\"$store.state.view_contact\"\n    :fullscreen=\"$vuetify.breakpoint.smAndDown\"\n    width=\"700px\"\n    :transition=\"$store.state.view_transition\"\n    :hide-overlay=\"false\"\n  >\n    <v-card>\n      <v-card-actions\n        class=\"py-3 px-4 title grey lighten-4\"\n        :style=\"{minHeight: '60px'}\"\n      >\n        <v-flex\n          v-if=\"$vuetify.breakpoint.mdAndUp\"\n        >\n          <v-avatar\n            size=\"70px\"\n            class=\"mr-3\"\n            @click=\"openSlim\"\n            @mouseenter=\"avatar_hover = true\"\n            @mouseleave=\"avatar_hover = false\"\n            :style=\"{\n                    cursor: 'pointer',\n                    backgroundSize: 'contain',\n                    backgroundColor: 'white',\n                    backgroundImage: contact.avatar ? `url(${contact.avatar.thumbnail || contact.avatar.avatar })` : 'url(../../static/avatars/grey_silhouette.png)',\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center center',\n                    border: '5px solid #E3E3DE'\n                  }\"\n          >\n            <v-btn\n              fab\n              color=\"black\"\n              class=\"ma-0\"\n              :style=\"{opacity: avatar_hover ? '0.5' : '0'}\"\n            >\n              <v-icon\n                large\n                color=\"white\"\n              >\n                photo_camera\n              </v-icon>\n            </v-btn>\n          </v-avatar>\n          <span\n            class=\"py-4 headline\"\n          >\n            {{ contact.fullName }}\n          </span>\n        </v-flex>\n\n        <v-tooltip\n          bottom\n          v-if=\"$vuetify.breakpoint.smAndDown\"\n          :disabled=\"$store.state.tooltips\"\n        >\n          <span>Close</span>\n          <v-btn\n            flat\n            icon\n            small\n            color=\"grey darken-3\"\n            slot=\"activator\"\n            class=\"pa-0 ma-0\"\n            @click=\"toggleView\"\n          >\n            <v-icon>close</v-icon>\n          </v-btn>\n        </v-tooltip>\n\n        <v-spacer/>\n\n        <v-tooltip\n          bottom\n          :disabled=\"$store.state.tooltips\"\n        >\n          <span>Star contact</span>\n          <v-btn\n            flat\n            icon\n            small\n            slot=\"activator\"\n            class=\"pa-0 ma-0\"\n            @click=\"contact ? contact.starred = !contact.starred : false\"\n          >\n            <v-icon\n              v-if=\"contact ? !contact.starred : false\"\n              color=\"grey darken-3\"\n            >\n              star_border\n            </v-icon>\n            <v-icon\n              v-else\n              color=\"pink\"\n            >\n              star\n            </v-icon>\n          </v-btn>\n        </v-tooltip>\n\n        <v-tooltip\n          bottom\n          :disabled=\"$store.state.tooltips\"\n        >\n          <span>Edit contact</span>\n          <v-btn\n            flat\n            icon\n            small\n            color=\"grey darken-3\"\n            slot=\"activator\"\n            class=\"pa-0 ma-0\"\n            @click=\"toggleEdit(contact.id)\"\n          >\n            <v-icon>mode_edit</v-icon>\n          </v-btn>\n        </v-tooltip>\n\n        <v-tooltip\n          bottom\n          :max-width=\"100\"\n          :disabled=\"$store.state.tooltips\"\n        >\n          <span>More actions</span>\n          <v-menu\n            bottom\n            left\n            origin=\"center center\"\n            transition=\"scale-transition\"\n            :min-width=\"250\"\n            slot=\"activator\"\n            class=\"pa-0 ma-0\"\n\n          >\n            <v-btn\n              flat\n              icon\n              small\n              color=\"grey darken-3\"\n              slot=\"activator\"\n              class=\"pa-0 ma-0\"\n            >\n              <v-icon>more_vert</v-icon>\n            </v-btn>\n            <v-list>\n              <v-list-tile\n                avatar\n                v-for=\"item in $store.getters.getMoreItems\"\n                :key=\"item.title\"\n                @click=\"moreActions(item.name, contact.id)\">\n                <v-list-tile-avatar>\n                  <v-icon>\n                    {{ item.icon }}\n                  </v-icon>\n                </v-list-tile-avatar>\n                <v-list-tile-title\n                  class=\"body-1 pl-0 ml-0\"\n                >\n                  {{ item.title }}\n                </v-list-tile-title>\n              </v-list-tile>\n            </v-list>\n          </v-menu>\n        </v-tooltip>\n\n        <v-tooltip\n          bottom\n          v-if=\"$vuetify.breakpoint.mdAndUp\"\n        >\n          <span>Close</span>\n          <v-btn\n            flat\n            icon\n            small\n            color=\"grey darken-3\"\n            slot=\"activator\"\n            class=\"pa-0 ma-0\"\n            :disabled=\"$store.state.tooltips\"\n            @click=\"toggleView\"\n          >\n            <v-icon>close</v-icon>\n          </v-btn>\n        </v-tooltip>\n\n      </v-card-actions>\n\n      <v-card-actions\n        class=\"py-0 px-0 title\"\n        v-if=\"$vuetify.breakpoint.smAndDown\"\n        :style=\"{borderTop: '1px solid lightgray'}\"\n      >\n        <v-flex\n          class=\"grey lighten-4 ma-0 pa-4\"\n          :style=\"{border: '0'}\"\n        >\n          <v-avatar\n            size=\"70px\"\n            class=\"mr-3\"\n            @click=\"openSlim\"\n            @mouseenter=\"avatar_hover = true\"\n            @mouseleave=\"avatar_hover = false\"\n            :style=\"{\n                    cursor: 'pointer',\n                    backgroundSize: 'contain',\n                    backgroundColor: 'white',\n                    backgroundImage: contact.avatar ? `url(${contact.avatar.thumbnail || contact.avatar.avatar})` : 'url(../../static/avatars/grey_silhouette.png)',\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center center',\n                    border: '5px solid #E3E3DE'\n                  }\"\n          >\n            <v-btn\n              fab\n              color=\"black\"\n              class=\"ma-0\"\n              :style=\"{opacity: avatar_hover ? '0.5' : '0'}\"\n            >\n              <v-icon\n                color=\"white\"\n                large\n              >\n                photo_camera\n              </v-icon>\n            </v-btn>\n          </v-avatar>\n\n          <span\n            class=\"headline\"\n          >\n            {{ contact.fullName }}\n          </span>\n        </v-flex>\n      </v-card-actions>\n\n      <v-list\n        subheader\n        three-line\n        class=\"pt-3 pb-5\"\n        :style=\"{borderBottom: '1px solid lightgray'}\"\n      >\n        <v-subheader\n          class=\"pt-2 pl-4\"\n          :style=\"{color: 'black'}\"\n        >\n          Contact details\n        </v-subheader>\n\n        <v-list-tile\n          avatar\n          class=\"ml-4 pl-2 pb-5\"\n          v-for=\"item in iterableContactDetails\"\n          :key=\"item.icon\"\n          :style=\"{maxHeight: '60px'}\"\n        >\n          <!--TODO add dateOfBirth to iterableContactDetails-->\n          <v-list-tile-avatar\n            class=\"mr-3 pt-0\"\n          >\n            <v-icon>\n              {{ item.icon }}\n            </v-icon>\n          </v-list-tile-avatar>\n          <v-list-tile-content>\n            <v-list\n              v-for=\"(detail, index) in item.details\"\n              :key=\"index\"\n              class=\"pb-0\"\n            >\n              <v-list-tile-sub-title\n                v-html=\"detail\">\n              </v-list-tile-sub-title>\n            </v-list>\n          </v-list-tile-content>\n        </v-list-tile>\n      </v-list>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\n  export default {\n    name: 'view-contact',\n    data: () => {\n      return {\n        avatar_hover: false,\n        temp_contact: {\n          id: null,\n          fullName: '',\n          avatar: '',\n          emails: [],\n          phones: [],\n          addresses: [],\n          starred: false,\n          hidden: false\n        }\n      }\n    },\n\n    methods: {\n      openSlim: function () {\n        if (this.contact.avatar) {\n          this.$store.state.slim.instance.load(this.contact.avatar.avatar, (error, data) => {\n            if (error) {\n              this.$store.dispatch('setSnackbar', {\n                color: 'info',\n                message: 'Unable to automatically load your avatar. Proceed with manual upload.'\n              })\n            }\n          })\n        }\n        this.$store.dispatch('setSlim', {contact: this.contact})\n      },\n\n      toggleView: function () {\n        this.$store.dispatch('setViewTransition', 'dialog-transition')\n        this.$store.dispatch('toggleViewContact')\n      },\n\n      toggleEdit: function (id) {\n        this.$store.dispatch('toggleEditContact')\n        this.$nextTick(() => {\n          this.$parent.$refs.edit_contact_dialog.$refs.fullName.focus()\n        })\n      },\n\n      toggleDelete: function () {\n        this.$store.dispatch('toggleDeleteContact')\n      },\n\n      hideContact: function () {\n        // TODO implement this functionality\n      },\n\n      moreActions: function (itemName, id) {\n        switch (itemName) {\n          case 'Delete':\n            this.toggleDelete(id)\n            break\n          case 'Hide':\n            this.hideContact(id)\n            break\n        }\n      }\n    },\n\n    computed: {\n      contact: function () {\n        const contact = this.$store.getters.getActiveContact\n        if (this.$store.state.edit_contact) {\n          this.temp_contact = JSON.parse(JSON.stringify(contact))\n        }\n        return contact || this.temp_contact\n      },\n      iterableContactDetails: function () {\n        if (this.contact.hasOwnProperty('id')) {\n          let iterableContactDetails = []\n          const icons = this.$store.state.icons\n          const noDecoration = `style=\"text-decoration: none\"`\n          for (let [entry, values] of Object.entries(this.contact)) {\n            if (icons.hasOwnProperty(entry)) {\n              let details = []\n              switch (entry) {\n                case 'emails':\n                  for (const email of values) {\n                    let detail = `<a href=\"mailto:${email.value}\" ${noDecoration}>${email.value}</a>`\n                    detail += email.label ? ` • ${email.label}` : ''\n                    details.push(detail)\n                  }\n                  break\n                case 'phones':\n                  for (const phone of values) {\n                    let detail = `<a href=\"tel:${phone.value}\" ${noDecoration}>${phone.value}</a>`\n                    detail += phone.label ? ` • ${phone.label}` : ''\n                    details.push(detail)\n                  }\n                  break\n                case 'addresses':\n                  for (const address of values) {\n                    const encoded = encodeURIComponent(address.value)\n                    const gMapURI = `\"https://maps.google.com/maps?q=${encoded}\"`\n                    const href = `${gMapURI} target='_blank'`\n                    let detail = `<a href=${href} ${noDecoration}>${address.value}</a>`\n                    detail += address.label ? ` • ${address.label}` : ''\n                    details.push(detail)\n                  }\n                  break\n              }\n\n              iterableContactDetails.push({\n                icon: icons[entry],\n                details: details\n              })\n            }\n          }\n          return iterableContactDetails\n        }\n        return {}\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ViewContact.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"fullscreen\":_vm.$vuetify.breakpoint.smAndDown,\"width\":\"700px\",\"transition\":_vm.$store.state.view_transition,\"hide-overlay\":false},model:{value:(_vm.$store.state.view_contact),callback:function ($$v) {_vm.$set(_vm.$store.state, \"view_contact\", $$v)},expression:\"$store.state.view_contact\"}},[_c('v-card',[_c('v-card-actions',{staticClass:\"py-3 px-4 title grey lighten-4\",style:({minHeight: '60px'})},[(_vm.$vuetify.breakpoint.mdAndUp)?_c('v-flex',[_c('v-avatar',{staticClass:\"mr-3\",style:({\n                  cursor: 'pointer',\n                  backgroundSize: 'contain',\n                  backgroundColor: 'white',\n                  backgroundImage: _vm.contact.avatar ? (\"url(\" + (_vm.contact.avatar.thumbnail || _vm.contact.avatar.avatar) + \")\") : 'url(../../static/avatars/grey_silhouette.png)',\n                  backgroundRepeat: 'no-repeat',\n                  backgroundPosition: 'center center',\n                  border: '5px solid #E3E3DE'\n                }),attrs:{\"size\":\"70px\"},on:{\"click\":_vm.openSlim,\"mouseenter\":function($event){_vm.avatar_hover = true},\"mouseleave\":function($event){_vm.avatar_hover = false}}},[_c('v-btn',{staticClass:\"ma-0\",style:({opacity: _vm.avatar_hover ? '0.5' : '0'}),attrs:{\"fab\":\"\",\"color\":\"black\"}},[_c('v-icon',{attrs:{\"large\":\"\",\"color\":\"white\"}},[_vm._v(\"\\n              photo_camera\\n            \")])],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"py-4 headline\"},[_vm._v(\"\\n          \"+_vm._s(_vm.contact.fullName)+\"\\n        \")])],1):_vm._e(),_vm._v(\" \"),(_vm.$vuetify.breakpoint.smAndDown)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Close\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"pa-0 ma-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey darken-3\"},on:{\"click\":_vm.toggleView},slot:\"activator\"},[_c('v-icon',[_vm._v(\"close\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Star contact\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"pa-0 ma-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.contact ? _vm.contact.starred = !_vm.contact.starred : false}},slot:\"activator\"},[(_vm.contact ? !_vm.contact.starred : false)?_c('v-icon',{attrs:{\"color\":\"grey darken-3\"}},[_vm._v(\"\\n            star_border\\n          \")]):_c('v-icon',{attrs:{\"color\":\"pink\"}},[_vm._v(\"\\n            star\\n          \")])],1)],1),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Edit contact\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"pa-0 ma-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey darken-3\"},on:{\"click\":function($event){_vm.toggleEdit(_vm.contact.id)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mode_edit\")])],1)],1),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":100,\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"More actions\")]),_vm._v(\" \"),_c('v-menu',{staticClass:\"pa-0 ma-0\",attrs:{\"slot\":\"activator\",\"bottom\":\"\",\"left\":\"\",\"origin\":\"center center\",\"transition\":\"scale-transition\",\"min-width\":250},slot:\"activator\"},[_c('v-btn',{staticClass:\"pa-0 ma-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey darken-3\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"more_vert\")])],1),_vm._v(\" \"),_c('v-list',_vm._l((_vm.$store.getters.getMoreItems),function(item){return _c('v-list-tile',{key:item.title,attrs:{\"avatar\":\"\"},on:{\"click\":function($event){_vm.moreActions(item.name, _vm.contact.id)}}},[_c('v-list-tile-avatar',[_c('v-icon',[_vm._v(\"\\n                  \"+_vm._s(item.icon)+\"\\n                \")])],1),_vm._v(\" \"),_c('v-list-tile-title',{staticClass:\"body-1 pl-0 ml-0\"},[_vm._v(\"\\n                \"+_vm._s(item.title)+\"\\n              \")])],1)}))],1)],1),_vm._v(\" \"),(_vm.$vuetify.breakpoint.mdAndUp)?_c('v-tooltip',{attrs:{\"bottom\":\"\"}},[_c('span',[_vm._v(\"Close\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"pa-0 ma-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey darken-3\",\"disabled\":_vm.$store.state.tooltips},on:{\"click\":_vm.toggleView},slot:\"activator\"},[_c('v-icon',[_vm._v(\"close\")])],1)],1):_vm._e()],1),_vm._v(\" \"),(_vm.$vuetify.breakpoint.smAndDown)?_c('v-card-actions',{staticClass:\"py-0 px-0 title\",style:({borderTop: '1px solid lightgray'})},[_c('v-flex',{staticClass:\"grey lighten-4 ma-0 pa-4\",style:({border: '0'})},[_c('v-avatar',{staticClass:\"mr-3\",style:({\n                  cursor: 'pointer',\n                  backgroundSize: 'contain',\n                  backgroundColor: 'white',\n                  backgroundImage: _vm.contact.avatar ? (\"url(\" + (_vm.contact.avatar.thumbnail || _vm.contact.avatar.avatar) + \")\") : 'url(../../static/avatars/grey_silhouette.png)',\n                  backgroundRepeat: 'no-repeat',\n                  backgroundPosition: 'center center',\n                  border: '5px solid #E3E3DE'\n                }),attrs:{\"size\":\"70px\"},on:{\"click\":_vm.openSlim,\"mouseenter\":function($event){_vm.avatar_hover = true},\"mouseleave\":function($event){_vm.avatar_hover = false}}},[_c('v-btn',{staticClass:\"ma-0\",style:({opacity: _vm.avatar_hover ? '0.5' : '0'}),attrs:{\"fab\":\"\",\"color\":\"black\"}},[_c('v-icon',{attrs:{\"color\":\"white\",\"large\":\"\"}},[_vm._v(\"\\n              photo_camera\\n            \")])],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"headline\"},[_vm._v(\"\\n          \"+_vm._s(_vm.contact.fullName)+\"\\n        \")])],1)],1):_vm._e(),_vm._v(\" \"),_c('v-list',{staticClass:\"pt-3 pb-5\",style:({borderBottom: '1px solid lightgray'}),attrs:{\"subheader\":\"\",\"three-line\":\"\"}},[_c('v-subheader',{staticClass:\"pt-2 pl-4\",style:({color: 'black'})},[_vm._v(\"\\n        Contact details\\n      \")]),_vm._v(\" \"),_vm._l((_vm.iterableContactDetails),function(item){return _c('v-list-tile',{key:item.icon,staticClass:\"ml-4 pl-2 pb-5\",style:({maxHeight: '60px'}),attrs:{\"avatar\":\"\"}},[_c('v-list-tile-avatar',{staticClass:\"mr-3 pt-0\"},[_c('v-icon',[_vm._v(\"\\n            \"+_vm._s(item.icon)+\"\\n          \")])],1),_vm._v(\" \"),_c('v-list-tile-content',_vm._l((item.details),function(detail,index){return _c('v-list',{key:index,staticClass:\"pb-0\"},[_c('v-list-tile-sub-title',{domProps:{\"innerHTML\":_vm._s(detail)}})],1)}))],1)})],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47869e38\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ViewContact.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47869e38\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ViewContact.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ViewContact.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ViewContact.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47869e38\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ViewContact.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47869e38\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ViewContact.vue\n// module id = null\n// module chunks = ","<template>\n  <v-dialog\n    v-model=\"$store.state.delete_contact\"\n    max-width=\"250px\"\n  >\n    <v-card>\n      <v-card-text\n        class=\"subheading text-xs-center\"\n      >\n        Delete this contact?\n      </v-card-text>\n      <v-card-actions>\n        <v-btn\n          flat\n          large\n          color=\"blue darken-1\"\n          @click.native=\"toggleDelete\"\n        >\n          Cancel\n        </v-btn>\n        <v-btn\n          flat\n          large\n          color=\"red darken-1\"\n          @click.native=\"deleteContact\"\n        >\n          Delete\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\n  import { deleteContact } from '../api/database'\n\n  export default {\n    name: 'delete-contact',\n    methods: {\n      toggleDelete: function () {\n        this.$store.dispatch('toggleDeleteContact')\n      },\n\n      deleteContact: function () {\n        this.$store.dispatch('setSnackbar', {\n          color: 'info',\n          message: 'Deleting contact...'\n        })\n        let contactId = this.$store.getters.getActiveId\n        const deleteCallback = (error) => {\n          let snackbar = {}\n          if (error) {\n            snackbar = {\n              color: 'error',\n              message: `${error}`\n            }\n          } else {\n            snackbar = {\n              color: 'success',\n              message: 'Contact deleted successfully!'\n            }\n          }\n          this.$store.dispatch('setSnackbar', snackbar)\n        }\n        deleteContact(contactId, deleteCallback)\n        this.toggleDelete()\n        if (this.$store.state.view_contact) this.$store.dispatch('toggleViewContact')\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/DeleteContact.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"250px\"},model:{value:(_vm.$store.state.delete_contact),callback:function ($$v) {_vm.$set(_vm.$store.state, \"delete_contact\", $$v)},expression:\"$store.state.delete_contact\"}},[_c('v-card',[_c('v-card-text',{staticClass:\"subheading text-xs-center\"},[_vm._v(\"\\n      Delete this contact?\\n    \")]),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"large\":\"\",\"color\":\"blue darken-1\"},nativeOn:{\"click\":function($event){_vm.toggleDelete($event)}}},[_vm._v(\"\\n        Cancel\\n      \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"large\":\"\",\"color\":\"red darken-1\"},nativeOn:{\"click\":function($event){_vm.deleteContact($event)}}},[_vm._v(\"\\n        Delete\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c794124c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DeleteContact.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c794124c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DeleteContact.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DeleteContact.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DeleteContact.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c794124c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DeleteContact.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c794124c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DeleteContact.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <v-data-table\n      v-model=\"selected\"\n      :items=\"$store.getters.getContacts\"\n      item-key=\"id\"\n      class=\"elevation-0 pl-0\"\n      hide-actions\n      hide-headers\n      ref=\"contacts_data_table\"\n      no-data-text=\"Add your contact\"\n      :style=\"{overflowX: 'hidden'}\"\n    >\n      <template\n        slot=\"items\"\n        slot-scope=\"props\"\n      >\n        <tr\n          v-on:mouseenter=\"hover = props.item.id\"\n          v-on:mouseleave=\"hover = null\"\n          @click=\"last_clicked = props.item.id\"\n          class=\"ma-2\"\n          :style=\"{\n          borderRight: 0,\n          borderBottom: 0,\n          borderTop: 0,\n          borderLeft: last_clicked === props.item.id ? '3px solid blue' : '3px solid transparent',\n          cursor: 'pointer',\n          background: props.selected ? '#E3E3E3' : '',\n          }\"\n        >\n          <td\n            class=\"ma-0 pl-2 pr-0\"\n            @click=\"props.selected = !props.selected\"\n            :style=\"{ width: '50px', height: '60px' }\"\n          >\n            <v-checkbox\n              color=\"primary darken-4\"\n              hide-details\n\n              :input-value=\"props.selected\"\n              v-if=\"hover === props.item.id || props.selected\"\n            />\n            <v-avatar\n              size=\"40px\"\n              v-else\n              :class=\"props.item.avatar ? '' : props.item.color\"\n            >\n              <img\n                v-if=\"props.item.avatar\"\n                :src=\"props.item.avatar.thumbnail || props.item.avatar.avatar\"\n                alt=\"avatar\"\n              >\n              <span\n                v-else\n                class=\"headline white--text \"\n              >\n                {{props.item.fullName.slice(0, 1).toUpperCase()}}\n              </span>\n            </v-avatar>\n          </td>\n\n          <td\n            class=\"body-1 pl-3\"\n            @click=\"toggleView(props.item.id)\"\n          >\n            {{ props.item.fullName }}\n          </td>\n\n          <td\n            class=\"hidden-sm-and-down body-2\"\n            @click=\"toggleView(props.item.id)\"\n          >\n            {{ props.item.emails[0].value }}\n          </td>\n\n          <td\n            class=\"hidden-sm-and-down body-2\"\n            @click=\"toggleView(props.item.id)\"\n          >\n            {{ props.item.phones[0].value }}\n          </td>\n\n          <td\n            class=\"text-xs-right pa-0 ma-0\"\n            :style=\"{ width: '100px'}\"\n          >\n            <v-tooltip\n              bottom\n              :disabled=\"$store.state.tooltips\"\n            >\n              <span>Star contact</span>\n              <v-btn\n                flat\n                icon\n                small\n                slot=\"activator\"\n                class=\"pa-0 ma-0\"\n                :style=\"{\nopacity: hover === props.item.id ? 1 : 0}\"\n                @click=\"props.item.starred = !props.item.starred\"\n              >\n                <v-icon\n                  v-if=\"!props.item.starred\"\n                  color=\"grey darken-3\"\n                >\n                  star_border\n                </v-icon>\n                <v-icon\n                  v-else\n                  color=\"pink\"\n                >\n                  star\n                </v-icon>\n              </v-btn>\n            </v-tooltip>\n\n            <v-tooltip\n              bottom\n              :disabled=\"$store.state.tooltips\"\n            >\n              <span>Edit contact</span>\n              <v-btn\n                flat\n                icon\n                small\n                color=\"grey darken-3\"\n                slot=\"activator\"\n                class=\"pa-0 ma-0\"\n                :style=\"{\nopacity: hover === props.item.id ? 1 : 0}\"\n                @click=\"toggleEdit(props.item.id)\"\n              >\n                <v-icon>mode_edit</v-icon>\n              </v-btn>\n            </v-tooltip>\n\n            <v-tooltip\n              bottom\n              :max-width=\"100\"\n              :disabled=\"$store.state.tooltips\"\n            >\n              <span>More actions</span>\n              <v-menu\n                bottom\n                left\n                origin=\"center center\"\n                transition=\"scale-transition\"\n                :min-width=\"250\"\n                slot=\"activator\"\n                class=\"pa-0 ma-0\"\n                :style=\"{\nopacity: hover === props.item.id ? 1 : 0}\"\n              >\n                <v-btn\n                  flat\n                  icon\n                  small\n                  color=\"grey darken-3\"\n                  slot=\"activator\"\n                  class=\"pa-0 ma-0\"\n                  :style=\"{\nopacity: hover === props.item.id ? 1 : 0}\"\n                >\n                  <v-icon>more_vert</v-icon>\n                </v-btn>\n                <v-list>\n                  <v-list-tile\n                    avatar\n                    v-for=\"item in $store.getters.getMoreItems\"\n                    :key=\"item.title\"\n                    @click=\"moreActions(item.name, props.item.id)\">\n                    <v-list-tile-avatar>\n                      <v-icon>\n                        {{ item.icon }}\n                      </v-icon>\n                    </v-list-tile-avatar>\n                    <v-list-tile-title\n                      class=\"body-1 pl-0 ml-0\"\n                    >\n                      {{ item.title }}\n                    </v-list-tile-title>\n                  </v-list-tile>\n                </v-list>\n\n              </v-menu>\n            </v-tooltip>\n          </td>\n        </tr>\n      </template>\n    </v-data-table>\n\n    <!-- View Contact Markup start -->\n    <view-contact\n      ref=\"view_contact_dialog\"\n    />\n    <!-- View Contact Markup end -->\n\n    <!-- Edit Contact Markup start -->\n    <edit-contact\n      ref=\"edit_contact_dialog\"\n    />\n    <!-- Edit Contact Markup end -->\n\n    <!-- Delete Contact Markup start -->\n    <delete-contact\n      ref=\"delete_contact_dialog\"\n    />\n    <!-- Delete Contact Markup end -->\n  </div>\n</template>\n\n<script>\n  import EditContact from './EditContact.vue'\n  import ViewContact from './ViewContact.vue'\n  import DeleteContact from './DeleteContact.vue'\n\n  export default {\n    name: 'contacts',\n    data () {\n      return {\n        last_clicked: null,\n        icon: false,\n        hover: null\n      }\n    },\n\n    components: {\n      EditContact,\n      ViewContact,\n      DeleteContact\n    },\n\n    methods: {\n      hideContact: function (id) {\n        // TODO implement this functionality\n      },\n\n      toggleView: function (id) {\n        this.$store.dispatch('setActiveId', id)\n        this.$store.dispatch('toggleViewContact')\n      },\n\n      toggleEdit: function (id) {\n        this.$store.dispatch('setActiveId', id)\n        this.$store.dispatch('toggleEditContact')\n        this.$nextTick(() => {\n          this.$refs.edit_contact_dialog.$refs.fullName.focus()\n        })\n      },\n\n      toggleDelete: function (id) {\n        this.$store.dispatch('setActiveId', id)\n        this.$store.dispatch('toggleDeleteContact')\n      },\n\n      moreActions: function (itemName, id) {\n        switch (itemName) {\n          case 'Delete':\n            this.toggleDelete(id)\n            break\n          case 'Hide':\n            this.hideContact(id)\n            break\n        }\n      }\n    },\n    computed: {\n      selected: {\n        get: function () {\n          return this.$store.getters.getSelected\n        },\n        set: function (newSelected) {\n          this.$store.dispatch('setSelected', newSelected)\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Contacts.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-data-table',{ref:\"contacts_data_table\",staticClass:\"elevation-0 pl-0\",style:({overflowX: 'hidden'}),attrs:{\"items\":_vm.$store.getters.getContacts,\"item-key\":\"id\",\"hide-actions\":\"\",\"hide-headers\":\"\",\"no-data-text\":\"Add your contact\"},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('tr',{staticClass:\"ma-2\",style:({\n          borderRight: 0,\n          borderBottom: 0,\n          borderTop: 0,\n          borderLeft: _vm.last_clicked === props.item.id ? '3px solid blue' : '3px solid transparent',\n          cursor: 'pointer',\n          background: props.selected ? '#E3E3E3' : '',\n          }),on:{\"mouseenter\":function($event){_vm.hover = props.item.id},\"mouseleave\":function($event){_vm.hover = null},\"click\":function($event){_vm.last_clicked = props.item.id}}},[_c('td',{staticClass:\"ma-0 pl-2 pr-0\",style:({ width: '50px', height: '60px' }),on:{\"click\":function($event){props.selected = !props.selected}}},[(_vm.hover === props.item.id || props.selected)?_c('v-checkbox',{attrs:{\"color\":\"primary darken-4\",\"hide-details\":\"\",\"input-value\":props.selected}}):_c('v-avatar',{class:props.item.avatar ? '' : props.item.color,attrs:{\"size\":\"40px\"}},[(props.item.avatar)?_c('img',{attrs:{\"src\":props.item.avatar.thumbnail || props.item.avatar.avatar,\"alt\":\"avatar\"}}):_c('span',{staticClass:\"headline white--text \"},[_vm._v(\"\\n                \"+_vm._s(props.item.fullName.slice(0, 1).toUpperCase())+\"\\n              \")])])],1),_vm._v(\" \"),_c('td',{staticClass:\"body-1 pl-3\",on:{\"click\":function($event){_vm.toggleView(props.item.id)}}},[_vm._v(\"\\n            \"+_vm._s(props.item.fullName)+\"\\n          \")]),_vm._v(\" \"),_c('td',{staticClass:\"hidden-sm-and-down body-2\",on:{\"click\":function($event){_vm.toggleView(props.item.id)}}},[_vm._v(\"\\n            \"+_vm._s(props.item.emails[0].value)+\"\\n          \")]),_vm._v(\" \"),_c('td',{staticClass:\"hidden-sm-and-down body-2\",on:{\"click\":function($event){_vm.toggleView(props.item.id)}}},[_vm._v(\"\\n            \"+_vm._s(props.item.phones[0].value)+\"\\n          \")]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-right pa-0 ma-0\",style:({ width: '100px'})},[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Star contact\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"pa-0 ma-0\",style:({\nopacity: _vm.hover === props.item.id ? 1 : 0}),attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){props.item.starred = !props.item.starred}},slot:\"activator\"},[(!props.item.starred)?_c('v-icon',{attrs:{\"color\":\"grey darken-3\"}},[_vm._v(\"\\n                  star_border\\n                \")]):_c('v-icon',{attrs:{\"color\":\"pink\"}},[_vm._v(\"\\n                  star\\n                \")])],1)],1),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Edit contact\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"pa-0 ma-0\",style:({\nopacity: _vm.hover === props.item.id ? 1 : 0}),attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey darken-3\"},on:{\"click\":function($event){_vm.toggleEdit(props.item.id)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mode_edit\")])],1)],1),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":100,\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"More actions\")]),_vm._v(\" \"),_c('v-menu',{staticClass:\"pa-0 ma-0\",style:({\nopacity: _vm.hover === props.item.id ? 1 : 0}),attrs:{\"slot\":\"activator\",\"bottom\":\"\",\"left\":\"\",\"origin\":\"center center\",\"transition\":\"scale-transition\",\"min-width\":250},slot:\"activator\"},[_c('v-btn',{staticClass:\"pa-0 ma-0\",style:({\nopacity: _vm.hover === props.item.id ? 1 : 0}),attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey darken-3\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"more_vert\")])],1),_vm._v(\" \"),_c('v-list',_vm._l((_vm.$store.getters.getMoreItems),function(item){return _c('v-list-tile',{key:item.title,attrs:{\"avatar\":\"\"},on:{\"click\":function($event){_vm.moreActions(item.name, props.item.id)}}},[_c('v-list-tile-avatar',[_c('v-icon',[_vm._v(\"\\n                        \"+_vm._s(item.icon)+\"\\n                      \")])],1),_vm._v(\" \"),_c('v-list-tile-title',{staticClass:\"body-1 pl-0 ml-0\"},[_vm._v(\"\\n                      \"+_vm._s(item.title)+\"\\n                    \")])],1)}))],1)],1)],1)])]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_vm._v(\" \"),_c('view-contact',{ref:\"view_contact_dialog\"}),_vm._v(\" \"),_c('edit-contact',{ref:\"edit_contact_dialog\"}),_vm._v(\" \"),_c('delete-contact',{ref:\"delete_contact_dialog\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e0227dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Contacts.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e0227dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Contacts.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Contacts.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Contacts.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e0227dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Contacts.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e0227dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Contacts.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <v-dialog\n      ref=\"add_contact_dialog\"\n      v-model=\"$store.state.add_contact\"\n      :fullscreen=\"$vuetify.breakpoint.smAndDown\"\n      width=\"700px\"\n      transition=\"dialog-bottom-transition\"\n      :hide-overlay=\"false\"\n    >\n      <v-card>\n        <v-card-title\n          class=\"grey lighten-4 py-4 title\"\n        >\n          Create contact\n        </v-card-title>\n        <div\n          :style=\"{borderBottom: '1px solid lightgrey'}\"\n        >\n          <v-container\n            grid-list-sm\n            class=\"pt-4 pb-0\">\n            <!-- Full Name Markup start -->\n            <v-layout\n              row\n              wrap\n              align-center\n              class=\"add-contact-row\"\n              @mouseleave=\"fullNameHover = false\"\n              @mouseenter=\"fullNameHover = true\"\n            >\n              <v-flex\n                xs2\n                class=\"text-xs-center\"\n                @mouseenter=\"avatar_hover = true\"\n                @mouseleave=\"avatar_hover = false\"\n              >\n                <v-avatar\n                  size=\"50px\"\n                  @click=\"openSlim\"\n                  :style=\"{\n                    cursor: 'pointer',\n                    backgroundSize: 'contain',\n                    backgroundColor: 'white',\n                    backgroundImage: avatar ? `url(${avatar.avatar})` : 'url(../../static/avatars/grey_silhouette.png)',\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center center',\n                    border: '2px solid #E3E3DE'\n                  }\"\n                >\n                  <v-btn\n                    fab\n                    small\n                    color=\"black\"\n                    class=\"ma-0\"\n                    :style=\"{opacity: avatar_hover ? '0.5' : '0'}\"\n                  >\n                    <v-icon\n                      color=\"white\"\n                    >\n                      photo_camera\n                    </v-icon>\n                  </v-btn>\n                </v-avatar>\n              </v-flex>\n\n              <v-flex\n                class=\"xs8\"\n              >\n                <v-text-field\n                  autofocus\n                  ref=\"fullName\"\n                  class=\"caption\"\n                  placeholder=\"First name    Last name\"\n                  v-model=\"fullName\"\n                  :rules=\"fullNameRules\"\n                  required\n                  :validateOnBlur=\"true\"\n                />\n              </v-flex>\n\n              <v-flex\n                xs1\n                class=\"pb-2 pl-0 ml-0\"\n              >\n                <v-tooltip\n                  bottom\n                  v-if=\"showFullNameRemove()\"\n                  :disabled=\"$store.state.tooltips\"\n                >\n                  <span>Remove</span>\n                  <v-btn\n                    flat\n                    icon\n                    small\n                    slot=\"activator\"\n                    color=\"grey\"\n                    class=\"action-button\"\n                    @click=\"removeFullName\"\n                  >\n                    <v-icon>clear</v-icon>\n                  </v-btn>\n                </v-tooltip>\n              </v-flex>\n\n            </v-layout>\n            <!-- Full Name Markup end -->\n\n            <!-- Date of Birth Markup start -->\n            <v-layout\n              row\n              wrap\n              align-center\n              class=\"add-contact-row\"\n              @mouseleave=\"dateOfBirthHover = false\"\n              @mouseenter=\"dateOfBirthHover = true\"\n            >\n              <v-flex xs2 class=\"text-xs-center\">\n                <v-icon>\n                  event\n                </v-icon>\n              </v-flex>\n\n              <v-flex xs8>\n                <v-menu\n                  lazy\n                  :close-on-content-click=\"false\"\n                  v-model=\"menu\"\n                  transition=\"scale-transition\"\n                  offset-y\n                  full-width\n                  :nudge-right=\"40\"\n                  max-width=\"290px\"\n                  min-width=\"290px\"\n                >\n\n                  <v-text-field\n                    ref=\"dateOfBirth\"\n                    slot=\"activator\"\n                    v-model=\"dateOfBirth\"\n                    class=\"caption\"\n                    placeholder=\"Date of Birth\"\n                    readonly\n                    :rules=\"dateOfBirthRules\"\n                  />\n\n                  <v-date-picker\n                    v-model=\"dateOfBirth\"\n                    no-title\n                    scrollable\n                    actions\n                  >\n                    <template slot-scope=\"{ save, cancel }\">\n                      <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn\n                          flat\n                          color=\"primary\"\n                          @click=\"cancel\"\n                        >Cancel</v-btn>\n\n                        <v-btn\n                          flat\n                          color=\"success\"\n                          @click=\"save\"\n                        >OK\n                        </v-btn>\n                      </v-card-actions>\n                    </template>\n                  </v-date-picker>\n                </v-menu>\n              </v-flex>\n              <v-flex\n                xs1\n                class=\"pb-2 pl-0 ml-0\"\n              >\n                <v-tooltip\n                  bottom\n                  v-if=\"showDateOfBirthRemove()\"\n                  :disabled=\"$store.state.tooltips\"\n                >\n                  <span>Remove</span>\n                  <v-btn\n                    flat\n                    icon\n                    small\n                    slot=\"activator\"\n                    color=\"grey\"\n                    class=\"action-button\"\n                    @click=\"removeDateOfBirth\"\n                  >\n                    <v-icon>clear</v-icon>\n                  </v-btn>\n                </v-tooltip>\n              </v-flex>\n              <v-spacer/>\n            </v-layout>\n            <!-- Date of Birth Markup end -->\n\n            <!-- Addresses Markup start -->\n            <v-list\n              class=\"pt-0 pb-0\"\n            >\n              <v-list-tile\n                v-for=\"address in addresses\"\n                :key=\"address.id\"\n                id=\"address_tile\"\n              >\n\n                <!-- Address Markup start -->\n                <v-layout\n                  row\n                  wrap\n                  align-center\n                  class=\"add-contact-row\"\n                  @mouseenter=\"currentAddressHover = address.id\"\n                  @mouseleave=\"currentAddressHover = null\"\n                >\n                  <v-flex xs2 class=\"text-xs-center\">\n                    <v-icon\n                      v-if=\"showAddressIcon(address.id)\"\n                    >\n                      location_on\n                    </v-icon>\n                  </v-flex>\n\n                  <template\n                    v-if=\"address.value.length === 0\"\n                  >\n                    <v-flex xs8>\n                      <v-text-field\n                        ref=\"addresses\"\n                        class=\"caption\"\n                        placeholder=\"Address\"\n                        v-model=\"address.value\"\n                      />\n                    </v-flex>\n                  </template>\n                  <template\n                    v-else\n                  >\n                    <v-flex xs5>\n                      <v-text-field\n                        ref=\"addresses\"\n                        class=\"caption\"\n                        placeholder=\"Address\"\n                        v-model=\"address.value\"\n                      />\n                    </v-flex>\n\n                    <v-flex xs3>\n                      <v-select\n                        :items=\"labels\"\n                        v-model=\"address.label\"\n                        label=\"Label\"\n                        single-line\n                        autocomplete\n                      >\n                      </v-select>\n                    </v-flex>\n\n                  </template>\n\n                  <v-flex\n                    xs1\n                    class=\"pb-2 pl-0 ml-0\"\n                  >\n                    <v-tooltip\n                      bottom\n                      v-if=\"showAddressRemove(address)\"\n                      :disabled=\"$store.state.tooltips\"\n                    >\n                      <span>Remove</span>\n                      <v-btn\n                        flat\n                        icon\n                        small\n                        slot=\"activator\"\n                        color=\"grey\"\n                        class=\"action-button\"\n                        @click=\"removeAddress(address)\"\n                      >\n                        <v-icon>clear</v-icon>\n                      </v-btn>\n                    </v-tooltip>\n                  </v-flex>\n                  <v-flex\n                    xs1\n                    class=\"pb-2\"\n                  >\n                    <v-tooltip\n                      bottom\n                      v-if=\"showAddressAdd(address)\"\n                      :disabled=\"$store.state.tooltips\"\n                    >\n                      <span>Add</span>\n                      <v-btn\n                        flat\n                        icon\n                        small\n                        slot=\"activator\"\n                        color=\"blue darken-2\"\n                        class=\"ml-0\"\n                        @click=\"addAddress\"\n                      >\n                        <v-icon>add_circle</v-icon>\n                      </v-btn>\n                    </v-tooltip>\n                  </v-flex>\n                </v-layout>\n                <!-- Address Markup end -->\n\n              </v-list-tile>\n            </v-list>\n            <!-- Addresses Markup end -->\n\n            <!-- Phones Markup start -->\n            <v-list\n              class=\"pt-0 pb-0\"\n            >\n              <v-list-tile\n                v-for=\"phone in phones\"\n                :key=\"phone.id\"\n                id=\"phone_tile\"\n              >\n                <!-- Phone Markup start -->\n                <v-layout\n                  row\n                  wrap\n                  align-center\n                  class=\"add-contact-row\"\n                  @mouseenter=\"currentPhoneHover = phone.id\"\n                  @mouseleave=\"currentPhoneHover = null\"\n                >\n                  <v-flex xs2 class=\"text-xs-center\">\n                    <v-icon\n                      v-if=\"showPhoneIcon(phone.id)\"\n                    >\n                      phone\n                    </v-icon>\n                  </v-flex>\n\n                  <v-flex\n                    xs1\n                    class=\"pb-3 pr-2 pl-0 ml-0\"\n                  >\n                    <div\n                      :id=\"`country_${phone.id}`\"\n                      class=\"ml-0 pl-0\"\n                    ></div>\n                  </v-flex>\n\n                  <template\n                    v-if=\"!phone.value\"\n                  >\n                    <v-flex xs7>\n                      <v-text-field\n                        :ref=\"`phone_${phone.id}`\"\n                        type=\"tel\"\n                        class=\"caption\"\n                        placeholder=\"Phone\"\n                        v-model=\"phone.value\"\n                        :id=\"`country_${phone.id}_text`\"\n                        required\n                        :rules=\"phoneRules\"\n                        :validateOnBlur=\"true\"\n                      />\n                    </v-flex>\n                  </template>\n\n                  <template\n                    v-else\n                  >\n                    <v-flex xs4>\n                      <v-text-field\n                        :ref=\"`phone_${phone.id}`\"\n                        type=\"tel\"\n                        class=\"caption\"\n                        placeholder=\"Phone\"\n                        v-model=\"phone.value\"\n                        :id=\"`country_${phone.id}_text`\"\n                        required\n                        :rules=\"phoneRules\"\n                        :validateOnBlur=\"true\"\n                      />\n                    </v-flex>\n                    <v-flex xs3>\n                      <v-select\n                        :items=\"labels\"\n                        v-model=\"phone.label\"\n                        label=\"Label\"\n                        single-line\n                        autocomplete\n                      >\n                      </v-select>\n                    </v-flex>\n                  </template>\n\n                  <v-flex\n                    xs1\n                    class=\"pb-2 pl-0 ml-0\"\n                  >\n                    <v-tooltip\n                      bottom\n                      v-if=\"showPhoneRemove(phone)\"\n                      :disabled=\"$store.state.tooltips\"\n                    >\n                      <span>Remove</span>\n                      <v-btn\n                        flat\n                        icon\n                        small\n                        slot=\"activator\"\n                        color=\"grey\"\n                        class=\"action-button\"\n                        @click=\"removePhone(phone)\"\n                      >\n                        <v-icon>clear</v-icon>\n                      </v-btn>\n                    </v-tooltip>\n                  </v-flex>\n                  <v-flex\n                    xs1\n                    class=\"pb-2\"\n                  >\n                    <v-tooltip\n                      bottom\n                      v-if=\"showPhoneAdd(phone)\"\n                      :disabled=\"$store.state.tooltips\"\n                    >\n                      <span>Add</span>\n                      <v-btn\n                        flat\n                        icon\n                        small\n                        slot=\"activator\"\n                        color=\"blue darken-2\"\n                        class=\"ml-0\"\n                        @click=\"addPhone\"\n                      >\n                        <v-icon>add_circle</v-icon>\n                      </v-btn>\n                    </v-tooltip>\n                  </v-flex>\n                </v-layout>\n                <!-- Phone Markup end -->\n              </v-list-tile>\n            </v-list>\n            <!-- Phones Markup end -->\n\n            <!-- Emails Markup start -->\n            <v-list\n              class=\"pt-0 pb-0\"\n            >\n              <v-list-tile\n                v-for=\"email in emails\"\n                :key=\"email.id\"\n                id=\"email_tile\"\n              >\n                <!-- Email Markup start -->\n                <v-layout\n                  row\n                  wrap\n                  align-center\n                  class=\"add-contact-row\"\n                  @mouseenter=\"currentEmailHover = email.id\"\n                  @mouseleave=\"currentEmailHover = null\"\n                >\n                  <v-flex xs2 class=\"text-xs-center\">\n                    <v-icon\n                      v-if=\"showEmailIcon(email.id)\"\n                    >\n                      mail\n                    </v-icon>\n                  </v-flex>\n\n                  <template\n                    v-if=\"!email.value\"\n                  >\n                    <v-flex xs8>\n                      <v-text-field\n                        :ref=\"`email_${email.id}`\"\n                        placeholder=\"Email\"\n                        class=\"caption\"\n                        v-model=\"email.value\"\n                        required\n                        :rules=\"emailRules\"\n                        :validateOnBlur=\"true\"\n                      />\n                    </v-flex>\n                  </template>\n\n                  <template\n                    v-else\n                  >\n                    <v-flex xs5>\n                      <v-text-field\n                        :ref=\"`email_${email.id}`\"\n                        placeholder=\"Email\"\n                        class=\"caption\"\n                        v-model=\"email.value\"\n                        required\n                        :rules=\"emailRules\"\n                        :validateOnBlur=\"true\"\n                      />\n                    </v-flex>\n                    <v-flex xs3>\n                      <v-select\n                        :items=\"labels\"\n                        v-model=\"email.label\"\n                        label=\"Label\"\n                        single-line\n                        autocomplete\n                      >\n                      </v-select>\n                    </v-flex>\n                  </template>\n                  <v-flex\n                    xs1\n                    class=\"pb-2 pl-0 ml-0\"\n                  >\n                    <v-tooltip\n                      bottom\n                      v-if=\"showEmailRemove(email)\"\n                      :disabled=\"$store.state.tooltips\"\n                    >\n                      <span>Remove</span>\n                      <v-btn\n                        flat\n                        icon\n                        small\n                        slot=\"activator\"\n                        color=\"grey\"\n                        class=\"action-button\"\n                        @click=\"removeEmail(email)\"\n                      >\n                        <v-icon>clear</v-icon>\n                      </v-btn>\n                    </v-tooltip>\n                  </v-flex>\n                  <v-flex\n                    xs1\n                    class=\"pb-2\"\n                  >\n                    <v-tooltip\n                      bottom\n                      v-if=\"showEmailAdd(email)\"\n                      :disabled=\"$store.state.tooltips\"\n                    >\n                      <span>Add</span>\n                      <v-btn\n                        flat\n                        icon\n                        small\n                        slot=\"activator\"\n                        color=\"blue darken-2\"\n                        class=\"ml-0\"\n                        @click=\"addEmail\"\n                      >\n                        <v-icon>add_circle</v-icon>\n                      </v-btn>\n                    </v-tooltip>\n                  </v-flex>\n                </v-layout>\n                <!-- Email Markup end -->\n              </v-list-tile>\n            </v-list>\n            <!-- Emails Markup end -->\n          </v-container>\n\n          <v-card-actions\n            class=\"pt-0\"\n          >\n            <v-btn\n              flat\n              large\n              color=\"primary\"\n              @click=\"clearAddContact\"\n            >Clear</v-btn>\n            <v-spacer/>\n            <v-btn\n              flat\n              large\n              color=\"primary\"\n              @click=\"closeAddContact\"\n            >Cancel</v-btn>\n            <v-btn\n              flat\n              large\n              color=\"success\"\n              @click=\"saveContact\"\n              :disabled=\"!validEntries()\"\n            >Save</v-btn>\n          </v-card-actions>\n        </div>\n      </v-card>\n    </v-dialog>\n\n  </div>\n</template>\n\n<script>\n  import $ from 'jquery'\n  import { saveContact } from '../api/database'\n\n  const Modernizr = require('../../src/assets/js/modernizr-custom')\n  require('intl-tel-input')\n\n  export default {\n    name: 'add-contact',\n    data: () => {\n      return {\n        menu: false,\n        labels: ['Home', 'Work', 'Other'],\n        avatar_hover: false,\n        newAddressId: 0,\n        newPhoneId: 0,\n        newEmailId: 0,\n        fullNameHover: false,\n        dateOfBirthHover: false,\n        currentAddressHover: null,\n        currentPhoneHover: null,\n        currentEmailHover: null,\n        avatar: {avatar: '', thumbnail: '', filename: ''},\n        fullName: '',\n        dateOfBirth: null,\n        addresses: [{id: 0, value: '', label: ''}],\n        phones: [{id: 0, value: '', label: ''}],\n        emails: [{id: 0, value: '', label: ''}],\n        fullNameRules: [\n          (v) => !!v || 'Full Name is required',\n          (v) => (v && v.split(' ').length > 1 && v.split(' ')[1].length > 0) || 'Full Name must have at least 2 names'\n        ],\n        dateOfBirthRules: [\n          (v) => !!v || 'Date of Birth is required'\n        ],\n        phoneRules: [\n          (v) => !!v || 'Phone is required'\n        ],\n        emailRules: [\n          (v) => !!v || 'Email is required',\n          (v) => /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || 'E-mail must be valid'\n        ]\n      }\n    },\n\n    components: {\n    },\n\n    computed: {\n      new_contact: function () {\n        return this.$store.getters.getNewContact\n      }\n    },\n\n    methods: {\n      openSlim: function () {\n        this.$store.dispatch('setSlim', {contact: this.$store.state.new_contact})\n      },\n      addAddress: function () {\n        this.addresses.push({\n          id: ++this.newAddressId,\n          value: '',\n          label: ''\n        })\n      },\n      addPhone: function () {\n        this.phones.push({\n          id: ++this.newPhoneId,\n          value: '',\n          label: ''\n        })\n      },\n      addEmail: function () {\n        this.emails.push({\n          id: ++this.newEmailId,\n          value: '',\n          label: ''\n        })\n      },\n      removeAvatar: function () {\n        let newContact = this.$store.state.new_contact\n        newContact.avatar = null\n        this.$store.dispatch('setNewContact', newContact)\n      },\n      removeFullName: function () {\n        this.fullName = ''\n        this.$refs.fullName.reset()\n      },\n      removeDateOfBirth: function () {\n        this.dateOfBirth = null\n        this.$refs.dateOfBirth.reset()\n      },\n      removeAddress: function (address) {\n        if (this.addresses.length > 1) {\n          this.addresses = this.addresses.filter(\n            (currentAddress) => {\n              return currentAddress.id !== address.id\n            })\n        } else {\n          address.value = ''\n          address.label = ''\n        }\n      },\n      removeAddresses: function () {\n        this.addresses = [{id: 0, value: '', label: ''}]\n      },\n      removePhone: function (phone) {\n        if (this.phones.length > 1) {\n          this.phones = this.phones.filter(\n            (currentPhone) => {\n              return currentPhone.id !== phone.id\n            }\n          )\n        } else {\n          phone.value = ''\n          phone.label = ''\n          let phoneRefs = this.$refs[`phone_${phone.id}`]\n          if (phoneRefs && phoneRefs.length > 0) {\n            for (let phoneRef of phoneRefs) {\n              phoneRef.reset()\n            }\n          }\n        }\n      },\n      removePhones: function () {\n        this.phones = [{id: 0, value: '', label: ''}]\n      },\n      removeEmail: function (email) {\n        if (this.emails.length > 1) {\n          this.emails = this.emails.filter(\n            (currentEmail) => {\n              return currentEmail.id !== email.id\n            }\n          )\n        } else {\n          email.value = ''\n          email.label = ''\n          let emailRefs = this.$refs[`email_${email.id}`]\n          if (emailRefs && emailRefs.length > 0) {\n            for (let emailRef of emailRefs) {\n              emailRef.reset()\n            }\n          }\n        }\n      },\n      removeEmails: function () {\n        this.emails = [{id: 0, value: '', label: ''}]\n      },\n      clearAddContact: function () {\n        this.removeAvatar()\n        this.removeFullName()\n        this.removeDateOfBirth()\n        this.removeAddresses()\n        this.removePhones()\n        this.removeEmails()\n      },\n      closeAddContact: function () {\n        this.clearAddContact()\n        this.$store.dispatch('toggleAddContact')\n      },\n      showAddressAdd: function (address) {\n        return address.id === this.addresses[this.addresses.length - 1].id && !!address.value\n      },\n      showPhoneAdd: function (phone) {\n        return phone.id === this.phones[this.phones.length - 1].id && !!phone.value\n      },\n      showEmailAdd: function (email) {\n        return email.id === this.emails[this.emails.length - 1].id && !!email.value\n      },\n      showAddressIcon: function (id) {\n        return id === this.addresses[0].id\n      },\n      showPhoneIcon: function (id) {\n        return id === this.phones[0].id\n      },\n      showEmailIcon: function (id) {\n        return id === this.emails[0].id\n      },\n      showFullNameRemove: function () {\n        return !!this.fullName && (Modernizr.touchevents ? true : this.fullNameHover)\n      },\n      showDateOfBirthRemove: function () {\n        return !!this.dateOfBirth && (Modernizr.touchevents ? true : this.dateOfBirthHover)\n      },\n      showAddressRemove: function (address) {\n        return this.currentAddressHover === address.id && !!address.value\n      },\n      showPhoneRemove: function (phone) {\n        return this.currentPhoneHover === phone.id && !!phone.value\n      },\n      showEmailRemove: function (email) {\n        return this.currentEmailHover === email.id && !!email.value\n      },\n      getNewId: function () {\n        if (this.$store.state.contacts.length > 0) {\n          let contacts = this.$store.state.contacts\n          let newId = Math.max(...contacts.map(contact => { return contact.id }))\n          return newId + 1\n        }\n        return 0\n      },\n      validEntries: function () {\n        let fullName = false\n        if (this.$refs.fullName) {\n          fullName = this.$refs.fullName.valid\n        }\n\n        let dateOfBirth = false\n        if (this.$refs.dateOfBirth) {\n          dateOfBirth = this.$refs.dateOfBirth.valid\n        }\n\n        const addresses = () => {\n          for (const address of this.$refs.addresses) {\n            if (!address.valid) {\n              return false\n            }\n          }\n          return true\n        }\n        let phones = () => {\n          for (const phone of this.phones) {\n            if (phone.id !== null && phone.id !== undefined) {\n              if (!(this.$refs[`phone_${phone.id}`] && this.$refs[`phone_${phone.id}`][0].valid)) {\n                return false\n              }\n            }\n          }\n          return !!this.phones[0].value\n        }\n        let emails = () => {\n          for (const email of this.emails) {\n            if (email.id !== null && email.id !== undefined) {\n              if (!(this.$refs[`email_${email.id}`] && this.$refs[`email_${email.id}`][0].valid)) {\n                return false\n              }\n            }\n          }\n          return !!this.emails[0].value\n        }\n\n        return (fullName && dateOfBirth && addresses() && phones() && emails())\n      },\n      saveContact: function () {\n        let myThis = this\n        if (this.validEntries()) {\n          this.$store.dispatch('setSnackbar', {\n            color: 'info',\n            message: 'Saving contact...'\n          })\n          let contactToSave = {\n            id: this.getNewId(),\n            fullName: this.fullName,\n            dateOfBirth: this.dateOfBirth,\n            avatar: this.avatar,\n            emails: this.emails,\n            phones: this.phones,\n            addresses: this.addresses,\n            starred: false,\n            hidden: false\n          }\n          const saveCallback = function (error) {\n            let snackbar = {}\n            if (error) {\n              snackbar = {\n                color: 'error',\n                message: `${error}`\n              }\n            } else {\n              snackbar = {\n                color: 'success',\n                message: 'Contact saved successfully!'\n              }\n            }\n            myThis.$store.dispatch('setSnackbar', snackbar)\n          }\n          saveContact(contactToSave, saveCallback)\n          this.closeAddContact()\n        } else {\n          this.$store.dispatch('setSnackbar', {\n            color: 'error',\n            message: 'There were errors. Correct and resubmit'\n          })\n        }\n      }\n    },\n    beforeUpdate () {\n      this.avatar = this.new_contact.avatar\n    },\n\n    mounted () {\n      this.fullName = this.new_contact.fullName\n      this.dateOfBirth = this.new_contact.dateOfBirth\n      this.addresses = this.new_contact.addresses\n      this.phones = this.new_contact.phones\n      this.emails = this.new_contact.emails\n    },\n\n    updated () {\n      let instance = this\n      let cookie = this.$cookie\n      let phones = this.phones\n      let countryCode = cookie.get('countryCode') || ''\n      $(\"div[id^='country_']\").each(function () {\n        const phoneId = $(this).attr('id').split('_')[1]\n        const countrySelect = $(this)\n        countrySelect.intlTelInput({\n          preferredCountries: [countryCode],\n          initialCountry: 'auto',\n          geoIpLookup: function (callback) {\n            if (countryCode !== null && countryCode !== '') {\n              callback(countryCode)\n              instance.$nextTick(function () {\n                countrySelect.intlTelInput('setCountry', countryCode)\n              })\n            } else {\n              $.get('https://ipinfo.io', function () {}, 'jsonp')\n                .always(function (resp) {\n                  countryCode = (resp && resp.country) ? resp.country : ''\n                  cookie.set('countryCode', countryCode, {expires: 1})\n                  callback(countryCode)\n                  instance.$nextTick(function () {\n                    countrySelect.intlTelInput('setCountry', countryCode)\n                  })\n                })\n            }\n          }\n        })\n\n        countrySelect.on('close:countrydropdown', function () {\n          let dialCode = countrySelect.intlTelInput('getSelectedCountryData').dialCode\n          let phone = phones.find(function (phone) {\n            return phone.id === parseInt(phoneId)\n          })\n          if (!!phone.value && phone.value.indexOf(' ') !== -1) {\n            phone.value = `+${dialCode}${phone.value.slice(phone.value.indexOf(' '))}`\n          } else {\n            phone.value = `+${dialCode} `\n          }\n          $(`#country_${phoneId}_text`).focus()\n        })\n      })\n    }\n  }\n</script>\n\n<style scoped>\n\n  .add-contact-row {\n    max-height: 50px\n  }\n\n  @media (max-width: 468px) {\n    .action-button {\n      margin-left: 0\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AddContact.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{ref:\"add_contact_dialog\",attrs:{\"fullscreen\":_vm.$vuetify.breakpoint.smAndDown,\"width\":\"700px\",\"transition\":\"dialog-bottom-transition\",\"hide-overlay\":false},model:{value:(_vm.$store.state.add_contact),callback:function ($$v) {_vm.$set(_vm.$store.state, \"add_contact\", $$v)},expression:\"$store.state.add_contact\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"grey lighten-4 py-4 title\"},[_vm._v(\"\\n        Create contact\\n      \")]),_vm._v(\" \"),_c('div',{style:({borderBottom: '1px solid lightgrey'})},[_c('v-container',{staticClass:\"pt-4 pb-0\",attrs:{\"grid-list-sm\":\"\"}},[_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseleave\":function($event){_vm.fullNameHover = false},\"mouseenter\":function($event){_vm.fullNameHover = true}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"},on:{\"mouseenter\":function($event){_vm.avatar_hover = true},\"mouseleave\":function($event){_vm.avatar_hover = false}}},[_c('v-avatar',{style:({\n                  cursor: 'pointer',\n                  backgroundSize: 'contain',\n                  backgroundColor: 'white',\n                  backgroundImage: _vm.avatar ? (\"url(\" + (_vm.avatar.avatar) + \")\") : 'url(../../static/avatars/grey_silhouette.png)',\n                  backgroundRepeat: 'no-repeat',\n                  backgroundPosition: 'center center',\n                  border: '2px solid #E3E3DE'\n                }),attrs:{\"size\":\"50px\"},on:{\"click\":_vm.openSlim}},[_c('v-btn',{staticClass:\"ma-0\",style:({opacity: _vm.avatar_hover ? '0.5' : '0'}),attrs:{\"fab\":\"\",\"small\":\"\",\"color\":\"black\"}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"\\n                    photo_camera\\n                  \")])],1)],1)],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"xs8\"},[_c('v-text-field',{ref:\"fullName\",staticClass:\"caption\",attrs:{\"autofocus\":\"\",\"placeholder\":\"First name    Last name\",\"rules\":_vm.fullNameRules,\"required\":\"\",\"validateOnBlur\":true},model:{value:(_vm.fullName),callback:function ($$v) {_vm.fullName=$$v},expression:\"fullName\"}})],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showFullNameRemove())?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":_vm.removeFullName},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseleave\":function($event){_vm.dateOfBirthHover = false},\"mouseenter\":function($event){_vm.dateOfBirthHover = true}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"}},[_c('v-icon',[_vm._v(\"\\n                event\\n              \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-menu',{attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"nudge-right\":40,\"max-width\":\"290px\",\"min-width\":\"290px\"},model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-text-field',{ref:\"dateOfBirth\",staticClass:\"caption\",attrs:{\"slot\":\"activator\",\"placeholder\":\"Date of Birth\",\"readonly\":\"\",\"rules\":_vm.dateOfBirthRules},slot:\"activator\",model:{value:(_vm.dateOfBirth),callback:function ($$v) {_vm.dateOfBirth=$$v},expression:\"dateOfBirth\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\",\"actions\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                var save = ref.save;\n                var cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"success\"},on:{\"click\":save}},[_vm._v(\"OK\\n                      \")])],1)]}}]),model:{value:(_vm.dateOfBirth),callback:function ($$v) {_vm.dateOfBirth=$$v},expression:\"dateOfBirth\"}})],1)],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showDateOfBirthRemove())?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":_vm.removeDateOfBirth},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('v-spacer')],1),_vm._v(\" \"),_c('v-list',{staticClass:\"pt-0 pb-0\"},_vm._l((_vm.addresses),function(address){return _c('v-list-tile',{key:address.id,attrs:{\"id\":\"address_tile\"}},[_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseenter\":function($event){_vm.currentAddressHover = address.id},\"mouseleave\":function($event){_vm.currentAddressHover = null}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"}},[(_vm.showAddressIcon(address.id))?_c('v-icon',[_vm._v(\"\\n                    location_on\\n                  \")]):_vm._e()],1),_vm._v(\" \"),(address.value.length === 0)?[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{ref:\"addresses\",refInFor:true,staticClass:\"caption\",attrs:{\"placeholder\":\"Address\"},model:{value:(address.value),callback:function ($$v) {_vm.$set(address, \"value\", $$v)},expression:\"address.value\"}})],1)]:[_c('v-flex',{attrs:{\"xs5\":\"\"}},[_c('v-text-field',{ref:\"addresses\",refInFor:true,staticClass:\"caption\",attrs:{\"placeholder\":\"Address\"},model:{value:(address.value),callback:function ($$v) {_vm.$set(address, \"value\", $$v)},expression:\"address.value\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.labels,\"label\":\"Label\",\"single-line\":\"\",\"autocomplete\":\"\"},model:{value:(address.label),callback:function ($$v) {_vm.$set(address, \"label\", $$v)},expression:\"address.label\"}})],1)],_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showAddressRemove(address))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){_vm.removeAddress(address)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2\",attrs:{\"xs1\":\"\"}},[(_vm.showAddressAdd(address))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Add\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"blue darken-2\"},on:{\"click\":_vm.addAddress},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add_circle\")])],1)],1):_vm._e()],1)],2)],1)})),_vm._v(\" \"),_c('v-list',{staticClass:\"pt-0 pb-0\"},_vm._l((_vm.phones),function(phone){return _c('v-list-tile',{key:phone.id,attrs:{\"id\":\"phone_tile\"}},[_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseenter\":function($event){_vm.currentPhoneHover = phone.id},\"mouseleave\":function($event){_vm.currentPhoneHover = null}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"}},[(_vm.showPhoneIcon(phone.id))?_c('v-icon',[_vm._v(\"\\n                    phone\\n                  \")]):_vm._e()],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-3 pr-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[_c('div',{staticClass:\"ml-0 pl-0\",attrs:{\"id\":(\"country_\" + (phone.id))}})]),_vm._v(\" \"),(!phone.value)?[_c('v-flex',{attrs:{\"xs7\":\"\"}},[_c('v-text-field',{ref:(\"phone_\" + (phone.id)),refInFor:true,staticClass:\"caption\",attrs:{\"type\":\"tel\",\"placeholder\":\"Phone\",\"id\":(\"country_\" + (phone.id) + \"_text\"),\"required\":\"\",\"rules\":_vm.phoneRules,\"validateOnBlur\":true},model:{value:(phone.value),callback:function ($$v) {_vm.$set(phone, \"value\", $$v)},expression:\"phone.value\"}})],1)]:[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-text-field',{ref:(\"phone_\" + (phone.id)),refInFor:true,staticClass:\"caption\",attrs:{\"type\":\"tel\",\"placeholder\":\"Phone\",\"id\":(\"country_\" + (phone.id) + \"_text\"),\"required\":\"\",\"rules\":_vm.phoneRules,\"validateOnBlur\":true},model:{value:(phone.value),callback:function ($$v) {_vm.$set(phone, \"value\", $$v)},expression:\"phone.value\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.labels,\"label\":\"Label\",\"single-line\":\"\",\"autocomplete\":\"\"},model:{value:(phone.label),callback:function ($$v) {_vm.$set(phone, \"label\", $$v)},expression:\"phone.label\"}})],1)],_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showPhoneRemove(phone))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){_vm.removePhone(phone)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2\",attrs:{\"xs1\":\"\"}},[(_vm.showPhoneAdd(phone))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Add\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"blue darken-2\"},on:{\"click\":_vm.addPhone},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add_circle\")])],1)],1):_vm._e()],1)],2)],1)})),_vm._v(\" \"),_c('v-list',{staticClass:\"pt-0 pb-0\"},_vm._l((_vm.emails),function(email){return _c('v-list-tile',{key:email.id,attrs:{\"id\":\"email_tile\"}},[_c('v-layout',{staticClass:\"add-contact-row\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"},on:{\"mouseenter\":function($event){_vm.currentEmailHover = email.id},\"mouseleave\":function($event){_vm.currentEmailHover = null}}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs2\":\"\"}},[(_vm.showEmailIcon(email.id))?_c('v-icon',[_vm._v(\"\\n                    mail\\n                  \")]):_vm._e()],1),_vm._v(\" \"),(!email.value)?[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{ref:(\"email_\" + (email.id)),refInFor:true,staticClass:\"caption\",attrs:{\"placeholder\":\"Email\",\"required\":\"\",\"rules\":_vm.emailRules,\"validateOnBlur\":true},model:{value:(email.value),callback:function ($$v) {_vm.$set(email, \"value\", $$v)},expression:\"email.value\"}})],1)]:[_c('v-flex',{attrs:{\"xs5\":\"\"}},[_c('v-text-field',{ref:(\"email_\" + (email.id)),refInFor:true,staticClass:\"caption\",attrs:{\"placeholder\":\"Email\",\"required\":\"\",\"rules\":_vm.emailRules,\"validateOnBlur\":true},model:{value:(email.value),callback:function ($$v) {_vm.$set(email, \"value\", $$v)},expression:\"email.value\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.labels,\"label\":\"Label\",\"single-line\":\"\",\"autocomplete\":\"\"},model:{value:(email.label),callback:function ($$v) {_vm.$set(email, \"label\", $$v)},expression:\"email.label\"}})],1)],_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2 pl-0 ml-0\",attrs:{\"xs1\":\"\"}},[(_vm.showEmailRemove(email))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"action-button\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){_vm.removeEmail(email)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"clear\")])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"pb-2\",attrs:{\"xs1\":\"\"}},[(_vm.showEmailAdd(email))?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.$store.state.tooltips}},[_c('span',[_vm._v(\"Add\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-0\",attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"small\":\"\",\"color\":\"blue darken-2\"},on:{\"click\":_vm.addEmail},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add_circle\")])],1)],1):_vm._e()],1)],2)],1)}))],1),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"pt-0\"},[_c('v-btn',{attrs:{\"flat\":\"\",\"large\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.clearAddContact}},[_vm._v(\"Clear\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"large\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.closeAddContact}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"large\":\"\",\"color\":\"success\",\"disabled\":!_vm.validEntries()},on:{\"click\":_vm.saveContact}},[_vm._v(\"Save\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f94f16e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AddContact.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f94f16e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddContact.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddContact.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddContact.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f94f16e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddContact.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f94f16e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AddContact.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <v-content>\n      <v-container\n        fluid\n        fill-height\n        class=\"pl-1 pr-1 pt-2\"\n      >\n        <v-layout row>\n          <v-flex xs12>\n            <contacts/>\n          </v-flex>\n        </v-layout>\n      </v-container>\n    </v-content>\n\n    <v-btn\n      fab\n      bottom\n      right\n      color=\"pink\"\n      dark\n      fixed\n      @click.stop=\"toggleAddContact\"\n    >\n      <v-icon>add</v-icon>\n    </v-btn>\n\n    <!-- Add Contact Markup start -->\n    <add-contact\n      ref=\"add_contact_dialog\"\n    />\n    <!-- Add Contact Markup end -->\n  </div>\n</template>\n\n<script>\n  import Contacts from './Contacts.vue'\n  import AddContact from './AddContact.vue'\n\n  export default {\n    data: () => ({\n\n    }),\n    methods: {\n      toggleAddContact: function () {\n        this.$store.dispatch('toggleAddContact')\n        this.$nextTick(() => {\n          this.$refs.add_contact_dialog.$refs.fullName.focus()\n        })\n      }\n    },\n\n    components: {\n      AddContact,\n      Contacts\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-content',[_c('v-container',{staticClass:\"pl-1 pr-1 pt-2\",attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('contacts')],1)],1)],1)],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"fab\":\"\",\"bottom\":\"\",\"right\":\"\",\"color\":\"pink\",\"dark\":\"\",\"fixed\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.toggleAddContact($event)}}},[_c('v-icon',[_vm._v(\"add\")])],1),_vm._v(\" \"),_c('add-contact',{ref:\"add_contact_dialog\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08f26e39\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08f26e39\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-container',{staticClass:\"pl-1 pr-1 pt-2\",attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"pa-4\"},[_c('h3',[_vm._v(\"Frequently Accessed Contacts\")]),_vm._v(\" \"),_c('p',[_vm._v(\"To be implemented...\")])])])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-961dde22\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Frequent.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-961dde22\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Frequent.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Frequent.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Frequent.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-961dde22\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Frequent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-961dde22\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Frequent.vue\n// module id = null\n// module chunks = ","<template>\n  <v-content>\n    <v-container\n      fluid\n      fill-height\n      class=\"pl-1 pr-1 pt-2\"\n    >\n      <v-layout row>\n        <v-flex xs12>\n          <div\n            class=\"pa-4\"\n          >\n            <h3>Frequently Accessed Contacts</h3>\n            <p>To be implemented...</p>\n          </div>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </v-content>\n\n</template>\n\n<script>\n  export default {\n    name: 'frequent'\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Frequent.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-container',{staticClass:\"pl-1 pr-1 pt-2\",attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"pa-4\"},[_c('h3',[_vm._v(\"Duplicate Contacts\")]),_vm._v(\" \"),_c('p',[_vm._v(\"To be implemented...\")])])])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f401268\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Duplicates.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f401268\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Duplicates.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Duplicates.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Duplicates.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f401268\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Duplicates.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4f401268\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Duplicates.vue\n// module id = null\n// module chunks = ","<template>\n  <v-content>\n    <v-container\n      fluid\n      fill-height\n      class=\"pl-1 pr-1 pt-2\"\n    >\n      <v-layout row>\n        <v-flex xs12>\n          <div\n            class=\"pa-4\"\n          >\n            <h3>Duplicate Contacts</h3>\n            <p>To be implemented...</p>\n          </div>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </v-content>\n\n</template>\n\n<script>\n  export default {\n    name: 'duplicates'\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Duplicates.vue","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport Home from '../components/Home.vue'\nimport Frequent from '../components/Frequent.vue'\nimport Duplicates from '../components/Duplicates.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: Home,\n      redirect: '/contacts'\n    },\n    {\n      path: '/contacts',\n      name: 'contacts',\n      component: Home\n    },\n    {\n      path: '/frequent',\n      name: 'frequent',\n      component: Frequent\n    },\n    {\n      path: '/merge',\n      name: 'merge',\n      component: Duplicates\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export const SET_CONTACTS = 'SET_CONTACTS'\nexport const SET_NEW_CONTACT = 'SET_NEW_CONTACT'\nexport const TOGGLE_VIEW_CONTACT = 'TOGGLE_VIEW_CONTACT'\nexport const SET_VIEW_TRANSITION = 'SET_VIEW_TRANSITION'\nexport const TOGGLE_ADD_CONTACT = 'TOGGLE_ADD_CONTACT'\nexport const TOGGLE_EDIT_CONTACT = 'TOGGLE_EDIT_CONTACT'\nexport const TOGGLE_DELETE_CONTACT = 'TOGGLE_DELETE_CONTACT'\nexport const SET_SLIM = 'SET_SLIM'\nexport const TOGGLE_DRAWER = 'TOGGLE_DRAWER'\nexport const TOGGLE_SEARCH = 'TOGGLE_SEARCH'\nexport const SET_SELECTED = 'SET_SELECTED'\nexport const SET_ACTIVE_ID = 'SET_ACTIVE_ID'\nexport const TOGGLE_STAR = 'TOGGLE_STAR'\nexport const SET_TOOLTIPS = 'SET_TOOLTIPS'\nexport const SET_SNACKBAR = 'SET_SNACKBAR'\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","import * as types from './mutation-types'\nconst Modernizr = require('../../src/assets/js/modernizr-custom')\n\nexport const mutations = {\n  [types.SET_CONTACTS] (state, contactsPayload) {\n    state.contacts = contactsPayload\n  },\n\n  [types.SET_NEW_CONTACT] (state, newContact) {\n    state.new_contact = newContact\n  },\n\n  [types.TOGGLE_VIEW_CONTACT] (state) {\n    state.view_contact = !state.view_contact\n  },\n\n  [types.SET_VIEW_TRANSITION] (state, viewTransition) {\n    state.view_transition = viewTransition\n  },\n\n  [types.TOGGLE_ADD_CONTACT] (state) {\n    state.add_contact = !state.add_contact\n  },\n\n  [types.TOGGLE_EDIT_CONTACT] (state) {\n    state.edit_contact = !state.edit_contact\n  },\n\n  [types.TOGGLE_DELETE_CONTACT] (state) {\n    state.delete_contact = !state.delete_contact\n  },\n\n  [types.SET_SLIM] (state, slimPayload = {}) {\n    let {active = true, instance = null, contact = null} = slimPayload\n    state.slim.active = active\n    if (instance) state.slim.instance = instance\n    if (contact) state.slim.contact = contact\n  },\n\n  [types.TOGGLE_DRAWER] (state) {\n    state.drawer = !state.drawer\n  },\n\n  [types.TOGGLE_SEARCH] (state) {\n    state.search = !state.search\n  },\n\n  [types.SET_SELECTED] (state, selectedPayload) {\n    state.selected = selectedPayload\n  },\n\n  [types.SET_ACTIVE_ID] (state, activeId) {\n    state.active_id = activeId\n  },\n\n  [types.TOGGLE_STAR] (state, id) {\n    let contact = state.contacts.find((contact) => {\n      return contact.id === id\n    })\n    contact.starred = !contact.starred\n  },\n\n  [types.SET_TOOLTIPS] (state) {\n    state.tooltips = Modernizr.touchevents\n  },\n\n  [types.SET_SNACKBAR] (state, snackbar) {\n    let {color, message, active = true} = snackbar\n    state.snackbar.color = color\n    state.snackbar.message = message\n    state.snackbar.active = active\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import * as types from './mutation-types'\n\nexport const setContacts = ({commit}, contactsPayload) => {\n  commit(types.SET_CONTACTS, contactsPayload)\n}\n\nexport const setNewContact = ({commit}, newContact) => {\n  commit(types.SET_NEW_CONTACT, newContact)\n}\n\nexport const toggleViewContact = ({commit}) => {\n  commit(types.TOGGLE_VIEW_CONTACT)\n}\n\nexport const setViewTransition = ({commit}, viewTransition) => {\n  commit(types.SET_VIEW_TRANSITION, viewTransition)\n}\n\nexport const toggleAddContact = ({commit}) => {\n  commit(types.TOGGLE_ADD_CONTACT)\n}\n\nexport const toggleEditContact = ({commit}) => {\n  commit(types.TOGGLE_EDIT_CONTACT)\n}\n\nexport const toggleDeleteContact = ({commit}) => {\n  commit(types.TOGGLE_DELETE_CONTACT)\n}\n\nexport const setSlim = ({commit}, slimPayload) => {\n  commit(types.SET_SLIM, slimPayload)\n}\n\nexport const toggleDrawer = ({commit}) => {\n  commit(types.TOGGLE_DRAWER)\n}\n\nexport const toggleSearch = ({commit}) => {\n  commit(types.TOGGLE_SEARCH)\n}\n\nexport const setSelected = ({commit}, selectedPayload) => {\n  commit(types.SET_SELECTED, selectedPayload)\n}\n\nexport const setActiveId = ({commit}, activeId) => {\n  commit(types.SET_ACTIVE_ID, activeId)\n}\n\nexport const toggleStar = ({commit}, id) => {\n  commit(types.TOGGLE_STAR, id)\n}\n\nexport const setTooltips = ({commit}) => {\n  commit(types.SET_TOOLTIPS)\n}\n\nexport const setSnackbar = ({commit}, snackbar) => {\n  commit(types.SET_SNACKBAR, snackbar)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { mutations } from './mutations'\nimport * as actions from './actions'\n\nconst Modernizr = require('../../src/assets/js/modernizr-custom')\n\nVue.use(Vuex)\n\nconst state = {\n  contacts: [],\n  new_contact: {\n    id: null,\n    fullName: '',\n    dateOfBirth: '',\n    avatar: null,\n    emails: [{id: 0, value: '', label: ''}],\n    phones: [{id: 0, value: '', label: ''}],\n    addresses: [{id: 0, value: '', label: ''}],\n    starred: false,\n    hidden: false\n  },\n  view_contact: false,\n  add_contact: false,\n  edit_contact: false,\n  delete_contact: false,\n  active_id: null,\n  slim: {\n    active: false,\n    instance: null,\n    contact: null\n  },\n  drawer: null,\n  search: false,\n  tooltips: true,\n  colors: ['red', 'pink', 'purple', 'deep-purple', 'indigo', 'blue', 'cyan', 'teal', 'green', 'lime', 'amber', 'orange', 'deep-orange', 'brown', 'blue-grey', 'grey'],\n  view_transition: 'dialog-transition',\n  selected: [],\n  more_items: [\n    {icon: 'archive', title: 'Hide from contacts', name: 'Hide'},\n    {icon: 'delete', title: 'Delete', name: 'Delete'}\n  ],\n  icons: {\n    'emails': 'mail',\n    'addresses': 'location_on',\n    'phones': 'phone',\n    'Hide from contacts': 'archive',\n    'Delete': 'delete'\n  },\n  snackbar: {\n    active: false,\n    message: '',\n    color: '',\n    timeout: 6000\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions,\n  getters: {\n    getContacts: (state) => {\n      return state.contacts.filter(contact => !contact.hidden)\n    },\n    getNewContact: (state) => {\n      return state.new_contact\n    },\n    getSelected: (state) => {\n      return state.selected\n    },\n    getNumSelected: (state) => {\n      return state.selected.length\n    },\n    allSelected: (state) => {\n      return state.selected.length === state.contacts.length\n    },\n    getActiveId: (state) => {\n      return state.active_id\n    },\n    getActiveContact: (state) => {\n      return state.contacts.find((contact) => {\n        return contact.id === state.active_id\n      })\n    },\n    getMoreItems: (state) => {\n      return state.more_items\n    },\n    disableTooltip: () => {\n      return Modernizr.touchevents\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport Vuetify from 'vuetify'\nimport VueCookie from 'vue-cookie'\nimport store from './store'\n\nimport 'jquery'\nimport 'vuetify/dist/vuetify.css'\nimport 'intl-tel-input/build/css/intlTelInput.css'\nimport '../src/assets/css/index.css'\n\nVue.use(Vuetify)\nVue.use(VueCookie)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/*! modernizr 3.5.0 (Custom Build) | MIT *\n * https://modernizr.com/download/?-touchevents-setclasses ! */\n!(function (e, n, t) { function o (e, n) { return typeof e === n } function s () { var e, n, t, s, a, i, r; for (var l in c) if (c.hasOwnProperty(l)) { if (e = [], n = c[l], n.name && (e.push(n.name.toLowerCase()), n.options && n.options.aliases && n.options.aliases.length)) for (t = 0; t < n.options.aliases.length; t++)e.push(n.options.aliases[t].toLowerCase()); for (s = o(n.fn, 'function') ? n.fn() : n.fn, a = 0; a < e.length; a++)i = e[a], r = i.split('.'), r.length === 1 ? Modernizr[r[0]] = s : (!Modernizr[r[0]] || Modernizr[r[0]] instanceof Boolean || (Modernizr[r[0]] = new Boolean(Modernizr[r[0]])), Modernizr[r[0]][r[1]] = s), f.push((s ? '' : 'no-') + r.join('-')) } } function a (e) { var n = u.className, t = Modernizr._config.classPrefix || ''; if (p && (n = n.baseVal), Modernizr._config.enableJSClass) { var o = new RegExp('(^|\\\\s)' + t + 'no-js(\\\\s|$)'); n = n.replace(o, '$1' + t + 'js$2') }Modernizr._config.enableClasses && (n += ' ' + t + e.join(' ' + t), p ? u.className.baseVal = n : u.className = n) } function i () { return typeof n.createElement !== 'function' ? n.createElement(arguments[0]) : p ? n.createElementNS.call(n, 'http://www.w3.org/2000/svg', arguments[0]) : n.createElement.apply(n, arguments) } function r () { var e = n.body; return e || (e = i(p ? 'svg' : 'body'), e.fake = !0), e } function l (e, t, o, s) { var a, l, f, c, d = 'modernizr', p = i('div'), h = r(); if (parseInt(o, 10)) for (;o--;)f = i('div'), f.id = s ? s[o] : d + (o + 1), p.appendChild(f); return a = i('style'), a.type = 'text/css', a.id = 's' + d, (h.fake ? h : p).appendChild(a), h.appendChild(p), a.styleSheet ? a.styleSheet.cssText = e : a.appendChild(n.createTextNode(e)), p.id = d, h.fake && (h.style.background = '', h.style.overflow = 'hidden', c = u.style.overflow, u.style.overflow = 'hidden', u.appendChild(h)), l = t(p, e), h.fake ? (h.parentNode.removeChild(h), u.style.overflow = c, u.offsetHeight) : p.parentNode.removeChild(p), !!l } var f = [], c = [], d = {_version: '3.5.0', _config: {classPrefix: '', enableClasses: !0, enableJSClass: !0, usePrefixes: !0}, _q: [], on: function (e, n) { var t = this; setTimeout(function () { n(t[e]) }, 0) }, addTest: function (e, n, t) { c.push({name: e, fn: n, options: t}) }, addAsyncTest: function (e) { c.push({name: null, fn: e}) }}, Modernizr = function () {}; Modernizr.prototype = d, Modernizr = new Modernizr(); var u = n.documentElement, p = u.nodeName.toLowerCase() === 'svg', h = d._config.usePrefixes ? ' -webkit- -moz- -o- -ms- '.split(' ') : ['', '']; d._prefixes = h; var m = d.testStyles = l; Modernizr.addTest('touchevents', function () { var t; if ('ontouchstart' in e || e.DocumentTouch && n instanceof DocumentTouch)t = !0; else { var o = ['@media (', h.join('touch-enabled),('), 'heartz', ')', '{#modernizr{top:9px;position:absolute}}'].join(''); m(o, function (e) { t = e.offsetTop === 9 }) } return t }), s(), a(f), delete d.addTest, delete d.addAsyncTest; for (var v = 0; v < Modernizr._q.length; v++)Modernizr._q[v](); e.Modernizr = Modernizr }(window, document))\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/modernizr-custom.js"],"sourceRoot":""}